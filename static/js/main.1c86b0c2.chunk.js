(this["webpackJsonptee-app"]=this["webpackJsonptee-app"]||[]).push([[0],{249:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(104),s=a(1),c=a.n(s),i=a(49),o=a.n(i),l=a(9),d=a(15),u=a(6),b=a(17),m=a(24),x=Object(b.b)({name:"chats",initialState:[],reducers:{addChat:function(e,t){e.some((function(e){return e.id===t.payload.id}))||e.push(t.payload)},editChat:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a.id}));n>=0?(e[n].name=a.name,e[n].participants=a.participants):e.push(a)},editGroupAvatar:function(e,t){var a,n=t.payload.chatId,r=e.findIndex((function(e){return e.id===n}));r>=0&&(e[r].groupAvatarUrl=null===(a=t.payload)||void 0===a?void 0:a.groupAvatarUrl)},addReadByUserName:function(e,t){var a=t.payload,n=a.chatId,r=a.readByUserName,s=e.findIndex((function(e){return e.id===n}));s>=0&&(e[s].readByUserNames.includes(r)||e[s].readByUserNames.push(r))},appendMessageToChat:function(e,t){var a=t.payload,n=null===a||void 0===a?void 0:a.messages,r=e.findIndex((function(e){return e.id===a.id}));r>=0&&(e[r].totalRecords=a.totalRecords,e[r].limit=a.limit,e[r].page=a.page,e[r].pageCount=a.pageCount,a.keyword?e[r].messages=n:e[r].messages=e[r].messages.concat(n))},refreshChats:function(e,t){var a;return null!==(a=t.payload)&&void 0!==a?a:[]},addMessage:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a.chatId}));n>=0&&(e[n].messages.push(null===a||void 0===a?void 0:a.message),e[n].readByUserNames=[null===a||void 0===a?void 0:a.SenderUserName])},addNotification:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));n>=0&&(e[n].numOfUnreadMessages+=1)},readChat:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));n>=0&&(e[n].numOfUnreadMessages=0)}}}),j=Object(b.b)({name:"selectedIds",initialState:[],reducers:{addSelectedId:function(e,t){if(!e.includes(t.payload)&&e.length>3)return e.shift(),e.push(t.payload),e}}}),f=Object(m.b)({chats:x.reducer,selectedIds:j.reducer}),p=x.actions,v=p.addChat,h=p.editChat,g=p.refreshChats,O=p.addMessage,N=(p.appendMessageToChat,p.editGroupAvatar),w=(p.readChat,p.addNotification),k=p.addReadByUserName,y=j.actions.addSelectedId,C=f,A=Object(b.b)({name:"isLoading",initialState:!1,reducers:{setIsLoading:function(e,t){return t.payload}}}),S=Object(b.b)({name:"popup",initialState:{isOpen:!1,content:"",title:"Notification"},reducers:{setPopup:function(e,t){return t.payload}}}),I=Object(b.b)({name:"notifications",initialState:{items:[]},reducers:{addNotification:function(e,t){var a;null===e||void 0===e||null===(a=e.items)||void 0===a||a.push(t.payload)},loadNotification:function(e,t){if(t.payload.page>e.page){var a=t.payload;e.totalRecords=a.totalRecords,e.limit=a.limit,e.page=a.page,e.pageCount=a.pageCount,e.items=e.items.concat(a.items)}},readAllNotification:function(e,t){var a,n;null===e||void 0===e||null===(a=e.items)||void 0===a||null===(n=a.filter((function(e){return!e.isRead})))||void 0===n||n.forEach((function(e){return e.isRead=!0}))},readNotificationById:function(e,t){var a,n=t.payload,r=null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));r>=0&&(e.items[r].isRead=!0)},refreshNotification:function(e,t){return t.payload}}}),F=Object(m.b)({isLoading:A.reducer,popup:S.reducer,notifications:I.reducer}),E=A.actions.setIsLoading,U=S.actions.setPopup,R=I.actions,L=R.addNotification,M=R.refreshNotification,P=R.readAllNotification,B=R.readNotificationById,D=R.loadNotification,z=F,T=Object(b.b)({name:"currentUser",initialState:{},reducers:{setCurrentUser:function(e,t){return t.payload}}}),H=Object(b.b)({name:"onlineUserNameList",initialState:[],reducers:{updateOnlineUserNameList:function(e,t){return t.payload}}}),Y=Object(m.b)({currentUser:T.reducer,onlineUserNameList:H.reducer}),q=T.actions.setCurrentUser,G=H.actions.updateOnlineUserNameList,W=Y,V=Object(b.b)({name:"newPostTotal",initialState:0,reducers:{addNewPost:function(e){return e+1},resetNewPost:function(){return 0}}}),K=Object(b.b)({name:"posts",initialState:{items:[]},reducers:{refreshPost:function(e,t){return t.payload},addPost:function(e,t){var a,n=t.payload;e.items.some((function(e){return e.id===n.id}))||(null===e||void 0===e||null===(a=e.items)||void 0===a||a.push(n))},updatePost:function(e,t){var a,n=t.payload,r=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n.id}));r>=0?(e.items[r].photos=n.photos,e.items[r].content=n.content,e.items[r].privacy=n.privacy):e.push(n)},deletePost:function(e,t){var a,n=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===t.payload}));n>=0&&e.items.splice(n,1)},loadPost:function(e,t){if(t.payload.page>e.page){var a=t.payload;e.totalRecords=a.totalRecords,e.limit=a.limit,e.page=a.page,e.pageCount=a.pageCount,e.items=e.items.concat(a.items)}},addReaction:function(e,t){var a=t.payload.postId,n=t.payload.reaction;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));s>=0&&e.items[s].reactions.push(n)}},updateReaction:function(e,t){var a=t.payload.postId,n=t.payload.reaction;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===n.id}));i>=0&&(e.items[s].reactions[i].type=n.type)}}},deleteReaction:function(e,t){var a=t.payload.postId,n=t.payload.reactionId;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===n}));if(i>=0)return e.items[s].reactions.splice(i,1),e}}},addComment:function(e,t){var a=t.payload.postId,n=t.payload.comment;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));s>=0&&e.items[s].comments.push(n)}},updateComment:function(e,t){var a=t.payload.postId,n=t.payload.comment;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===n.id}));i>=0&&(e.items[s].comments[i].content=n.content)}}},deleteComment:function(e,t){var a=t.payload.postId,n=t.payload.commentId;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===n}));if(i>=0)return e.items[s].comments.splice(i,1),e}}}}}),Z=Object(m.b)({posts:K.reducer,newPostTotal:V.reducer}),J=K.actions,Q=J.refreshPost,X=J.addPost,_=J.updatePost,$=J.deletePost,ee=J.addReaction,te=J.updateReaction,ae=J.deleteReaction,ne=J.addComment,re=J.updateComment,se=J.deleteComment,ce=J.loadPost,ie=V.actions,oe=ie.addNewPost,le=ie.resetNewPost,de={chats:C,app:z,users:W,posts:Z},ue=Object(b.a)({reducer:de}),be=a(2),me=a.p+"static/media/logo-shadow.3faacd46.png",xe=a(0),je=function(e){var t,a=e.className,n=e.isOpen,r=void 0===n||n,c="h-3 w-3 bg-gradient-to-br from-green-300 to-green-600 shadow-md rounded-full",i=Object(s.useState)(!1),o=Object(be.a)(i,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){return function(){d(!0)}}),[]),r&&Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"z-50 animate-fadeIn flex flex-col h-screen w-screen justify-center items-center fixed transition-base bg-white dark:bg-dark-secondary"+(l?" hidden":"")+(null!==(t=" "+a)&&void 0!==t?t:""),children:[Object(xe.jsx)("img",{src:me,className:"w-20 h-20 mb-10",alt:"logo"}),Object(xe.jsxs)("div",{className:"flex-center transition-base",children:[Object(xe.jsx)("div",{className:"".concat(c," mr-3 animate-bounce")}),Object(xe.jsx)("div",{className:"".concat(c," mr-3 animate-bounce200")}),Object(xe.jsx)("div",{className:"".concat(c," animate-bounce400")})]})]})})};var fe=function(e){var t=e.outline,a=void 0!==t&&t,n=e.content,r=e.className,s=e.onClick,c=e.onBlur,i=e.disabled,o=e.children,l=e.secondary,d=e.small,u=l?"bg-gray-200 hover:bg-gray-300 active:bg-gray-400 dark:bg-dark-third dark:hover:bg-dark-hover":"bg-gradient-to-br from-green-400 to-green-600 text-white active:from-green-500 active:to-green-600",b=l?"":"ring-inset ring-1 ring-green-500 bg-white dark:bg-transparent dark:hover:bg-green-500 text-green-500 hover:text-white hover:bg-green-400 active:bg-green-500";return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("button",{disabled:i,onClick:s,onBlur:c,className:" transition-base text-sm md:text-base duration-200 disabled:opacity-50 outline-none z-0 select-none font-semibold "+(a?b:u)+" "+(null!==r&&void 0!==r?r:"")+" "+(d?"px-3 py-1 rounded":"rounded-lg px-4 py-2 min-w-70")+" "+(i?"cursor-default":"active:scale-95 active:transform"),children:n||o})})},pe=function(e){Object(s.useEffect)((function(){return document.body.style.overflowY=e?"hidden":"unset",function(){document.body.style.overflowY="unset"}}),[e])};var ve=function(e){var t=e.title,a=void 0===t?"Notification":t,n=e.isOpen,r=e.content,s=void 0===r?"Oops! Something went wrong!":r,c=e.onClick;return pe(n),n&&Object(xe.jsx)("div",{className:"px-4 flex-center overlay",style:{margin:0},children:Object(xe.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary md:py-8 md:px-8 py-4 px-5  w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-8 shadow-2xl border border-gray-300 dark:border-dark-third",children:[Object(xe.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:a}),Object(xe.jsx)("span",{className:"break-words dark:text-dark-txt",children:s}),Object(xe.jsx)("div",{className:"w-full flex justify-end",children:Object(xe.jsx)(fe,{content:"Close",onClick:c})})]})})},he=a.p+"static/media/forbid.e276990e.svg";var ge=function(e){var t=e.message;return Object(xe.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(xe.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:he,alt:"Error"}),Object(xe.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"You don't have permission to access this resources"}),Object(xe.jsx)(l.b,{to:"/",children:Object(xe.jsx)(fe,{content:"Return home page"})})]})},Oe=a.p+"static/media/not-found.efbefd9e.svg";var Ne=function(e){var t=e.message;return Object(xe.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(xe.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:Oe,alt:"Error"}),Object(xe.jsx)("span",{className:" font-bold text-xl md:text-3xl text-center",children:null!==t&&void 0!==t?t:"Not found resources"}),Object(xe.jsx)(l.b,{to:"/",children:Object(xe.jsx)(fe,{content:"Return home page"})})]})},we=a.p+"static/media/server-error.0bee07d2.svg";var ke=function(e){var t=e.message;return Object(xe.jsxs)("div",{className:"z-10 fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(xe.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:we,alt:"Error"}),Object(xe.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"Oops! Something went wrong!"}),Object(xe.jsx)(l.b,{to:"/",children:Object(xe.jsx)(fe,{content:"Return home page"})})]})},ye=a(8),Ce=a.p+"static/media/default-avatar.ae67bd1e.jpg";function Ae(e){var t,a,n,r=e.src,s=void 0===r?Ce:r,c=e.className,i=void 0===c?"":c,o=e.parentClassName,l=void 0===o?"":o,d=e.alt,b=void 0===d?"Avatar":d,m=e.size,x=void 0===m?"md":m,j=e.userName,f=void 0===j?"":j,p=e.participants,v=e.onClick,h=Object(u.c)((function(e){return e.users.onlineUserNameList})),g=Object(u.c)((function(e){return e.users.currentUser})),O=f===g.userName,N=!1;switch(O||(f?N=h.includes(f):p&&(N=p.filter((function(e){return e.userName!==g.userName})).map((function(e){return e})).some((function(e){return h.includes(e.userName)})))),x){case"xs":a="w-2 h-2";break;case"sm":a="md:w-3 md:h-3 w-2 h-2 md:border-2 border";break;case"lg":a="border-2 w-4 h-4";break;case"xl":a="border-2 w-5 h-5";break;case"full":a="border-4 w-1/5 h-1/5";break;default:a="border-2 md:w-4 md:h-4 h-3 w-3"}switch(x){case"xs":n="h-5 w-5 md:h-6 md:w-6";break;case"sm":n="h-6 w-6 md:h-8 md:w-8";break;case"lg":n="h-14 w-14 md:h-16 md:w-16";break;case"xl":n="h-20 w-20 md:h-24 md:w-24";break;case"full":n="h-full w-full";break;default:n="h-10 w-10 md:h-12 md:w-12"}return Object(xe.jsxs)("div",{className:"relative flex-shrink-0 ".concat(l),children:[Object(xe.jsx)("img",{onClick:v,className:null!==(t=n+" select-none bg-white rounded-full object-cover flex-shrink-0 "+i)&&void 0!==t?t:"",src:s&&""!==s?s:Ce,alt:b}),(O||N)&&Object(xe.jsx)("span",{className:"absolute bg-green-500 dark:bg-green-400 bottom-0 right-0 rounded-full border-white dark:border-black "+a})]})}var Se=c.a.memo(Ae),Ie=a.p+"static/media/spinner.5952382b.svg";var Fe=function(){return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("img",{src:Ie,alt:"spinner",className:"animate-spin w-7 h-7"})})};var Ee=function(e){var t=e.isHasMore,a=e.isLoading,n=e.error,r=e.onClick,s=e.loadMoreContent,c=void 0===s?"Load more...":s,i=e.loadMoreClassName,o=void 0===i?"":i,l=e.className,d=void 0===l?"":l;return Object(xe.jsxs)("div",{className:d,children:[t&&!a&&Object(xe.jsx)("div",{className:"flex",children:Object(xe.jsx)("button",{className:"mx-auto px-4 bg-gray-100 py-2 rounded-lg transform active:scale-95 hover:bg-gray-200 dark:hover:bg-dark-hover dark:bg-dark-third dark:text-gray-300 text-xs md:text-sm transition-all duration-200 "+o,onClick:r,children:c})}),a&&Object(xe.jsx)("div",{className:"flex justify-center mt-2",children:Object(xe.jsx)(Fe,{})}),n&&Object(xe.jsx)("div",{className:"text-red-500 text-center ",children:n})]})},Ue=a.p+"static/media/default-cover.1aa0fb86.jpg",Re=a(5),Le=a.n(Re),Me=a(10),Pe=1048576,Be=50,De=50,ze=50,Te="No name",He="Unknown",Ye="ReceiveMessage",qe="ReceiveChat",Ge="ReceiveUpdatedChat",We="ReceiveUpdatedGroupAvatar",Ve="ReceiveAddReadByUserName",Ke="ReceiveUpdatedOnlineUserNameList",Ze="ReceivePost",Je="ReceiveUpdatedPost",Qe="DeletePost",Xe="ReceiveComment",_e="ReceiveUpdatedComment",$e="DeleteComment",et="ReceiveReaction",tt="ReceiveUpdatedReaction",at="DeleteReaction",nt="ReceiveNotification",rt=a(98),st=a.n(rt),ct=a(99),it=a.n(ct);function ot(){var e=Object(u.b)(),t=Object(d.g)(),a=st.a.create({baseURL:"https://teeappapi.azurewebsites.net/api",timeout:3e5,headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return it.a.stringify(e)}});function r(t,a){e(U({isOpen:!0,title:t,content:a}))}return a.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r=t,a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.interceptors.response.use((function(t){return e(E(!1)),t&&t.data?t.data:t}),(function(a){var n,s,c,i,o,l,d,u;e(E(!1));var b="string"===typeof(null===(n=a.response)||void 0===n?void 0:n.data)?null===(s=a.response)||void 0===s?void 0:s.data:"Oops, something went wrong! Please contact administrator.";if(a.response){var m="Notification";switch(a.response.status){case 401:m="Login required",window.localStorage.removeItem("token"),window.location.href="/TeeApp/";break;case 403:m="Forbidden",null===t||void 0===t||t.push("/ForBid");break;case 500:m="Server error",null===t||void 0===t||t.push("/ServerError");break;default:return(b=(null===(c=a.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.errors)?function(e){for(var t="",a=0,n=Object.values(e);a<n.length;a++){var r=n[a];t+="".concat(r.toString(),", ")}return t=t.substring(0,t.length-2)}(null===(o=a.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errors):b).toLowerCase().includes("username or password")||r(m,b),Promise.reject(null===(d=a.response)||void 0===d?void 0:d.data)}}return b.toLowerCase().includes("username or password")||r(m,b),b.toLowerCase().includes("Unable to identify user")&&(r(m,b),window.localStorage.removeItem("token"),window.location.href="/TeeApp/"),null===t||void 0===t||t.push("/ServerError"),Promise.reject(null===a||void 0===a||null===(u=a.response)||void 0===u?void 0:u.data)})),a}var lt="/posts";function dt(){var e=ot(),t=Object(u.b)();return{getAll:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:De}));var r="".concat(lt);return e.get(r,{params:t})},getNewsFeed:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:De}));var r="".concat(lt,"/newsFeed");return e.get(r,{params:t})},getByUserName:function(t,a){var r;(null===(r=a)||void 0===r?void 0:r.limit)||(a=Object(n.a)(Object(n.a)({},a),{},{limit:De}));var s="users/".concat(t,"/posts");return e.get(s,{params:a})},getById:function(a){t(E(!0));var n="".concat(lt,"/").concat(a);return e.get(n)},addPost:function(a){t(E(!0));var n="".concat(lt);return e.post(n,a)},updatePost:function(a,n){t(E(!0));var r="".concat(lt,"/").concat(a);return e.put(r,n)},deletePost:function(a){t(E(!0));var n="".concat(lt,"/").concat(a);return e.delete(n)},addPhoto:function(a,r){t(E(!0));var s="".concat(lt,"/").concat(a,"/photos");return e.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,r)},deletePhoto:function(a,n){t(E(!0));var r="".concat(lt,"/").concat(a,"/photos/").concat(n);return e.delete(r)},addReaction:function(t,a){var n="".concat(lt,"/").concat(t,"/reactions");return e.post(n,a)},updateReaction:function(t,a){var n="".concat(lt,"/").concat(t,"/reactions");return e.put(n,a)},deleteReaction:function(t){var a="".concat(lt,"/").concat(t,"/reactions");return e.delete(a)},addComment:function(t,a){var n="".concat(lt,"/").concat(t,"/comments");return e.post(n,a)},updateComment:function(t,a,n){var r="".concat(lt,"/").concat(t,"/comments/").concat(a);return e.put(r,n)},deleteComment:function(t,a){var n="".concat(lt,"/").concat(t,"/comments/").concat(a);return e.delete(n)}}}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(s.useState)(!1),n=Object(be.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),o=Object(be.a)(i,2),l=o[0],d=o[1],b=Object(u.c)((function(e){return e.posts.posts})),m=Object(s.useState)(!0),x=Object(be.a)(m,2),j=x[0],f=x[1],p=dt(),v=Object(u.b)();return Object(s.useEffect)((function(){(j&&e||1===e.page)&&(c(!0),d(!1),t?p.getByUserName(t,{page:e.page}).then((function(t){e.page>1?v(ce(t)):v(Q(t)),f(e.page<t.pageCount),c(!1)})).catch((function(e){d(e)})):p.getNewsFeed({page:e.page}).then((function(t){e.page>1?v(ce(t)):v(Q(t)),f(e.page<t.pageCount),c(!1)})).catch((function(e){d(e)})))}),[e]),{posts:b,isLoading:r,error:l,isHasMore:j}}var bt=a.p+"static/media/image-icon.c8ad9f46.svg";var mt,xt,jt,ft,pt,vt,ht=function(e){var t=e.className,a=e.colorClass,n=e.icon,r=e.iconClass,s=e.colorIconClass,c=e.alt,i=e.onClick,o=e.onBlur,l=e.secondMode,d=e.reverse,u=e.innerRef,b=l?"clickable dark:border-dark-third":"clickable-secondary bg-gray-100 dark:bg-dark-third ";return b=d?"dark:bg-gray-100 dark:hover:bg-gray-200 dark:active:bg-gray-300 bg-dark-third hover:bg-dark-hover border-dark-third active:bg-dark-third":b,a=a&&""!==a?a:b,s=s&&""!==s?s:"text-black dark:text-dark-txt",s=d?"dark:text-black text-white":s,Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("div",{ref:u,onBlur:o,onClick:i,className:"p-1 flex items-center justify-center rounded-full transition-base cursor-pointer active:scale-90 active:transform select-none flex-shrink-0  "+a+" "+(null!==t&&void 0!==t?t:""),children:n?Object(xe.jsx)("img",{alt:null!==c&&void 0!==c?c:"Clickable Icon",src:n,onClick:i,className:"w-full align-middle"}):Object(xe.jsx)("i",{className:"text-center align-middle text-xl w-7 h-7  "+s+" "+r})})})},gt=a(36),Ot=a.n(gt),Nt=function(e,t,a){Object(s.useEffect)((function(){var n=function(n){e&&a.current&&!a.current.contains(n.target)&&t(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])},wt=function(e){function t(t){27===t.keyCode&&e(!1)}Object(s.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[])},kt=a(11),yt=a.p+"static/media/angry.5d2c62b0.svg",Ct=a.p+"static/media/care.d36c2862.svg",At=a.p+"static/media/haha.e568dfbb.svg",St=a.p+"static/media/like.3708582e.svg",It=a.p+"static/media/love.12a18842.svg",Ft=a.p+"static/media/sad.c7d5223e.svg",Et=a.p+"static/media/wow.df119310.svg",Ut=1,Rt=2,Lt=0,Mt=1,Pt=2,Bt=3,Dt={MALE:0,FEMALE:1,OTHER:2},zt=(mt={},Object(kt.a)(mt,Dt.MALE,"Male"),Object(kt.a)(mt,Dt.FEMALE,"Female"),Object(kt.a)(mt,Dt.OTHER,"Other"),mt),Tt=0,Ht=1,Yt=2,qt=3,Gt=4,Wt={PUBLIC:0,FRIEND:2,PRIVATE:1},Vt=(xt={},Object(kt.a)(xt,Wt.PUBLIC,"Public"),Object(kt.a)(xt,Wt.FRIEND,"Friend"),Object(kt.a)(xt,Wt.PRIVATE,"Private"),xt),Kt=(jt={},Object(kt.a)(jt,Wt.PUBLIC,"fas fa-globe-asia"),Object(kt.a)(jt,Wt.FRIEND,"fas fa-user-friends"),Object(kt.a)(jt,Wt.PRIVATE,"bx bxs-lock-alt"),jt),Zt={LIKE:0,LOVE:1,CARE:2,HAHA:4,WOW:3,SAD:5,ANGRY:6},Jt=(ft={},Object(kt.a)(ft,Zt.LIKE,"Like"),Object(kt.a)(ft,Zt.LOVE,"Love"),Object(kt.a)(ft,Zt.CARE,"Care"),Object(kt.a)(ft,Zt.HAHA,"Haha"),Object(kt.a)(ft,Zt.WOW,"Wow"),Object(kt.a)(ft,Zt.SAD,"Sad"),Object(kt.a)(ft,Zt.ANGRY,"Angry"),ft),Qt=(pt={},Object(kt.a)(pt,Zt.LIKE,St),Object(kt.a)(pt,Zt.LOVE,It),Object(kt.a)(pt,Zt.CARE,Ct),Object(kt.a)(pt,Zt.HAHA,At),Object(kt.a)(pt,Zt.WOW,Et),Object(kt.a)(pt,Zt.SAD,Ft),Object(kt.a)(pt,Zt.ANGRY,yt),pt),Xt=(vt={},Object(kt.a)(vt,Zt.LIKE,"text-blue-600 dark:text-blue-400 "),Object(kt.a)(vt,Zt.LOVE,"text-pink-600"),Object(kt.a)(vt,Zt.HAHA,"text-yellow-500"),Object(kt.a)(vt,Zt.CARE,"text-yellow-500"),Object(kt.a)(vt,Zt.WOW,"text-yellow-500"),Object(kt.a)(vt,Zt.SAD,"text-yellow-500"),Object(kt.a)(vt,Zt.ANGRY,"text-yellow-600"),vt);var _t=function(){var e=Object(u.c)((function(e){return e.users.currentUser})),t=Object(s.useState)(""),a=Object(be.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(Wt.PUBLIC),i=Object(be.a)(c,2),o=i[0],d=i[1],b=Object(s.useState)([]),m=Object(be.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)({}),p=Object(be.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)(!1),O=Object(be.a)(g,2),N=O[0],w=O[1],k=Object(s.useState)(!1),y=Object(be.a)(k,2),C=y[0],A=y[1],S=Object(s.useState)(!1),I=Object(be.a)(S,2),F=I[0],E=I[1],U=Object(s.useState)(!1),R=Object(be.a)(U,2),L=R[0],M=R[1],P=Object(s.useRef)(),B=Object(s.useRef)(),D=Object(s.useRef)(),z=dt(),T=Object(u.b)();return pe(F),Nt(L,M,B),Nt(F,E,P),Nt(N,w,D),wt(E),Object(s.useEffect)((function(){n.trim()||x.length>0?A(!0):A(!1)}),[n,x]),Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)("div",{className:"max-w-xl md:min-w-500 min-w-200 w-full bg-white dark:bg-dark-secondary rounded-xl shadow px-4 pt-3 pb-1 space-y-3 divide-y",children:[Object(xe.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===e||void 0===e?void 0:e.userName),children:Object(xe.jsx)(Se,{src:null===e||void 0===e?void 0:e.avatarUrl})}),Object(xe.jsx)("div",{onClick:function(){return E(!0)},className:"w-full",children:Object(xe.jsx)("input",{disabled:!0,type:"text",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?"),className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative placeholder-gray-500 dark:placeholder-dark-txt hover:bg-gray-200 dark:hover:bg-dark-hover cursor-pointer text-sm md:text-base"})})]}),Object(xe.jsxs)("div",{className:"w-full text-center flex justify-between select-none cursor-pointer py-1 border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold",children:[Object(xe.jsxs)("span",{className:"flex-1 p-1 md:py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base flex items-center justify-center space-x-2 text-sm md:text-base",onClick:function(){return E(!0)},children:[Object(xe.jsx)("img",{src:bt,alt:"Image icon",className:"md:w-6 md:h-6 w-4 h-4"}),Object(xe.jsx)("span",{children:"Your Photos"})]}),Object(xe.jsxs)("span",{className:"flex-1 p-1 md:py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base text-sm md:text-base",onClick:function(){return E(!0)},children:[Object(xe.jsx)("i",{className:"far fa-smile-beam mr-2 md:text-xl align-middle text-green-500 dark:text-green-400"}),"Your Feeling"]})]})]}),F&&Object(xe.jsx)("div",{className:"overlay px-4 py-10 z-30 grid place-items-center",style:{margin:0},children:Object(xe.jsxs)("div",{className:"flex-center flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full animate-swipeDown overflow-x-auto ",ref:P,children:[v.isOpen&&Object(xe.jsx)(ve,{title:"Notification",isOpen:v.isOpen,content:v.content,onClick:function(){return h({isOpen:!1})}}),Object(xe.jsxs)("div",{className:"relative font-bold text-center text-lg md:text-xl py-4 border-b dark:border-gray-600 w-full",children:["Create post",Object(xe.jsx)(ht,{onClick:function(){return E(!1)},iconClass:"bx bx-x",className:"absolute bg-white right-3 top-3 animate-swipeUp"})]}),Object(xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),z.addPost({content:n,privacy:o}).then((function(e){e.id&&x.forEach((function(t){var a=new FormData;a.append("Image",t),a.append("Caption","Post photo"),z.addPhoto(e.id,a)})),z.getById(e.id).then((function(e){T(X(e))}))})),E(!1),r(""),j([])},className:"flex flex-col items-start w-full px-6 space-y-4 py-4",children:[Object(xe.jsxs)("div",{className:"flex space-x-2",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(e.userName),children:Object(xe.jsx)(Se,{src:e.avatarUrl,userName:e.userName})}),Object(xe.jsxs)("div",{className:"flex flex-col justify-between space-y-1",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(e.userName),children:e.fullName}),Object(xe.jsxs)("div",{className:"relative select-none",children:[Object(xe.jsxs)("div",{className:"p-1 px-2 flex justify-between items-center text-xs bg-gray-200 dark:bg-dark-hover rounded cursor-pointer ",onClick:function(){return w(!0)},children:[Object(xe.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(xe.jsx)("i",{className:Kt[o]}),Object(xe.jsx)("span",{children:Vt[o]})]}),Object(xe.jsx)("i",{className:"bx bx-caret-down ml-1"})]}),N&&Object(xe.jsx)("div",{className:"animate-fadeIn absolute w-full top-full transform translate-y-1 left-0 bg-gray-100 dark:bg-dark-third rounded p-1 text-sm",ref:D,children:Object.values(Wt).map((function(e){return Object(xe.jsxs)("div",{onClick:function(){d(e),w(!1)},className:"cursor-pointer hover:bg-gray-200 dark:hover:bg-dark-hover p-1 px-2 rounded duration-150 w-full space-x-2",children:[Object(xe.jsx)("i",{className:Kt[e]}),Object(xe.jsx)("span",{children:Vt[e]})]})}))})]})]})]}),Object(xe.jsx)("textarea",{value:n,onChange:function(e){return r(e.target.value)},rows:"3",className:"w-full text-lg md:text-2xl placeholder-gray-500 dark:placeholder-dark-txt focus:placeholder-gray-300 dark:focus:placeholder-dark-hover outline-none transition-base bg-white dark:bg-dark-secondary resize-none",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?")}),Object(xe.jsxs)("div",{ref:B,className:"relative w-full flex justify-end",children:[Object(xe.jsx)(ht,{secondMode:!0,iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return M(!L)}}),L&&Object(xe.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(xe.jsx)(Ot.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&r(n+(null===t||void 0===t?void 0:t.emoji))}})})]}),Object(xe.jsxs)("div",{className:"w-full max-w-xs md:max-w-max overflow-x-auto flex space-x-2 select-none pb-2",children:[Object(xe.jsx)("input",{hidden:!0,id:"imageFiles",type:"file",multiple:!0,onChange:function(e){return function(e){var t=!0,a=[].concat(Object(ye.a)(x),Object(ye.a)(e));a.length>10&&(h({content:"Please select maximum 10 images!",isOpen:!0}),t=!1),a.forEach((function(e){e.size>Pe&&(h({content:"Please upload less than 1MB for each file!",isOpen:!0}),t=!1)})),t&&j(a)}(e.target.files)},accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg"}),Object(xe.jsx)("label",{htmlFor:"imageFiles",className:"cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:active:bg-gray-700 rounded-xl flex-center transition-base flex-shrink-0",children:Object(xe.jsx)("i",{className:"bx bxs-image-add text-4xl"})}),x.length>0&&x.map((function(e,t){return Object(xe.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(xe.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview"}),Object(xe.jsx)(ht,{onClick:function(){return function(e){if(e>=0&&e<x.length){var t=Object(ye.a)(x);t.splice(e,1),j(t)}}(t)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"imageFiles"+t)}))]}),Object(xe.jsx)(fe,{disabled:!C,className:"w-full font-semibold",children:"Post"})]})]})})]})};var $t=function(e){var t=e.title,a=e.isOpen,n=e.content,r=void 0===n?"Are you sure?":n,s=e.closeAction,c=e.confirmButtonTitle,i=e.confirmButtonAction;return pe(a),a&&Object(xe.jsx)("div",{className:"px-4 overlay flex-center ",style:{margin:0},children:Object(xe.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary dark:border-dark-third md:py-8 md:px-8 py-4 px-5 w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-8 shadow-2xl border border-gray-300",children:[Object(xe.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:""!==t?t:"Notification"}),Object(xe.jsx)("span",{className:"break-words dark:text-dark-txt",children:r}),Object(xe.jsxs)("div",{className:"w-full flex justify-end space-x-2",children:[Object(xe.jsx)(fe,{outline:!0,content:"No",onClick:s}),Object(xe.jsx)(fe,{content:null!==c&&void 0!==c?c:"Ok",onClick:function(){i(),s()}})]})]})})},ea=a(18),ta=a.n(ea),aa=a.p+"static/media/send-icon.666dadc9.svg";var na=function(e){var t=e.postId,a=e.currentUser,n=void 0===a?{}:a,r=Object(s.useState)(""),c=Object(be.a)(r,2),i=c[0],o=c[1],d=Object(s.useState)(!1),u=Object(be.a)(d,2),b=u[0],m=u[1],x=Object(s.useRef)(),j=dt();function f(){return(f=Object(Me.a)(Le.a.mark((function e(a){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return o(""),n={content:i},e.next=7,j.addComment(t,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Nt(b,m,x),Object(xe.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===n||void 0===n?void 0:n.userName),children:Object(xe.jsx)(Se,{size:"sm",src:null===n||void 0===n?void 0:n.avatarUrl})}),Object(xe.jsxs)("form",{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},className:"flex justify-between items-center space-x-1 z-0 w-full",children:[Object(xe.jsxs)("div",{className:"relative w-full flex",children:[Object(xe.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Write a comment",className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative"}),Object(xe.jsxs)("div",{ref:x,className:"relative",children:[Object(xe.jsx)(ht,{className:"absolute h-10 w-10 right-1",iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return m(!b)}}),b&&Object(xe.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(xe.jsx)(Ot.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&o(i+(null===t||void 0===t?void 0:t.emoji))}})})]})]}),Object(xe.jsx)("button",{children:Object(xe.jsx)(ht,{icon:aa,className:"w-10 h-10 p-2",colorClass:"bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary hover:dark:bg-dark-third active:dark:bg-dark-hover"})})]})]})};function ra(e){var t=e.comments,a=void 0===t?[]:t,n=e.isOpen,r=e.currentUser,s=void 0===r?{}:r,c=e.postId,i=Object(ye.a)(a).filter((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)===s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})),o=Object(ye.a)(a).filter((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)!==s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1}));return Object(xe.jsxs)(xe.Fragment,{children:[i.map((function(e,t){return Object(xe.jsx)(sa,{comment:e,postId:c,isMyComment:!0},e.id)})),n&&o.map((function(e,t){return Object(xe.jsx)(sa,{comment:e,postId:c},e.id)}))]})}var sa=c.a.memo((function(e){var t,a,n,r,c,i,o,d=e.comment,u=e.postId,b=e.isMyComment,m=dt(),x=Object(s.useState)(!1),j=Object(be.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(!1),h=Object(be.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(!1),w=Object(be.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)(d.content),A=Object(be.a)(C,2),S=A[0],I=A[1],F=Object(s.useRef)(),E=Object(s.useRef)();Nt(f,p,F),wt(y);return Object(s.useEffect)((function(){var e;k&&(null===E||void 0===E||null===(e=E.current)||void 0===e||e.focus())}),[k]),Object(xe.jsxs)(xe.Fragment,{children:[g&&Object(xe.jsx)($t,{isOpen:g,closeAction:function(){return O(!1)},title:"Are you sure?",content:"Do you want to delete this comment?",confirmButtonTitle:"Yes",confirmButtonAction:function(){u&&(null===d||void 0===d?void 0:d.id)&&m.deleteComment(u,d.id)}}),Object(xe.jsxs)("div",{className:"flex space-x-2 max-w-full "+(k&&"w-full"),children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0 mt-2",to:"/profile/".concat(null===d||void 0===d||null===(t=d.creator)||void 0===t?void 0:t.userName),children:Object(xe.jsx)(Se,{size:"sm",src:null===d||void 0===d||null===(a=d.creator)||void 0===a?void 0:a.avatarUrl,userName:null===d||void 0===d||null===(n=d.creator)||void 0===n?void 0:n.userName})}),Object(xe.jsxs)("div",{className:"flex flex-col w-full",children:[Object(xe.jsxs)("div",{className:"flex flex-col space-y-1 justify-evenly w-full bg-gray-100 dark:bg-dark-third rounded-2xl px-3 py-3",children:[Object(xe.jsx)("div",{className:"w-full flex justify-between items-center mr-9",children:Object(xe.jsx)(l.b,{className:"font-semibold text-xs md:text-sm cursor-pointer hover:underline",to:"/profile/".concat(null===d||void 0===d||null===(r=d.creator)||void 0===r?void 0:r.userName),children:null===d||void 0===d||null===(c=d.creator)||void 0===c?void 0:c.fullName})}),k?Object(xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S!==d.content&&m.updateComment(u,d.id,{content:S}),y(!1)},className:"flex flex-col",children:[Object(xe.jsx)("input",{type:"text",placeholder:"Write a comment",ref:E,className:"bg-gray-100 dark:bg-dark-third outline-none ",onChange:function(e){return I(e.target.value)},value:S}),Object(xe.jsxs)("span",{className:"text-xs self-end",onClick:function(){return y(!1)},children:["Press Esc to"," ",Object(xe.jsx)("span",{className:"font-semibold text-green-500 cursor-pointer",children:"Cancel"})]})]}):Object(xe.jsx)("div",{className:"break-words overflow-x-auto text-xs md:text-sm max-w-350 md:max-w-450",children:null===d||void 0===d?void 0:d.content})]}),Object(xe.jsx)("span",{className:"ml-2 text-tiny md:text-xs text-gray-500 dark:text-dark-txt",children:null===(i=ta()(new Date(null===d||void 0===d?void 0:d.dateCreated),"YYYYMMDD").fromNow())||void 0===i||null===(o=i.replace("ago",""))||void 0===o?void 0:o.trim()})]}),Object(xe.jsx)("div",{ref:F,className:"relative self-center mb-5",children:b&&Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(ht,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){p(!f)}}),f&&Object(xe.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 p-1 w-48 right-3 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){y(!0),p(!1)},children:[Object(xe.jsx)("i",{className:"bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(xe.jsx)("span",{className:"text-sm",children:"Edit comment"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){O(!0),p(!1)},children:[Object(xe.jsx)("i",{className:"bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(xe.jsx)("span",{className:"text-sm",children:"Delete comment"})]})]})]})})]})]})}));var ca=function(e){var t,a,n,r=e.post,c=e.isOpen,i=e.setIsOpen,o=Object(u.c)((function(e){return e.users.currentUser})),d=Object(s.useState)(r.content),b=Object(be.a)(d,2),m=b[0],x=b[1],j=Object(s.useState)(r.privacy),f=Object(be.a)(j,2),p=f[0],v=f[1],h=Object(s.useState)([]),g=Object(be.a)(h,2),O=g[0],N=g[1],w=Object(s.useState)([]),k=Object(be.a)(w,2),y=k[0],C=k[1],A=Object(s.useState)({}),S=Object(be.a)(A,2),I=S[0],F=S[1],E=Object(s.useState)(!1),U=Object(be.a)(E,2),R=U[0],L=U[1],M=Object(s.useState)(!1),P=Object(be.a)(M,2),B=P[0],D=P[1],z=Object(s.useState)(!1),T=Object(be.a)(z,2),H=T[0],Y=T[1],q=Object(s.useRef)(),G=Object(s.useRef)(),W=Object(s.useRef)(),V=dt();function K(){return(K=Object(Me.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V.updatePost(r.id,{content:m,privacy:p});case 3:r.id&&(O.forEach(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("Image",t),a.append("Caption","Post photo"),e.next=5,V.addPhoto(r.id,a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y.forEach(function(){var e=Object(Me.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.deletePhoto(r.id,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i(!1),N([]),C([]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.b)(),pe(c),Nt(H,Y,G),Nt(c,i,q),Nt(R,L,W),wt(i),Object(s.useEffect)((function(){m.trim()||O.length>0?D(!0):D(!1)}),[m,O]),Object(xe.jsx)(xe.Fragment,{children:c&&Object(xe.jsx)("div",{className:"overlay px-4 py-10 z-30 grid place-items-center",style:{margin:0},children:Object(xe.jsxs)("div",{className:"flex-center flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full animate-swipeDown overflow-x-auto",ref:q,children:[I.isOpen&&Object(xe.jsx)(ve,{title:"Notification",isOpen:I.isOpen,content:I.content,onClick:function(){return F({isOpen:!1})}}),Object(xe.jsxs)("div",{className:"relative font-bold text-center text-lg md:text-xl py-4 border-b dark:border-gray-600 w-full",children:["Edit post",Object(xe.jsx)(ht,{onClick:function(){return i(!1)},iconClass:"bx bx-x",className:"absolute bg-white right-3 top-3 animate-swipeUp"})]}),Object(xe.jsxs)("form",{onSubmit:function(e){return K.apply(this,arguments)},className:"flex flex-col items-start w-full px-6 space-y-4 py-4",children:[Object(xe.jsxs)("div",{className:"flex space-x-2",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(o.userName),children:Object(xe.jsx)(Se,{src:o.avatarUrl,userName:o.userName})}),Object(xe.jsxs)("div",{className:"flex flex-col justify-between space-y-1",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(o.userName),children:o.fullName}),Object(xe.jsxs)("div",{className:"relative select-none",children:[Object(xe.jsxs)("div",{className:"p-1 px-2 text-xs bg-gray-200 dark:bg-dark-hover rounded space-x-2 cursor-pointer ",onClick:function(){return L(!0)},children:[Object(xe.jsx)("i",{className:Kt[p]}),Object(xe.jsx)("span",{children:Vt[p]})]}),R&&Object(xe.jsx)("div",{className:"animate-fadeIn absolute w-28 top-full transform translate-y-1 -left-2 bg-gray-100 dark:bg-dark-third rounded p-1 text-sm",ref:W,children:Object.values(Wt).map((function(e){return Object(xe.jsxs)("div",{onClick:function(){v(e),L(!1)},className:"cursor-pointer hover:bg-gray-200 dark:hover:bg-dark-hover p-1 px-2 rounded duration-150 w-full space-x-2",children:[Object(xe.jsx)("i",{className:Kt[e]}),Object(xe.jsx)("span",{children:Vt[e]})]})}))})]})]})]}),Object(xe.jsx)("textarea",{value:m,onChange:function(e){return x(e.target.value)},rows:"3",className:"w-full text-lg md:text-2xl placeholder-gray-500 dark:placeholder-dark-txt focus:placeholder-gray-300 dark:focus:placeholder-dark-hover outline-none transition-base bg-white dark:bg-dark-secondary resize-none",placeholder:"What's on your mind".concat(o.firstName?", "+o.firstName:"","?")}),Object(xe.jsxs)("div",{ref:G,className:"relative w-full flex justify-end",children:[Object(xe.jsx)(ht,{secondMode:!0,iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return Y(!H)}}),H&&Object(xe.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(xe.jsx)(Ot.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&x(m+(null===t||void 0===t?void 0:t.emoji))}})})]}),Object(xe.jsxs)("div",{className:"w-full max-w-xs md:max-w-max overflow-x-auto flex space-x-2 select-none pb-2",children:[Object(xe.jsx)("input",{hidden:!0,id:"imageFiles",type:"file",multiple:!0,onChange:function(e){return function(e){var t=!0,a=[].concat(Object(ye.a)(O),Object(ye.a)(e));a.length>10&&(F({content:"Please select maximum 10 images!",isOpen:!0}),t=!1),a.forEach((function(e){e.size>Pe&&(F({content:"Please upload less than 1MB for each file!",isOpen:!0}),t=!1)})),t&&N(a)}(e.target.files)},accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg"}),Object(xe.jsx)("label",{htmlFor:"imageFiles",className:"cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:active:bg-gray-700 rounded-xl flex-center transition-base flex-shrink-0",children:Object(xe.jsx)("i",{className:"bx bxs-image-add text-4xl"})}),(null===r||void 0===r||null===(t=r.photos)||void 0===t?void 0:t.length)>0&&(null===r||void 0===r||null===(a=r.photos)||void 0===a||null===(n=a.filter((function(e){return!y.includes(e.id)})))||void 0===n?void 0:n.map((function(e,t){return Object(xe.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(xe.jsx)("img",{src:e.imageUrl,alt:"Preview"}),Object(xe.jsx)(ht,{onClick:function(){return function(e){var t=Object(ye.a)(y);t.push(e),C(t)}(e.id)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"oldPhotos"+t)}))),O.length>0&&O.map((function(e,t){return Object(xe.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(xe.jsx)("img",{src:e?URL.createObjectURL(e):"",alt:"Preview"}),Object(xe.jsx)(ht,{onClick:function(){return function(e){if(e>=0&&e<O.length){var t=Object(ye.a)(O);t.splice(e,1),N(t)}}(t)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"imageFiles"+t)}))]}),Object(xe.jsx)(fe,{disabled:!B,className:"w-full font-semibold",children:"Save"})]})]})})})};var ia=function(e){var t,a,n,r,c=e.photos,i=void 0===c?[]:c,o=e.startIndex,l=void 0===o?0:o,d=e.setIsOpen,u=e.isOpen,b=Object(s.useState)(l),m=Object(be.a)(b,2),x=m[0],j=m[1],f=Object(s.useRef)(),p=Object(s.useRef)(),v=Object(s.useRef)(),h=Object(s.useRef)();return pe(u),wt(d),Object(s.useEffect)((function(){var e=function(e){u&&f.current&&!f.current.contains(e.target)&&p.current&&!p.current.contains(e.target)&&h.current&&!h.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]),Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"px-4 flex-center overlay cursor-default select-none",style:{margin:0},children:[Object(xe.jsx)(ht,{innerRef:p,reverse:!0,onClick:function(){return d(!1)},iconClass:"bx bx-x",className:"absolute bg-white md:right-10 right-8 top-8 animate-swipeUp"}),Object(xe.jsx)(ht,{innerRef:v,reverse:!0,onClick:function(){x>0&&j(x-1)},iconClass:"bx bxs-chevron-left",className:"absolute md:left-10 left-5 animate-swipeUp "+(x>0?"":"hidden")}),Object(xe.jsx)(ht,{innerRef:h,reverse:!0,onClick:function(){x<i.length-1&&j(x+1)},iconClass:"bx bxs-chevron-right",className:"absolute md:right-10 right-5 animate-swipeUp "+(x<i.length-1?"":"hidden")}),Object(xe.jsx)("img",{ref:f,src:null!==(t=null===(a=i[x])||void 0===a?void 0:a.imageUrl)&&void 0!==t?t:"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAE2CAMAAACObbGVAAAAV1BMVEXx8fGoqKivr6+zs7POzs7j4+Ps7Ozn5+fV1dW1tbXY2NjLy8vGxsbBwcG4uLiqqqrS0tLd3d3p6eng4ODExMSsrKzu7u6+vr68vLypqam6urra2trIyMhrw28zAAAGK0lEQVR42uza227iMBRAUecGJORCIEBS+P/vnI6SSq0qZpiWUY201nPkly3L9lECAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDPWK0Pl01+HcY27absugo8vyVqM5Zpl3yUFoGntCoO1S6vm5cynZI/yE6BJ3HaF321275Gzeaod6kCEVuiDuc2OyZfcg1E5rQu+k2+RP22JhCRYsi65KHGQDx2U/IQx6zsklkZiEaffN2Uli9Nvd1VfbEPr/bl8lAKROMl+TddWo5NnW+qw/rzROOyhA9Eo7srajsO13xzmaPedkpm+0AspptHansetnnVF+tTuNtyBTfLikf6fsiYtW9H6il8STYv1AdiUSaz82Efvq81yorN+NCXzXlebReIRTMn2YZ3ijo7pmnZjuehvua7TXU5FOv9Kvxd/bYasbjOSep7Rh9dmr1Wb4Z6e6v6dv5wCMQi/zQ+rpIb7qg+mFXGZjMnad/fq79t+rDV+99b3X8eP2QZVWbhzSH5P6Zjmav8i707W3ITBqIA2pd9X2wWA/n/70xFtjNAG1yxwFKq+jy6ZmoeNIbmcgXf50Np2RH6ENLmMe6Cu44eKpzIkRDz63AXLqeu96Ts8Z9wVvFxioeyz/sxdp12wHFcEl8WQ5lWWQWccNbSCv1rnUSVl2ZNfiv+rDr+ldxJNGSEEtFDg+cH+wK+6iXeKkl8WQ7FW8XJuNK2/VWfHqveL1Zdyh5G8KxyxJ1/5C6IXM7BhvCsssBdSEcapY9nSgRlXN2zR3DGX8FI4sum1bHTWSYfB5c3exJa9LPK9oBxt6O1STY9mBKuvrGD5rjrZ+6AdqwCmktwl5H4Jl51DfTG3aDBg5PQTCVRpRG86nrRGneDGD88PqvDI6FDv+oaao2749Y+4RRSxzOBZ5W+zrgbYcEJaJ1wRyR06GeVtc6462LJo6dGNv8bky3Gn0lj3PWxUtBTD9nzYALPKhONcbfCSslOzlcSOvSzykpj3PWwFtBDAdmWZsoEJV4uUnXsAru4C0l823URXaUa426CFYeVraU4+30h7kjJNMbdYMBSs05TQEKLflbZ6Iy7OR7YSCWNHTN4Vpm/HXe7qGk29iiEJRQWlgTS2DGDZ5W3d+Ou7wBAW7+PstyAni7S2DGBb8t/39gJHSjllV6JSjzFl9lvSWPHBJ5V8sYOX995b5rzeyiO180/lcaOGTyrdHbH3cBlR2DmEqW/vLqTxo41PCjN+8ZOEGOm6GiDNHasEkG5vW3sdCMWctohjR1rzLPKbm/c7T/eK1hBns5iAMsq9xs7OZiKdkhjxxLhbONftT3uZuCGhHZIY8cOwU9W6Zeb426KJX45zEljxw4lFJ+6eHN+qsDwy+EgLfqJfkhjxw5/s8pfeMp263QbgWTtbA1SuTR2DGBZZb05H08DGHY5nA6bx+GbNHZM6qGkDutDPtQldvRqhcMC/LwsjR0rZFDKresfv8WuwqfAm/1MG9JKLI+CNykFE7H13VW+Pi9LY8cOFZiE3UD65M1J0tixQwKmpqeLiw9ktDBIY8ekK5gru4G0bz/E7KSxY1QIxqe7rsBnhppIGjuWCMCEpHQ3fKr1+X9QQcKIcmtLQo7PuRdp7NjCwRopGT7BGx9XaeyYVbzeFphCT04PE+RlHUb1LzcVedDlSWPHDt6rxzpH0JeQEkljx6xLi6WYKBmgr7xKY8cKU4mFkeoSR3BCaexYwc9boHV/XlVZ4hhxQES/pLFjgWC2AyFucZR+1tiZSJiV4Hi/pLFjjwgniOgmhQ5LVDjBUBfyCBZLeDhD60hjxxIpziGNHUtkOJE0dsxrcKaWhGE9ziONnd/s3d0Gw0AUhVGnIVWletP07/3fM+Qy5i4OW6z1CpsxzMcE+FUfxU6AR/VR7AS4VR/FToBP9VHsBHhWH8VOgGWqNoqdBNdLdVHsRJjvU/Xw3p9iGX7eftzXW0OwebC6E/rsRqu7Q5/dtvp/t/rrLdcBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW9uCQAAAAAEDQ/9d+MAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF8K10cIV2ntrQAAAABJRU5ErkJggg==",alt:null!==(n=null===(r=i[x])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo ".concat(x),className:"animate-swipeDown max-h-11/12 max-w-full md:max-w-3/4 min-w-2/12 object-contain rounded"})]})})};function oa(e){var t=e.photos,a=void 0===t?[]:t,n=Object(s.useState)(!1),r=Object(be.a)(n,2),c=r[0],i=r[1],o=Object(s.useState)(0),l=Object(be.a)(o,2),d=l[0],u=l[1];if(!(a.length<1)){var b;switch(a.length){case 1:b=Object(xe.jsx)(la,{setStartIndex:u,setIsOpen:i,photos:a});break;case 2:b=Object(xe.jsx)(da,{setStartIndex:u,setIsOpen:i,photos:a});break;case 3:b=Object(xe.jsx)(ua,{setStartIndex:u,setIsOpen:i,photos:a});break;case 4:b=Object(xe.jsx)(ba,{setStartIndex:u,setIsOpen:i,photos:a});break;default:b=Object(xe.jsx)(ma,{setStartIndex:u,setIsOpen:i,photos:a})}return Object(xe.jsxs)(xe.Fragment,{children:[c&&Object(xe.jsx)(ia,{isOpen:c,photos:a,startIndex:d,setIsOpen:i}),b]})}}var la=function(e){var t,a=e.photos,n=void 0===a?[]:a,r=e.setIsOpen,s=e.setStartIndex;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("div",{className:"w-full max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){r(!0),s(0)},children:Object(xe.jsx)("img",{className:"object-contain md:max-h-128 max-h-112 w-full",src:n[0].imageUrl,alt:null!==(t=n[0].caption)&&void 0!==t?t:"Post photo ".concat(1)})})})},da=function(e){var t=e.photos,a=void 0===t?[]:t,n=e.setIsOpen,r=e.setStartIndex;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("div",{className:"grid grid-cols-2 gap-2 overflow-hidden",children:a.map((function(e,t){var a;return Object(xe.jsx)("div",{className:"col-span-1 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){n(!0),r(t)},children:Object(xe.jsx)("img",{className:"object-contain md:max-h-128 max-h-112 h-full w-full",src:e.imageUrl,alt:null!==(a=e.caption)&&void 0!==a?a:"Post photo ".concat(t)})},e.id)}))})})},ua=function(e){var t,a,n,r,s,c,i,o,l,d=e.photos,u=void 0===d?[]:d,b=e.setIsOpen,m=e.setStartIndex;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 grid-rows-2 gap-2 h-112 md:h-128 overflow-hidden",children:[Object(xe.jsx)("div",{className:"col-span-2 row-span-1 md:row-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(0)},children:Object(xe.jsx)("img",{className:"object-contain max-h-128 w-full h-full",src:null===(t=u[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=u[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(1)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=u[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=u[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(2)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=u[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=u[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})})]})})},ba=function(e){var t,a,n,r,s,c,i,o,l,d,u,b,m=e.photos,x=void 0===m?[]:m,j=e.setIsOpen,f=e.setStartIndex;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-2 overflow-hidden h-112 md:h-128",children:[Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),f(0)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=x[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=x[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),f(1)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=x[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=x[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),f(2)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=x[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=x[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})}),Object(xe.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),f(3)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=x[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=x[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})})]})})},ma=function(e){var t,a,n,r,s,c,i,o,l,d,u,b,m,x,j,f=e.photos,p=void 0===f?[]:f,v=e.setIsOpen,h=e.setStartIndex,g=p.length-5>0?p.length-5:0;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"grid grid-cols-6 grid-rows-2 gap-2 h-112 md:h-128 overflow-hidden",children:[Object(xe.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){v(!0),h(0)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=p[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=p[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(xe.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){v(!0),h(1)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=p[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=p[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(xe.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){v(!0),h(2)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=p[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=p[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})}),Object(xe.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){v(!0),h(3)},children:Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=p[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=p[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})}),Object(xe.jsxs)("div",{className:"relative col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){v(!0),h(4)},children:[Object(xe.jsx)("img",{className:"object-cover h-full w-full",src:null===(m=p[4])||void 0===m?void 0:m.imageUrl,alt:null!==(x=null===(j=p[4])||void 0===j?void 0:j.caption)&&void 0!==x?x:"Post photo 5"}),g>0&&Object(xe.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex-center text-xl md:text-2xl font-bold",children:["+",g]})]})]})})};var xa=function(e){var t=e.type,a=e.src,n=e.alt,r=e.addReaction;return Object(xe.jsxs)("div",{onClick:function(){return r(t)},className:"group relative w-10 hover:scale-125 hover:-translate-y-2 hover:transform origin-bottom transition-all duration-300 ease-in-out",children:[Object(xe.jsx)("div",{className:"animate-fadeIn group-hover:block absolute bottom-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded-xl transform -translate-y-1 -translate-x-1/2 text-white dark:text-black text-tiny",children:n}),Object(xe.jsx)("img",{src:a,alt:n,className:"w-full h-full"})]})},ja=function(e){var t=e.className,a=void 0===t?"":t,n=e.reacted,r=e.postId,s=e.setIsOpen,c=dt(),i=function(e){n?n&&n.type!==e&&c.updateReaction(r,{type:e}):c.addReaction(r,{type:e}),s(!1)};return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("div",{className:a+" flex animate-swipeUp space-x-2 rounded-3xl bg-white dark:bg-dark-secondary shadow border-2 border-gray-100 dark:border-dark-third p-1 transition-base z-10",children:Object.values(Zt).map((function(e){return Object(xe.jsx)(xa,{addReaction:i,type:e,src:Qt[e],alt:Jt[e]},"Reaction "+e)}))})})};function fa(e){var t,a,n,r,c,i,o,d,b,m,x,j,f,p,v,h=e.post,g=e.isOpenComment,O=void 0!==g&&g,N=Object(u.c)((function(e){return e.users.currentUser})),w=Object(s.useState)(!1),k=Object(be.a)(w,2),y=k[0],C=k[1],A=Object(s.useState)(!1),S=Object(be.a)(A,2),I=S[0],F=S[1],E=Object(s.useState)(O),U=Object(be.a)(E,2),R=U[0],L=U[1],M=Object(s.useState)(!1),P=Object(be.a)(M,2),B=P[0],D=P[1],z=Object(s.useState)(!1),T=Object(be.a)(z,2),H=T[0],Y=T[1],q=Object(s.useState)(),G=Object(be.a)(q,2),W=G[0],V=G[1],K=dt(),Z=Object(s.useRef)(),J=Object(s.useRef)(),Q=null===h||void 0===h||null===(t=h.reactions)||void 0===t?void 0:t.find((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)===(null===N||void 0===N?void 0:N.userName)}));Object(s.useEffect)((function(){V(function(e){if(null===e||void 0===e?void 0:e.reactions){var t=function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})}(e.reactions,["type"]),a=[];for(var n in t)a.push({type:n,total:t[n].length});return a.sort((function(e,t){return e.total>t.total?1:-1})).slice(0,3).map((function(e){return e.type}))}return[]}(h))}),[h]),Nt(B,D,Z);return Object(xe.jsxs)(xe.Fragment,{children:[H&&Object(xe.jsx)($t,{isOpen:H,closeAction:function(){return Y(!1)},title:"Are you sure?",content:"Do you want to delete this post?",confirmButtonTitle:"Yes",confirmButtonAction:function(){h.id&&K.deletePost(h.id)}}),y&&Object(xe.jsx)(ca,{post:h,isOpen:y,setIsOpen:C}),Object(xe.jsxs)("div",{className:"py-4 px-5 max-w-xl md:min-w-500 min-w-200 w-full mx-auto bg-white dark:bg-dark-secondary flex flex-col justify-start items-start space-y-3 rounded-xl shadow",children:[Object(xe.jsxs)("div",{className:"flex justify-between items-center w-full",children:[Object(xe.jsxs)("div",{className:"flex space-x-2",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(null===h||void 0===h||null===(a=h.creator)||void 0===a?void 0:a.userName),children:Object(xe.jsx)(Se,{src:null===h||void 0===h||null===(n=h.creator)||void 0===n?void 0:n.avatarUrl,userName:null===h||void 0===h||null===(r=h.creator)||void 0===r?void 0:r.userName})}),Object(xe.jsxs)("div",{className:"flex flex-col justify-evenly",children:[Object(xe.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(null===h||void 0===h||null===(c=h.creator)||void 0===c?void 0:c.userName),children:null===h||void 0===h||null===(i=h.creator)||void 0===i?void 0:i.fullName}),Object(xe.jsxs)(l.b,{className:"text-xs text-gray-500 dark:text-dark-txt hover:underline space-x-2",to:"/posts/".concat(null===h||void 0===h?void 0:h.id),children:[Object(xe.jsx)("span",{children:null===(o=ta()(new Date(null===h||void 0===h?void 0:h.dateCreated),"YYYYMMDD").fromNow())||void 0===o||null===(d=o.replace("ago",""))||void 0===d?void 0:d.trim()}),Object(xe.jsx)("i",{className:Kt[null===h||void 0===h?void 0:h.privacy]})]})]})]}),(null===h||void 0===h||null===(b=h.creator)||void 0===b?void 0:b.userName)===(null===N||void 0===N?void 0:N.userName)&&Object(xe.jsxs)("div",{className:"relative",ref:Z,children:[Object(xe.jsx)(ht,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){return D(!B)}}),B&&Object(xe.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 right-0 border border-gray-200 bg-white w-48 rounded-lg shadow-lg overflow-hidden p-1 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return C(!0)},children:[Object(xe.jsx)("i",{className:"bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(xe.jsx)("span",{className:"text-sm",children:"Edit post"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return Y(!0)},children:[Object(xe.jsx)("i",{className:"bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(xe.jsx)("span",{className:"text-sm",children:"Delete post"})]})]})]})]}),Object(xe.jsx)("span",{className:"text-sm break-words overflow-ellipsis max-w-full",children:null===h||void 0===h?void 0:h.content}),(null===h||void 0===h||null===(m=h.photos)||void 0===m?void 0:m.length)>0&&Object(xe.jsxs)("div",{className:"w-full max-h-500 cursor-pointer",children:[Object(xe.jsx)(oa,{photos:null===h||void 0===h?void 0:h.photos})," "]}),Object(xe.jsxs)("div",{className:"flex justify-between w-full text-xs text-gray-500 hover:underline pt-2",children:[Object(xe.jsxs)("div",{className:"cursor-pointer flex items-center space-x-1",children:[Object(xe.jsx)("div",{className:"flex items-center",children:W&&W.map((function(e,t){return Object(xe.jsx)("div",{className:"w-5 h-5 "+(t>0?"z-0":"z-10"),children:Object(xe.jsx)("img",{src:Qt[e],alt:Jt[e],className:"w-full h-full border-2 border-white dark:border-dark-secondary rounded-full "+(t>0?"transform -translate-x-1":"")})},e)}))}),Object(xe.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt",children:(null===h||void 0===h||null===(x=h.reactions)||void 0===x?void 0:x.length)>0&&(null===h||void 0===h||null===(j=h.reactions)||void 0===j?void 0:j.length)})]}),Object(xe.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt",onClick:function(){return L((function(e){return!e}))},children:(null===h||void 0===h||null===(f=h.comments)||void 0===f?void 0:f.length)>0&&(null===h||void 0===h||null===(p=h.comments)||void 0===p?void 0:p.length)+" comment"+((null===h||void 0===h||null===(v=h.comments)||void 0===v?void 0:v.length)>1?"s":"")})]}),Object(xe.jsxs)("div",{className:"w-full text-center flex justify-between items-center select-none cursor-pointer border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold text-sm p-1",children:[Object(xe.jsxs)("span",{className:"relative flex-1 transition-base",ref:J,onMouseOver:function(){return F(!0)},onMouseLeave:function(){return F(!1)},children:[I&&Object(xe.jsx)(ja,{setIsOpen:F,reactionRef:J,postId:h.id,reacted:Q,className:"absolute bottom-full left-0"}),Q?Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("div",{className:"w-full h-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base",onClick:function(){Q&&K.deleteReaction(h.id),F(!1)},children:Object(xe.jsxs)("div",{className:"flex-center space-x-2",children:[Object(xe.jsx)("img",{src:Qt[Q.type],alt:Jt[Q.type],className:"animate-popup md:w-5 md:h-5 h-4 w-4"}),Object(xe.jsx)("span",{className:Xt[Q.type],children:Jt[Q.type]})]})})}):Object(xe.jsx)("div",{className:"w-full h-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base",onClick:function(){Q?Q&&Q.type!==Zt.LIKE&&K.updateReaction(h.id,{type:Zt.LIKE}):K.addReaction(h.id,{type:Zt.LIKE}),F(!1)},children:Object(xe.jsxs)("span",{children:[Object(xe.jsx)("i",{className:"bx bx-like mr-2 text-lg align-middle"}),"Like"]})})]}),Object(xe.jsxs)("span",{className:"flex-1 p-1 h-full w-full bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base flex items-center justify-center",onClick:function(){return L((function(e){return!e}))},children:[Object(xe.jsx)("i",{className:"bx bx-comment mr-2 text-lg align-middle "}),"Comment"]})]}),R&&Object(xe.jsx)(na,{postId:null===h||void 0===h?void 0:h.id,currentUser:N}),Object(xe.jsx)(ra,{postId:null===h||void 0===h?void 0:h.id,comments:null===h||void 0===h?void 0:h.comments,isOpen:R,currentUser:N})]})]})}var pa=c.a.memo(fa),va="/users";function ha(){var e=ot(),t=Object(u.b)();return{getUserList:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(va);return e.get(r,{params:t})},getCurrentUser:function(){var t="".concat(va,"/current");return e.get(t)},getByUserName:function(t){var a="".concat(va,"/").concat(t);return e.get(a)},updateInformation:function(a){t(E(!0));var n="".concat(va);return e.put(n,a)},updateAvatar:function(a){t(E(!0));var r="".concat(va,"/avatar");return e.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(r,a)},updateCover:function(a){t(E(!0));var r="".concat(va,"/cover");return e.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(r,a)}}}function ga(){var e=ha(),t=Object(d.h)(),a=Object(s.useState)([]),n=Object(be.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)([]),o=Object(be.a)(i,2),l=o[0],b=o[1],m=Object(u.c)((function(e){return e.users.onlineUserNameList}));return Object(s.useEffect)((function(){e.getUserList().then((function(e){c(e.items)}))}),[t.pathname]),Object(s.useEffect)((function(){var e=r.filter((function(e){return m.includes(e.userName)}));b(e)}),[m,r]),Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"w-full h-full flex flex-col space-y-3 bg-white dark:bg-dark-secondary rounded-lg p-4",children:[Object(xe.jsx)("span",{className:"font-bold text-lg",children:"Online"}),Object(xe.jsx)("div",{className:"flex flex-col select-none",children:l.map((function(e){return Object(xe.jsxs)("div",{className:"flex items-center space-x-2 px-1 rounded-lg py-2 clickable active:scale-95 active:transform transition-base",children:[Object(xe.jsx)(Se,{size:"sm",userName:e.userName,src:e.avatarUrl}),Object(xe.jsx)("span",{className:"font-semibold text-sm truncate w-full",children:e.fullName})]},e.id)}))})]})})}var Oa=function(){var e,t,a,r=Object(s.useState)({page:1}),c=Object(be.a)(r,2),i=c[0],o=c[1],d=ut(i),b=d.posts,m=d.isHasMore,x=d.isLoading,j=d.error,f=Object(u.c)((function(e){return e.users.currentUser}));return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"w-full flex flex-cols items-start justify-between animate-fadeIn space-x-2",children:[Object(xe.jsx)("div",{className:"sticky top-20 lg:block hidden w-full bg-white dark:bg-dark-secondary rounded-lg",children:Object(xe.jsxs)("div",{className:"flex flex-col items-center w-full",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(f.userName),className:"relative h-28 w-full flex mb-6 select-none",children:[Object(xe.jsx)("img",{src:null!==(e=null===f||void 0===f?void 0:f.coverUrl)&&void 0!==e?e:Ue,alt:"".concat(null===f||void 0===f?void 0:f.fullName," cover"),className:"w-full object-cover rounded-lg cursor-pointer"}),Object(xe.jsx)("div",{className:"absolute rounded-full left-1/2 transform bottom-0 translate-y-5 -translate-x-1/2 border-2 border-white dark:border-dark-secondary ring-2 ring-green-400 dark:ring-green-500 cursor-pointer",children:Object(xe.jsx)(Se,{src:null===f||void 0===f?void 0:f.avatarUrl,size:"lg"})})]}),Object(xe.jsxs)("div",{className:"w-full mx-4 dark:border-dark-hover pb-6 space-y-2",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(f.userName),children:[Object(xe.jsxs)("div",{className:"w-full text-center font-semibold hover:underline text-lg max-row-2",children:[f.fullName," "]}),f.nickName&&Object(xe.jsx)("div",{className:"font-normal text-center",children:"(".concat(f.nickName,")")})]}),Object(xe.jsx)("div",{className:"mx-3 text-center text-sm",children:f.aboutMe})]})]})}),Object(xe.jsxs)("div",{className:"space-y-2 md:space-y-3 lg:min-w-600 md:min-w-500 w-full flex flex-col items-center",children:[Object(xe.jsx)(_t,{}),null===(t=Object(ye.a)(null===b||void 0===b?void 0:b.items))||void 0===t||null===(a=t.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===a?void 0:a.map((function(e){return Object(xe.jsx)(pa,{post:e},e.id)})),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){m&&o(Object(n.a)(Object(n.a)({},i),{},{page:i.page+1}))},isLoading:x,error:j,isHasMore:m,loadMoreContent:"Load more posts..."}),(null===b||void 0===b?void 0:b.totalRecords)<=0&&Object(xe.jsxs)("div",{className:"text-center py-3 font-semibold",children:["Not found any posts.",Object(xe.jsx)("br",{})," You should create first post or add more friends."]})]}),Object(xe.jsx)("div",{className:"sticky top-20 md:block hidden w-full",children:Object(xe.jsx)(ga,{})})]})})},Na=a.p+"static/media/logo-circle.97246462.png";var wa=function(){var e=Object(s.useState)(!1),t=Object(be.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){"dark"===window.localStorage.getItem("theme")&&(window.document.documentElement.classList.add("dark"),n(!0))}),[]),Object(s.useEffect)((function(){a?(window.document.documentElement.classList.add("dark"),window.localStorage.setItem("theme","dark")):(window.document.documentElement.classList.remove("dark"),window.localStorage.setItem("theme","light"))}),[a]),{darkMode:a,setDarkMode:n}},ka="/chats";function ya(){var e=ot(),t=Object(u.b)();return{getAll:function(){t(E(!0));var a="".concat(ka);return e.get(a)},getById:function(a,n){t(E(!0));var r="".concat(ka,"/").concat(a);return e.get(r,{params:n})},sendMessage:function(t,a){var n="".concat(ka,"/").concat(t,"/send");return e.post(n,a)},readChat:function(t){var a="".concat(ka,"/").concat(t,"/read");return e.patch(a)},sendImage:function(a,r){t(E(!0));var s="".concat(ka,"/").concat(a,"/sendImage");return e.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,r)},updateGroupAvatar:function(a,r){t(E(!0));var s="".concat(ka,"/").concat(a,"/avatar");return e.interceptors.request.use(function(){var e=Object(Me.a)(Le.a.mark((function e(t){var a,r;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(s,r)},createGroupChat:function(a){var n;a.groupName=null===a||void 0===a||null===(n=a.groupName)||void 0===n?void 0:n.substring(0,99),t(E(!0));var r="".concat(ka,"/group");return e.post(r,a)},updateGroupChat:function(a,n){var r;n.newGroupName=null===n||void 0===n||null===(r=n.newGroupName)||void 0===r?void 0:r.substring(0,99),t(E(!0));var s="".concat(ka,"/").concat(a);return e.patch(s,n)},createPrivateChat:function(a){t(E(!0));var n="".concat(ka,"/private");return e.post(n,a)}}}var Ca=function(e){var t,a=e.isOpen,n=e.setIsOpen,r=Object(s.useState)(Ut),c=Object(be.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(!1),d=Object(be.a)(l,2),b=d[0],m=d[1],x=Object(s.useState)(!1),j=Object(be.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(""),h=Object(be.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(""),w=Object(be.a)(N,2),k=w[0],C=w[1],A=Object(s.useState)([]),S=Object(be.a)(A,2),I=S[0],F=S[1],E=Object(s.useState)([]),U=Object(be.a)(E,2),R=U[0],L=U[1],M=Object(s.useRef)(),P=Object(s.useRef)(),B=Object(u.b)(),D=ya(),z=ha();function T(){return(T=Object(Me.a)(Le.a.mark((function e(){var t,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f&&(i===Rt?(t={participantUserNames:R.map((function(e){return e.userName})),name:g},D.createGroupChat(t).then((function(e){e.id&&B(y(e.id)),L([]),O(""),n(!1)}))):i===Ut&&(a={participantUserName:R.map((function(e){return e.userName})).shift()},D.createPrivateChat(a).then((function(e){e.id&&B(y(e.id)),L([]),O(""),n(!1)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return pe(a),wt(n),Nt(a,n,M),Nt(b,m,P),Object(s.useEffect)((function(){return z.getUserList().then((function(e){e&&F(e.items)})),function(){L([]),O("")}}),[]),Object(s.useEffect)((function(){if(i===Rt){var e=(null===R||void 0===R?void 0:R.length)>=2&&(null===g||void 0===g?void 0:g.trim());p(e)}else i===Ut&&p(0!==(null===R||void 0===R?void 0:R.length))}),[R,g,i]),a?Object(xe.jsx)("div",{className:"overlay grid place-items-center px-4 py-10 z-30",style:{margin:0},children:Object(xe.jsxs)("div",{ref:M,className:"animate-swipeDown px-6 md:px-14 md:py-6 flex flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full overflow-y-auto md:overflow-visible "+(b?"mb-16":""),children:[Object(xe.jsxs)("div",{className:"flex pt-6 pb-5 justify-between h-full items-center",children:[Object(xe.jsx)("h3",{className:"font-semibold text-lg md:text-2xl text-green-600 dark:text-green-400",children:"New chat!"}),Object(xe.jsxs)("div",{className:"relative flex rounded-lg items-center border border-green-500 cursor-pointer overflow-hidden",children:[Object(xe.jsx)("div",{className:"absolute bg-gradient-to-br from-green-400 to-green-600 w-1/2 h-full rounded transition-base z-0 "+(i===Rt?"transform translate-x-full left-0":"left-0 ")}),Object(xe.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(i===Ut?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(Ut)},children:"Private"}),Object(xe.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(i===Rt?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(Rt)},children:"Group"})]})]}),Object(xe.jsx)("div",{className:"space-y-2 md:space-y-4",children:i===Rt?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)("div",{className:"space-y-2",children:[Object(xe.jsxs)("label",{htmlFor:"groupName",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Group name ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",{id:"groupName",value:g,onChange:function(e){return O(e.target.value)},type:"text",className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "})]}),Object(xe.jsxs)("div",{ref:P,className:"space-y-2",children:[Object(xe.jsx)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:"Find Friends"}),Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)("input",{id:"search",type:"search",onFocus:function(){return m(!0)},value:k,autoComplete:"off",onChange:function(e){return C(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),b&&Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary dark:border-dark-hover border border-gray-300 border-opacity-50 rounded-lg w-full py-2 md:py-4 md:px-8 px-6 space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl",children:[Object(xe.jsx)("h4",{className:"font-semibold mb-2 dark:text-gray-200",children:"Friend list"}),I.filter((function(e){var t,a;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase()))||(null===(a=e.userName)||void 0===a?void 0:a.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a;return Object(xe.jsxs)("div",{onClick:function(){var t=Object(ye.a)(R);t.some((function(t){return t.userName===e.userName}))||(t.push(e),L(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(xe.jsx)(Se,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(xe.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:He})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]})]}),Object(xe.jsxs)("div",{className:"space-y-2",children:[Object(xe.jsxs)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Selected ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(xe.jsx)("span",{className:"text-sm text-gray-400",children:"(At least 2 people. Click to remove)"})]}),Object(xe.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none",children:R.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a;return Object(xe.jsxs)("div",{onClick:function(){var t=Object(ye.a)(R),a=t.findIndex((function(t){return t.userName===e.userName}));a>=0&&(t.splice(a,1),L(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 dark:hover:bg-red-500 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(xe.jsx)(Se,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(xe.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:He})]},t+(null===e||void 0===e?void 0:e.userName))}))})]})]}):Object(xe.jsxs)("div",{ref:P,className:"space-y-2",children:[Object(xe.jsx)("label",{htmlFor:"selectFriend",className:"font-semibold md:text-lg dark:text-gray-200",children:"Select Friends"}),Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)("input",{id:"selectFriend",type:"search",onFocus:function(){return m(!0)},value:k,autoComplete:"off",onChange:function(e){return C(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),b&&Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary border border-gray-400 border-opacity-50 rounded-lg w-full space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl py-2 md:py-4 md:px-8 px-6",children:[Object(xe.jsx)("h4",{className:"font-semibold mb-2 text-start dark:text-gray-200",children:"Friend list"}),null===I||void 0===I||null===(t=I.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})))||void 0===t?void 0:t.filter((function(e){var t,a;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase()))||(null===(a=e.userName)||void 0===a?void 0:a.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).map((function(e,t){var a;return Object(xe.jsxs)("div",{onClick:function(){var t=[];t.push(e),m(!1),L(t)},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(xe.jsx)(Se,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(xe.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate text-sm md:text-base",children:null!==(a=e.fullName)&&void 0!==a?a:He})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]}),Object(xe.jsxs)("div",{className:"space-y-2",children:[Object(xe.jsxs)("label",{htmlFor:"search",className:"font-semibold md:text-lg dark:text-gray-200",children:["Selected ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(xe.jsx)("span",{className:"text-sm text-gray-400",children:"(Click to remove)"})]}),Object(xe.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none ",children:Object(ye.a)(R).map((function(e,t){var a;return 0===t?Object(xe.jsxs)("div",{onClick:function(){var t=Object(ye.a)(R),a=t.findIndex((function(t){return t.userName===e.userName}));a>=0&&(t.splice(a,1),L(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out dark:hover:bg-red-500",children:[Object(xe.jsx)(Se,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(xe.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:He})]},t+(null===e||void 0===e?void 0:e.userName)):Object(xe.jsx)(xe.Fragment,{})}))})]})]})}),Object(xe.jsx)("div",{className:"flex justify-end py-6 space-x-4",children:Object(xe.jsxs)("div",{className:"space-x-2 flex items-center",children:[Object(xe.jsx)(fe,{outline:!0,content:"Close",onClick:function(){return n(!1)}}),Object(xe.jsx)(fe,{disabled:!f,content:"Create",onClick:function(){return function(){return T.apply(this,arguments)}()}})]})})]})}):""};var Aa=function(e){var t=e.className,a=e.setChatNotificationNumber,n=Object(u.c)((function(e){return e.chats.selectedIds})),r=Object(u.c)((function(e){return e.users.currentUser})),c=Object(u.c)((function(e){return e.chats.chats})),i=Object(s.useState)(""),o=Object(be.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)(!1),m=Object(be.a)(b,2),x=m[0],j=m[1],f=Object(u.b)();return Object(s.useEffect)((function(){if(c){var e=c.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.numOfUnreadMessages)>0?1:0)}),0);a(e)}}),[c]),Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(Ca,{isOpen:x,setIsOpen:j}),Object(xe.jsxs)("div",{className:t+" bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-2 md:px-4 pt-3 md:pt-4 pb-2 border dark:border-dark-hover",children:[Object(xe.jsxs)("div",{className:"relative ",children:[Object(xe.jsxs)("div",{className:"flex space-x-2 justify-between items-center mb-3 ",children:[Object(xe.jsx)("input",{type:"search",className:"rounded-3xl bg-gray-100 px-4 pl-10 pr-3 py-2 focus:ring-2 focus:ring-green-400 focus:ring-opacity-50 outline-none transition-base w-full dark:bg-dark-third dark:text-white",placeholder:"Search TeeChat!",onChange:function(e){return d(e.target.value)}}),Object(xe.jsx)(ht,{iconClass:"bx bxs-edit",onClick:function(){return j(!0)},className:"dark:bg-dark-third bg-gray-100"})]}),Object(xe.jsx)("i",{className:"bx bx-search absolute text-xl top-1/4 left-3 transform text-gray-400 cursor-pointer"})]}),Object(xe.jsxs)("div",{className:"max-h-500 overflow-y-auto pr-2 md:pb-0",children:[c&&Sa(c,l).map((function(e,t){var a,s,c,i,o,l,d,u=r.userName;if(null===e||void 0===e?void 0:e.participants.some((function(e){return e.userName===u}))){var b,m=(null===e||void 0===e?void 0:e.participants.length)>1?null===e||void 0===e||null===(a=e.participants)||void 0===a?void 0:a.filter((function(e){return e.userName!==u})).shift():r,x={};if(0!==(null===(s=e.messages)||void 0===s?void 0:s.length))x=null===(b=e.messages)||void 0===b?void 0:b.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t}));return Object(xe.jsxs)("div",{className:"relative select-none w-full h-16 flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return function(e){if(n&&!n.includes(e)){var t=y(e);f(t)}}(e.id)},children:[e.numOfUnreadMessages>0&&Object(xe.jsx)("span",{className:"w-6 h-6 absolute right-2 top-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle",children:e.numOfUnreadMessages>9?"9+":e.numOfUnreadMessages}),Object(xe.jsx)(Se,{src:(null===e||void 0===e?void 0:e.type)===Ut?null===m||void 0===m?void 0:m.avatarUrl:null===e||void 0===e?void 0:e.groupAvatarUrl,participants:null===e||void 0===e?void 0:e.participants}),Object(xe.jsxs)("div",{className:"font-primary flex flex-col pl-3 justify-between items-start h-full truncate w-full",children:[Object(xe.jsxs)("div",{className:"flex justify-between items-center w-full min-w-0 space-x-3",children:[Object(xe.jsx)("span",{className:"text-gray-800 truncate dark:text-dark-txt "+(e.numOfUnreadMessages>0?"font-bold":""),children:(null===e||void 0===e?void 0:e.type)===Ut?null===m||void 0===m?void 0:m.fullName:null!==(c=null===e||void 0===e?void 0:e.name)&&void 0!==c?c:Te}),Object(xe.jsx)("span",{className:"text-sm text-gray-500 truncate flex-shrink-0",children:null===(i=ta()(new Date(null!==(l=null===(d=x)||void 0===d?void 0:d.dateCreated)&&void 0!==l?l:null===e||void 0===e?void 0:e.dateCreated),"YYYYMMDD").fromNow())||void 0===i||null===(o=i.replace("ago",""))||void 0===o?void 0:o.trim()})]}),Object(xe.jsx)("div",{className:"flex",children:Object(xe.jsx)("span",{className:"mr-2 text-sm text-gray-500 truncate overflow-hidden flex-grow "+(e.numOfUnreadMessages>0?"font-bold mr-10":""),children:x.content?x.content:x.imageUrl?"Sent an image":""})})]})]},e.id)}})),c.length<1&&Object(xe.jsx)("div",{className:"py-2 w-full text-center font-semibold",children:"Not found any chats. Start a chat now!"})]}),Object(xe.jsx)("a",{href:"https://pctrung.github.io/TeeChat",target:"_blank",rel:"noreferrer",className:"font-semibold text-center text-sm text-green-500 hover:text-green-600 cursor-pointer block pt-2 mt-3 border-t-2 border-gray-100 dark:border-dark-third transition-base",children:"See all in TeeChat!"})]})]})};function Sa(e,t){var a=function(e){if(e)return Object(ye.a)(e).sort((function(e,t){var a,n,r,s,c,i,o={},l={};0!==(null===(a=e.messages)||void 0===a?void 0:a.length)?o=null===(c=e.messages)||void 0===c?void 0:c.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):o.dateCreated=null===e||void 0===e?void 0:e.dateCreated;0!==(null===(n=t.messages)||void 0===n?void 0:n.length)?l=null===(i=t.messages)||void 0===i?void 0:i.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):l.dateCreated=null===t||void 0===t?void 0:t.dateCreated;return(null===(r=o)||void 0===r?void 0:r.dateCreated)<(null===(s=l)||void 0===s?void 0:s.dateCreated)?1:-1}))}(e);return a=function(e,t){if(e)return e.filter((function(e){var a;return(null===e||void 0===e?void 0:e.participants.some((function(e){return!(!e.fullName.toLowerCase().includes(t.toLowerCase())&&!(null===e||void 0===e?void 0:e.userName.toLowerCase().includes(t.toLowerCase())))})))||(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))}))}(a,t)}var Ia="/notifications";function Fa(){var e=ot();return{getAll:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Be}));var r="".concat(Ia);return e.get(r,{params:t})},readAll:function(){var t="".concat(Ia,"/read");return e.patch(t)},readById:function(t){var a="".concat(Ia,"/").concat(t,"/read");return e.patch(a)}}}var Ea=function(e){var t,a=e.notification,n=e.onClick;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"relative select-none w-full flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2  rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return n(a)},children:[!(null===a||void 0===a?void 0:a.isRead)&&Object(xe.jsx)("span",{className:"w-3 h-3 absolute right-2 top-1/2 transform -translate-y-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle"}),Object(xe.jsxs)("div",{className:"relative flex-shrink-0",children:[Object(xe.jsx)(Se,{src:null===a||void 0===a||null===(t=a.creator)||void 0===t?void 0:t.avatarUrl}),(null===a||void 0===a?void 0:a.type)===Ht&&Object(xe.jsx)("div",{className:"h-5 w-5 absolute -right-1 top-full transform -translate-y-4",children:Object(xe.jsx)("img",{src:Qt[a.reactionType],alt:Jt[a.reactionType],className:"w-full h-full"})})]}),Object(xe.jsx)("div",{className:"font-primary flex flex-col pl-3 justify-between w-full max-w-lg",children:Object(xe.jsxs)("div",{className:"flex flex-col justify-between items-start w-full min-w-0",children:[Object(xe.jsx)("span",{className:"text-sm md:text-base text-gray-800 dark:text-dark-txt max-w-full overflow-ellipsis break-word max-row-2 "+((null===a||void 0===a?void 0:a.isRead)?"":"font-bold pr-3"),children:null===a||void 0===a?void 0:a.content}),Object(xe.jsx)("span",{className:"text-xs md:text-sm text-gray-500 truncate flex-shrink-0 "+((null===a||void 0===a?void 0:a.isRead)?"":"font-bold"),children:ta()(new Date(null===a||void 0===a?void 0:a.dateCreated),"YYYYMMDD").fromNow()})]})})]})})};var Ua=function(e){var t,a,n,r=e.className,c=e.setIsOpen,i=e.setNotificationNumber,o=Object(s.useState)(1),l=Object(be.a)(o,2),b=l[0],m=l[1],x=Object(u.b)(),j=Object(d.g)(),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(s.useState)(!1),a=Object(be.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(be.a)(c,2),o=i[0],l=i[1],d=Object(u.c)((function(e){return e.app.notifications})),b=Object(s.useState)(!0),m=Object(be.a)(b,2),x=m[0],j=m[1],f=Fa(),p=Object(u.b)();return Object(s.useEffect)((function(){if(x){r(!0),l(!1);var t={page:e};f.getAll(t).then((function(t){p(e>1?D(t):M(t)),j(e<t.pageCount),r(!1)})).catch((function(e){l(e)}))}}),[e]),{notifications:d,isLoading:n,error:o,isHasMore:x}}(b),p=f.notifications,v=f.isHasMore,h=f.isLoading,g=f.error,O=Fa();function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(e.isRead||(x(B(e.id)),O.readById(e.id)),e.type){case Tt:case Ht:(null===e||void 0===e?void 0:e.postId)&&j.push("/posts/"+(null===e||void 0===e?void 0:e.postId));break;case Yt:case qt:case Gt:j.push("/friends")}c(!1)}return Object(s.useEffect)((function(){if(p.items){var e=p.items.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.isRead)?0:1)}),0);i(e)}}),[p]),Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:r+" flex flex-col bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-5 py-4 pb-3 border dark:border-dark-hover ",children:[Object(xe.jsxs)("div",{className:"flex justify-between items-baseline border-b dark:border-dark-hover pb-1 mb-2",children:[Object(xe.jsx)("span",{className:"text-2xl font-bold",children:"Notifications"}),Object(xe.jsx)("span",{className:"text-green-600 hover:text-green-700 active:text-green-800 dark:text-green-400 dark:hover:text-green-300 dark:active:text-green-200 cursor-pointer select-none transition-base text-sm",onClick:function(){x(P()),O.readAll()},children:"Mark all as read"})]}),Object(xe.jsxs)("div",{className:"overflow-y-auto md:max-h-500 max-h-400",children:[p&&(null===(t=Object(ye.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return!e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===t?void 0:t.map((function(e,t){return Object(xe.jsx)(Ea,{onClick:N,notification:e},e.id)}))),p&&(null===(a=Object(ye.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===a?void 0:a.map((function(e,t){return Object(xe.jsx)(Ea,{onClick:N,notification:e},e.id)}))),Object(xe.jsx)(Ee,{className:"mt-2",onClick:function(){v&&m((function(e){return e+1}))},isLoading:h,error:g,isHasMore:v,loadMoreContent:"Load more notifications..."})]}),(null===p||void 0===p||null===(n=p.items)||void 0===n?void 0:n.length)<1&&Object(xe.jsx)("span",{className:"my-2 text-center w-full font-semibold",children:"Do not have any notifications"})]})})},Ra=[{name:"Home",icon:"bx bxs-home",inactiveIcon:"bx bx-home",route:"/"},{name:"Friends",icon:"bx bxs-group",inactiveIcon:"bx bx-group",route:"/friends"},{name:"Search",icon:"bx bxs-search",inactiveIcon:"bx bx-search",route:"/search",isMobile:!0}],La="/accounts";function Ma(){var e=ot(),t=Object(u.b)();return{login:function(a){t(E(!0));var n="".concat(La,"/login");return e.post(n,a)},logout:function(){t(E(!0));var a="".concat(La,"/logout");return e.post(a)},register:function(a){var n,r;a.firstName=null===a||void 0===a||null===(n=a.firstName)||void 0===n?void 0:n.substring(0,49),a.lastName=null===a||void 0===a||null===(r=a.lastName)||void 0===r?void 0:r.substring(0,49),t(E(!0));var s="".concat(La,"/register");return e.post(s,a)},checkUserNameExists:function(t){if(t){var a="".concat(La,"/").concat(t,"/isExists");return e.get(a)}return Promise.reject()}}}var Pa=function(e){var t=e.className,a=Object(d.g)(),n=Object(u.b)(),r=Object(d.h)(),c=Object(u.c)((function(e){return e.users.currentUser})),i=Object(u.c)((function(e){return e.posts.newPostTotal})),o=ha(),l=Ma(),b=dt(),m=Object(s.useState)(0),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)(0),v=Object(be.a)(p,2),h=v[0],g=v[1],O=wa(),N=O.darkMode,w=O.setDarkMode,k=Object(s.useState)(""),y=Object(be.a)(k,2),C=y[0],A=y[1],S=Object(s.useState)(!1),I=Object(be.a)(S,2),F=I[0],E=I[1],U=Object(s.useState)(!1),R=Object(be.a)(U,2),L=R[0],M=R[1],P=Object(s.useState)(!1),B=Object(be.a)(P,2),D=B[0],z=B[1],T=Object(s.useState)(!1),H=Object(be.a)(T,2),Y=H[0],G=H[1],W=Object(s.useState)({isOpen:!1,title:"",content:"",confirmButtonTitle:""}),V=Object(be.a)(W,2),K=V[0],Z=V[1],J=Object(s.useRef)(),X=Object(s.useRef)();function _(){return $.apply(this,arguments)}function $(){return($=Object(Me.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.logout();case 2:window.localStorage.removeItem("token"),window.location.href="/TeeApp/";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes",n=arguments.length>3?arguments[3]:void 0,r={isOpen:!0,title:n,content:e,confirmButtonTitle:a,confirmButtonAction:t};Z(r)}function te(e,t){t?(window.scrollTo({top:0,left:0,behavior:"smooth"}),n(le()),b.getNewsFeed().then((function(e){n(Q(e))}))):a.push(e),E(!1),A("")}return Object(s.useEffect)((function(){o.getCurrentUser().then((function(e){n(q(e))}))}),[]),Nt(Y,G,J),Nt(L,M,J),Nt(D,z,J),wt(E),pe(F),Object(xe.jsxs)(xe.Fragment,{children:[K.isOpen&&Object(xe.jsx)($t,{isOpen:K.isOpen,closeAction:function(){return Z({isOpen:!1})},title:"Are you sure?",content:K.content,confirmButtonTitle:K.confirmButtonTitle,confirmButtonAction:K.confirmButtonAction}),Object(xe.jsxs)("div",{className:"fixed bottom-4 left-4 items-center cursor-pointer z-50 hidden md:flex",onClick:function(){return w(!N)},children:[Object(xe.jsx)("i",{className:"bx p-2 dark:text-dark-txt text-gray-500 "+(N?"bx-moon":"bx-sun")}),Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)("div",{className:"block bg-gray-600 w-10 h-6 rounded-full"}),Object(xe.jsx)("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-base transform "+(N?"translate-x-full bg-green600 dark:bg-green-400":"")})]})]}),Object(xe.jsx)("div",{className:"bg-white dark:bg-dark-secondary dark:text-white p-2 shadow border-b border-transparent dark:border-dark-hover z-20 "+t,children:Object(xe.jsxs)("div",{ref:J,className:"relative max-w-full md:max-w-screen-xl mx-auto flex justify-between items-center",children:[Object(xe.jsxs)("div",{className:"flex space-x-4 flex-shrink-0",children:[Object(xe.jsx)("span",{onClick:function(){return te("/","/"===r.pathname)},children:Object(xe.jsx)("img",{src:Na,alt:"Logo",className:"h-10 w-10 cursor-pointer"})}),Object(xe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a.push("/search/"+C)}(e)},className:"relative md:inline-block hidden",children:[Object(xe.jsx)("input",{type:"search",className:"bg-gray-100 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base select-none",placeholder:"Search TeeApp!",value:C,onChange:function(e){return A(e.target.value)}}),Object(xe.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]})]}),Object(xe.jsx)("div",{className:"text-3xl text-green-500 md:flex hidden",children:Ra.map((function(e){var t=r.pathname,a=e.route===t,n=a?e.icon:e.inactiveIcon;return Object(xe.jsxs)("div",{className:"relative group border-b-4 border-transparent "+(e.isMobile?"block md:hidden":"")+" "+(a?" border-green-500":""),onClick:function(){return te(e.route,a)},children:[Object(xe.jsx)("i",{className:"select-none py-1 px-4 md:py-2 md:px-6 rounded-lg hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover transition-base cursor-pointer  ".concat(n)}),Object(xe.jsx)("div",{className:"select-none animate-fadeIn group-hover:block absolute top-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded transform -translate-x-1/2 translate-y-2 text-white dark:text-black text-sm font-title p-1",children:e.name}),"home"===e.name.toLowerCase()&&i>0&&Object(xe.jsx)("span",{className:"animate-fadeIn absolute top-1 right-1 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"})]},e.route)}))}),Object(xe.jsxs)("ul",{className:"flex items-center space-x-2",children:[Object(xe.jsxs)("li",{className:"active:transform active:scale-95 p-1 h-full rounded-full flex items-center  transition-base cursor-pointer select-none mr-3 "+("/profile"===r.pathname.substring(0,8)?"dark:bg-green-600 dark:bg-opacity-40 bg-green-100 text-green-600 dark:text-green-400 ":"dark:hover:bg-dark-third hover:bg-gray-200"),onClick:function(){return e=c.userName,a.push("/profile/"+e),void A("");var e},children:[Object(xe.jsx)(Se,{src:c.avatarUrl,size:"sm"}),Object(xe.jsx)("span",{className:"px-2 font-semibold truncate w-full",children:c.firstName})]}),Object(xe.jsxs)("li",{className:"relative",children:[Object(xe.jsx)(ht,{className:"p-2  "+(L?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-100":""),iconClass:"bx bxs-message-rounded-dots",colorClass:L?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:L?"text-green-600 dark:text-green-400":"",onClick:function(){M(!L),G(!1),z(!1)}}),j>0&&!L&&Object(xe.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:j>9?"9+":j})]}),Object(xe.jsxs)("li",{className:"relative",children:[Object(xe.jsx)("span",{className:"dark:bg-green-600"}),Object(xe.jsx)(ht,{className:"p-2",colorClass:D?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",iconClass:"bx bxs-bell",colorIconClass:D?"text-green-600 dark:text-green-400":"",onClick:function(){M(!1),G(!1),z(!D)}}),h>0&&!D&&Object(xe.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:h>9?"9+":h})]}),Object(xe.jsx)("li",{className:"md:inline hidden",children:Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)(ht,{className:"p-2",iconClass:"bx bx-caret-down",colorClass:Y?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:Y?"text-green-600 dark:text-green-400":"",onClick:function(){G(!Y),M(!1),z(!1)}}),Y&&Object(xe.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-full transform translate-y-1 right-0 border border-gray-200 bg-white w-60 rounded-lg shadow-lg overflow-hidden p-1 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-30",children:[Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return w(!N)},children:[Object(xe.jsx)("i",{className:"text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 bx  "+(N?" bx-sun":" bx-moon")}),Object(xe.jsx)("span",{children:N?"Light Mode":"Dark Mode"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){ee("Do you want to log out?",_)},children:[Object(xe.jsx)("i",{className:"bx bx-log-in-circle text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(xe.jsx)("span",{children:"Log Out"})]})]})]})}),Object(xe.jsx)("li",{className:"md:hidden",children:Object(xe.jsx)(ht,{className:"p-2",iconClass:"bx bx-menu",colorClass:F?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:F?"text-green-600 dark:text-green-400":"",onClick:function(){E(!F)}})})]}),Object(xe.jsx)(Aa,{setChatNotificationNumber:f,className:"absolute animate-fadeIn top-full transform translate-y-2 right-0 lg:w-112 md:w-96 w-full max-h-600  "+(L?"":"hidden")}),Object(xe.jsx)(Ua,{setIsOpen:z,className:"absolute animate-fadeIn top-full transform translate-y-2 right-0 lg:w-112 md:w-96 w-full max-h-600 overflow-y-auto  "+(D?"":"hidden"),setNotificationNumber:g})]})}),F&&Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)("div",{ref:X,className:"text-gray-500 dark:text-dark-txt md:hidden w-screen fixed animate-swipeRight inset-0 bg-white dark:bg-dark-primary z-40 px-4 py-4 pt-5 flex flex-col space-y-3 outline-none cursor-pointer",children:[Object(xe.jsxs)("div",{className:"flex justify-end space-x-4",children:[Object(xe.jsxs)("div",{className:"fixed bottom-8 left-8 flex items-center cursor-pointer ",onClick:function(){return w(!N)},children:[Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full"}),Object(xe.jsx)("div",{class:"absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-base transform "+(N?"translate-x-full bg-green600 dark:bg-green-400":"")})]}),Object(xe.jsx)("i",{className:"bx p-2 "+(N?"bx-moon":"bx-sun")})]}),Object(xe.jsx)(ht,{className:"p-2 w-10 h-10",iconClass:"bx bx-x",onClick:function(){return E(!1)}})," "]}),Object(xe.jsxs)("div",{className:"flex flex-col w-full",children:[Ra.map((function(e){var t=r.pathname,a=e.route===t,n=a?e.icon:e.inactiveIcon;return Object(xe.jsxs)("div",{className:"animate-swipeRight relative group w-full hover:bg-gray-200 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg "+(a?"bg-gray-100 dark:bg-dark-secondary":""),onClick:function(){return te(e.route,a)},children:[Object(xe.jsxs)("div",{className:"flex space-x-4 text-2xl py-2 px-4 rounded-lg items-center "+(a?"font-bold text-green-500":"font-medium"),children:[Object(xe.jsx)("i",{className:"select-none py-1 px-2 text-3xl align-middle ".concat(n)}),Object(xe.jsx)("span",{className:"",children:e.name})]}),"home"===e.name.toLowerCase()&&i>0&&Object(xe.jsx)("span",{className:"animate-fadeIn absolute top-1 left-1 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"}),a&&Object(xe.jsx)("span",{className:"animate-fadeIn absolute top-1/2 right-3 transform -translate-y-1/2 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"})]},e.route)})),Object(xe.jsx)("div",{className:"animate-swipeRight w-full hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover ",children:Object(xe.jsxs)("div",{className:"flex space-x-4 text-2xl py-2 px-4 rounded-lg items-center font-medium",onClick:function(){ee("Do you want to log out?",_)},children:[Object(xe.jsx)("i",{className:"select-none py-1 px-2 text-3xl align-middle bx bx-log-in-circle"}),Object(xe.jsx)("span",{children:"Log out"})]})})]})]})," "]})]})},Ba="/friends";function Da(){var e=ot();return{getFriends:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba);return e.get(r,{params:t})},getFriendRequests:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba,"/friendRequests");return e.get(r,{params:t})},getMyRequests:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba,"/myRequests");return e.get(r,{params:t})},getFollowers:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba,"/followers");return e.get(r,{params:t})},getFollowing:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba,"/following");return e.get(r,{params:t})},getBlocked:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:ze}));var r="".concat(Ba,"/blocked");return e.get(r,{params:t})},getRelationByUserName:function(t){var a="".concat(Ba,"/").concat(t);return e.get(a)},addFriend:function(t){var a="".concat(Ba,"/").concat(t,"/addFriend");return e.patch(a)},unfriend:function(t){var a="".concat(Ba,"/").concat(t,"/unfriend");return e.patch(a)},accept:function(t){var a="".concat(Ba,"/").concat(t,"/accept");return e.patch(a)},block:function(t){var a="".concat(Ba,"/").concat(t,"/block");return e.patch(a)},unblock:function(t){var a="".concat(Ba,"/").concat(t,"/unblock");return e.patch(a)},follow:function(t){var a="".concat(Ba,"/").concat(t,"/follow");return e.patch(a)},unfollow:function(t){var a="".concat(Ba,"/").concat(t,"/unfollow");return e.patch(a)}}}var za=function(e){var t=e.value,a=void 0===t?"":t,n=e.onChange,r=e.id,s=e.type,c=void 0===s?"text":s,i=e.className,o=e.disabled,l=e.small;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)("input",{disabled:o,value:a,onChange:n,id:r,type:c,className:"bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-60 dark:focus:ring-opacity-80 outline-none transition-base "+(o?"select-none text-gray-500 dark:text-black":"")+" "+(l?"py-1 px-2 ":"py-2 px-3")+" "+i})})};var Ta=function(e){var t,a,n,r,c,i,o,l=e.isOpen,d=e.setIsOpen,b=e.user,m=e.className,x=Object(s.useState)(null!==(t=b.firstName)&&void 0!==t?t:""),j=Object(be.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(null!==(a=b.lastName)&&void 0!==a?a:""),h=Object(be.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(null!==(n=b.phoneNumber)&&void 0!==n?n:""),w=Object(be.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)(null!==(r=b.email)&&void 0!==r?r:""),A=Object(be.a)(C,2),S=A[0],I=A[1],F=Object(s.useState)(null!==(c=b.nickName)&&void 0!==c?c:""),E=Object(be.a)(F,2),U=E[0],R=E[1],L=Object(s.useState)(null!==(i=b.aboutMe)&&void 0!==i?i:""),M=Object(be.a)(L,2),P=M[0],B=M[1],D=Object(s.useState)(b.gender),z=Object(be.a)(D,2),T=z[0],H=z[1],Y=Object(s.useState)(b.dateOfBirth),G=Object(be.a)(Y,2),W=G[0],V=G[1],K=Object(s.useState)(!1),Z=Object(be.a)(K,2),J=Z[0],Q=Z[1],X=ha(),_=Object(u.b)();function $(){return($=Object(Me.a)(Le.a.mark((function e(){var t;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={firstName:f.substring(0,30),lastName:g.substring(0,30),email:S,nickName:null===U||void 0===U?void 0:U.substring(0,20),aboutMe:null===P||void 0===P?void 0:P.substring(0,149),gender:T,dateOfBirth:W,phoneNumber:k},X.updateInformation(t).then((function(e){_(q(e)),d(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e,t,a,n,r,s;b&&(p(null!==(e=b.firstName)&&void 0!==e?e:""),O(null!==(t=b.lastName)&&void 0!==t?t:""),y(null!==(a=b.phoneNumber)&&void 0!==a?a:""),I(null!==(n=b.email)&&void 0!==n?n:""),R(null!==(r=b.nickName)&&void 0!==r?r:""),B(null!==(s=b.aboutMe)&&void 0!==s?s:""),H(b.gender),V(b.dateOfBirth))}),[b]),Object(s.useEffect)((function(){f.trim()&&g.trim()&&S.trim()?Q(!0):Q(!1)}),[f,g,S]),l?Object(xe.jsxs)("div",{className:"py-4 px-5 max-w-xl min-w-200 bg-white dark:bg-dark-secondary flex flex-col justify-start items-start space-y-3 rounded-xl shadow "+m,children:[Object(xe.jsx)("h3",{className:"text-lg font-semibold w-full border-b dark:border-dark-hover pb-2 text-green-600 dark:text-green-400",children:"Edit Personal Detail"}),Object(xe.jsxs)("div",{className:"space-y-2 md:space-y-4 md:pt-3 pt-1 w-full",children:[Object(xe.jsxs)("div",{className:"mb-3 flex flex-col md:grid md:grid-cols-2 md:place-items-start space-y-2 md:space-y-0",children:[Object(xe.jsxs)("div",{className:"w-full md:col-span-1 md:mr-2 space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"fistName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["First Name ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)(za,{id:"firstName",value:f,onChange:function(e){return p(e.target.value)}})]}),Object(xe.jsxs)("div",{className:"w-full md:col-span-1 md:ml-2 space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"lastName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Last Name ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)(za,{id:"lastName",value:g,onChange:function(e){return O(e.target.value)}})]})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsx)("label",{htmlFor:"nickName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:"Nickname"}),Object(xe.jsx)(za,{id:"nickName",value:U,onChange:function(e){return R(e.target.value)}})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"gender",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Gender ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsxs)("div",{className:"flex justify-evenly items-center text-center space-x-1 px-5 select-none relative h-full z-0",children:[Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T===Dt.MALE?"bg-green-500 text-white":""),htmlFor:"male",children:[Object(xe.jsx)("i",{className:"bx bx-male-sign pt-1 text-lg"}),Object(xe.jsx)("span",{children:"Male"})]}),Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-1 transition-base space-y-1 "+(T===Dt.FEMALE?"bg-green-500 text-white":""),htmlFor:"female",children:[Object(xe.jsx)("i",{className:"bx bx-female-sign pt-1 text-lg"}),Object(xe.jsx)("span",{children:"Female"})]}),Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T===Dt.OTHER?"bg-green-500 text-white":""),htmlFor:"other",children:[Object(xe.jsx)("span",{className:"text-lg",children:"\u26a5"}),Object(xe.jsx)("span",{children:"Other"})]}),Object(xe.jsx)("input",{hidden:!0,id:"male",name:"gender",type:"radio",onChange:function(){return H(Dt.MALE)}}),Object(xe.jsx)("input",{hidden:!0,id:"female",name:"gender",type:"radio",onChange:function(){return H(Dt.FEMALE)}}),Object(xe.jsx)("input",{hidden:!0,id:"other",name:"gender",type:"radio",onChange:function(){return H(Dt.OTHER)}})]})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"dateOfBirth",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Date of Birth ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)(za,{id:"dateOfBirth",value:new Date(W).toDateInputValue(),onChange:function(e){return V(e.target.value)},type:"date"})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"email",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Email ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)(za,{id:"email",value:S,onChange:function(e){return I(e.target.value)}})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsx)("label",{htmlFor:"phoneNumber",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:"Phone Number"}),Object(xe.jsx)(za,{type:"number",id:"phoneNumber",value:k,onChange:function(e){return y(e.target.value)}})]}),Object(xe.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(xe.jsxs)("label",{htmlFor:"aboutMe",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["About Me"," ",Object(xe.jsxs)("span",{className:"font-normal text-sm",children:["(","".concat(null!==(o=null===P||void 0===P?void 0:P.length)&&void 0!==o?o:0,"/150"),")"]})]}),Object(xe.jsx)("textarea",{rows:"3",className:"bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-60 dark:focus:ring-opacity-80 outline-none transition-base py-2 px-3",id:"aboutMe",value:P,onChange:function(e){P.length<150&&B(e.target.value)}})]}),Object(xe.jsxs)("div",{className:"flex flex-col md:flex-row justify-end md:space-x-2 space-y-2 md:space-y-0 items-center pt-2",children:[Object(xe.jsx)(fe,{className:"w-full",outline:!0,content:"Close",onClick:function(){return d(!1)}}),Object(xe.jsx)(fe,{disabled:!J,className:"w-full",content:"Save",onClick:function(){return function(){return $.apply(this,arguments)}()}})]})]})]}):""};Date.prototype.toDateInputValue=function(){var e=new Date(this);return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)};var Ha=function(e){var t=e.user,a=e.className;return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"md:max-w-xs max-w-xl min-w-0 bg-white dark:bg-dark-secondary w-full rounded-xl shadow px-5 py-4 space-y-3 "+a,children:[Object(xe.jsx)("div",{className:"text-lg font-semibold w-full border-b dark:border-dark-hover pb-2 text-green-600 dark:text-green-400",children:"Personal Detail"}),Object(xe.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Name"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2",children:t.fullName})]}),Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Nickname"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2",children:t.nickName?t.nickName:"--"})]}),Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Gender"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2",children:zt[t.gender]})]}),Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Birthday"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2",children:new Date(t.dateOfBirth).getFullYear()>1?ta()(t.dateOfBirth).format("LL"):"--"})]}),Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Phone"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2",children:t.phoneNumber?t.phoneNumber:"--"})]}),Object(xe.jsxs)("div",{className:"flex flex-col",children:[Object(xe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Email"," "]}),Object(xe.jsx)("span",{className:"font-medium max-row-2 break-all",children:t.email?t.email:"--"})]})]})]})})};var Ya=function(){var e,t,a,r=Object(d.i)().userName,c=ha(),i=Da(),o=Object(s.useState)({}),l=Object(be.a)(o,2),b=l[0],m=l[1],x=Object(s.useState)(!1),j=Object(be.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(!1),h=Object(be.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)({}),w=Object(be.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)({}),A=Object(be.a)(C,2),S=A[0],I=A[1],F=Object(s.useState)(Object(xe.jsx)(xe.Fragment,{})),E=Object(be.a)(F,2),U=E[0],R=E[1],L=Object(s.useState)({isOpen:!1}),M=Object(be.a)(L,2),P=M[0],B=M[1],D=Object(d.g)(),z=Object(u.b)(),T=Object(u.c)((function(e){return e.users.currentUser})),H=T.userName===r,Y=Object(s.useRef)();Nt(g,O,Y);var G=Object(s.useState)(1),W=Object(be.a)(G,2),V=W[0],K=W[1],Z=ut(V,r),J=Z.posts,Q=Z.isHasMore,X=Z.isLoading,_=Z.error;function $(e){B({isOpen:!0,photos:e})}function ee(){return(ee=Object(Me.a)(Le.a.mark((function e(t){var a,n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("File",a),e.next=5,c.updateCover(n).then((function(e){z(q(e))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(Me.a)(Le.a.mark((function e(t){var a,n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("File",a),e.next=5,c.updateAvatar(n).then((function(e){z(q(e))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){i.getRelationByUserName(r).then((function(e){I(e)})).catch((function(){D.push("/NotFound")}))}function ne(){i&&i.addFriend(r).then((function(e){ae()}))}function re(){i&&i.unfriend(r).then((function(e){I(Object(n.a)(Object(n.a)({},S),{},{relationType:Bt,isFollowing:!1}))}))}function se(){i&&i.accept(r).then((function(e){ae()}))}function ce(){i&&i.block(r).then((function(e){D.push("/friends")}))}function ie(){y({isOpen:!0,content:"Do you want to unfriend with ".concat(b.fullName,"?"),action:re})}function oe(){y({isOpen:!0,content:"Do you want to decline friend request from ".concat(b.fullName,"?"),action:re})}return Object(s.useEffect)((function(){H?m(T):(c&&r&&c.getByUserName(r).then((function(e){m(e)})).catch((function(){D.push("/NotFound")})),i&&r&&ae()),K({page:1}),window.scrollTo(0,0)}),[r,T]),Object(s.useEffect)((function(){if(S)switch(S.relationType){case Mt:R(Object(xe.jsxs)(fe,{className:"relative flex items-center space-x-1",onClick:ie,children:[Object(xe.jsx)("i",{className:"bx bxs-user-check text-xl"}),Object(xe.jsx)("span",{children:"Friend"})]}));break;case Bt:R(Object(xe.jsxs)(fe,{className:"flex items-center space-x-1",onClick:ne,children:[Object(xe.jsx)("i",{className:"bx bxs-user-plus text-xl"}),Object(xe.jsx)("span",{children:"Add friend"})]}));break;case Pt:R(Object(xe.jsxs)(fe,{secondary:!0,className:"flex items-center space-x-1",onClick:re,children:[Object(xe.jsx)("i",{className:"bx bxs-user-x text-xl"}),Object(xe.jsx)("span",{children:"Cancel friend request"})]}));break;case Lt:R(Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(fe,{secondary:!0,className:"flex items-center space-x-1",onClick:oe,children:[Object(xe.jsx)("i",{className:"bx bxs-user-x text-xl"}),Object(xe.jsx)("span",{children:"Decline"})]}),Object(xe.jsxs)(fe,{className:"flex items-center space-x-1",onClick:se,children:[Object(xe.jsx)("i",{className:"bx bxs-user-check text-xl"}),Object(xe.jsx)("span",{children:"Confirm"})]})]}))}}),[S]),Object(xe.jsxs)(xe.Fragment,{children:[(null===k||void 0===k?void 0:k.isOpen)&&Object(xe.jsx)($t,{isOpen:k.isOpen,closeAction:function(){return y({isOpen:!1})},title:"Are you sure?",content:k.content,confirmButtonTitle:"Yes",confirmButtonAction:k.action}),P.isOpen&&Object(xe.jsx)(ia,{isOpen:P.isOpen,photos:P.photos,startIndex:P.startIndex,setIsOpen:function(e){return B({isOpen:e})}}),Object(xe.jsx)("input",{id:"avatar",type:"file",hidden:!0,accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg",onChange:function(e){return te.apply(this,arguments)}}),Object(xe.jsx)("input",{id:"cover",type:"file",hidden:!0,accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg",onChange:function(e){return ee.apply(this,arguments)}}),Object(xe.jsxs)("div",{className:"absolute top-5 left-0 right-0 bg-gray-100 dark:bg-dark-primary",children:[Object(xe.jsx)("div",{className:"mt-5 md:mt-10 shadow bg-white dark:bg-dark-secondary ",children:Object(xe.jsxs)("div",{className:" flex flex-col items-center max-w-screen-lg md:px-10 mx-auto z-10",children:[Object(xe.jsxs)("div",{className:"relative h-60 md:h-80 w-full flex mb-6 select-none",children:[Object(xe.jsx)("img",{src:null!==(e=null===b||void 0===b?void 0:b.coverUrl)&&void 0!==e?e:Ue,alt:"".concat(null===b||void 0===b?void 0:b.fullName," cover"),className:"w-full object-cover rounded-xl cursor-pointer",onClick:function(){var e;return $([{imageUrl:null!==(e=null===b||void 0===b?void 0:b.coverUrl)&&void 0!==e?e:Ue}])}}),H&&Object(xe.jsxs)("label",{htmlFor:"cover",className:"absolute right-3 bottom-3 flex items-center space-x-2 bg-white bg-opacity-95 rounded-lg md:p-2 md:px-3 p-1 px-2 text-black hover:bg-gray-200 active:bg-gray-300 active:transform active:scale-95 cursor-pointer transition-base text-sm md:text-base",children:[Object(xe.jsx)("i",{className:"bx bxs-camera md:text-base text-xl"}),Object(xe.jsx)("span",{className:"font-semibold hidden md:inline",children:"Edit Cover Photo"})]}),Object(xe.jsxs)("div",{className:"absolute h-44 w-44 rounded-full left-1/2 transform bottom-0 translate-y-5 -translate-x-1/2 border-4 border-white dark:border-dark-secondary ring-4 ring-green-400 dark:ring-green-500 cursor-pointer",children:[Object(xe.jsx)(Se,{parentClassName:"w-full h-full",className:"filter hover:brightness-110",src:null===b||void 0===b?void 0:b.avatarUrl,userName:H?"":null===b||void 0===b?void 0:b.userName,size:"full",onClick:function(){return $([{imageUrl:null===b||void 0===b?void 0:b.avatarUrl}])}}),H&&Object(xe.jsx)("label",{htmlFor:"avatar",children:Object(xe.jsx)(ht,{reverse:!0,className:"absolute right-0 bottom-0",iconClass:"bx bxs-camera"})})]})]}),Object(xe.jsxs)("div",{className:"w-full mx-4 border-b border-gray-400 dark:border-dark-hover pb-6",children:[Object(xe.jsxs)("div",{className:"w-full text-center font-bold text-3xl md:text-4xl py-2 max-row-2",children:[b.fullName," ",b.nickName&&Object(xe.jsx)("span",{className:"font-normal text-2xl md:text-3xl",children:"(".concat(b.nickName,")")})]}),Object(xe.jsx)("div",{className:"md:max-w-2/3 max-w-11/12 mx-auto text-center max-row-3",children:b.aboutMe})]}),Object(xe.jsx)("div",{className:"flex self-end justify-end my-3 md:px-2 px-5 space-x-2",children:H?Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)(fe,{onClick:function(){return p((function(e){return!e}))},secondary:!0,className:"flex items-center space-x-1",children:[Object(xe.jsx)("i",{className:"bx bxs-edit-alt text-2xl"}),Object(xe.jsx)("span",{children:"Edit profile"})]})}):Object(xe.jsxs)("div",{ref:Y,className:"relative flex space-x-2",children:[U,Object(xe.jsx)(fe,{secondary:!0,small:!0,onClick:function(){return O((function(e){return!e}))},children:Object(xe.jsx)("i",{className:"bx bx-dots-horizontal-rounded text-2xl align-middle"})}),g&&Object(xe.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-7 p-1 w-44 right-0 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-3 select-none z-10",children:[Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){S.isFollowing?i&&i.unfollow(r).then((function(e){ae()})):i&&i.follow(r).then((function(e){ae()}))},children:[Object(xe.jsx)("i",{className:"text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 "+(S.isFollowing?"bx bx-x-circle":"bx bx-check-circle")}),Object(xe.jsx)("span",{children:S.isFollowing?"Unfollow":"Follow"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){y({isOpen:!0,content:"Do you want to block ".concat(b.fullName,"?"),action:ce})},children:[Object(xe.jsx)("i",{className:"bx bx-block text-lg text-black dark:text-dark-txt w-7 h-7 text-center align-middle"}),Object(xe.jsx)("span",{children:"Block"})]})]})]})})]})}),Object(xe.jsxs)("div",{className:"md:max-w-4xl pt-2 px-2 pb-10 lg:px-0 mx-auto flex flex-col md:flex-row md:items-start items-center justify-between md:space-x-3",children:[Object(xe.jsx)(Ha,{className:"md:sticky top-20 left-0 space-y-2 md:space-y-3 mb-2 "+(f?"hidden md:block":""),user:b}),Object(xe.jsxs)("div",{className:"max-w-xl w-full mx-auto space-y-2 md:space-y-3",children:[f&&Object(xe.jsx)(Ta,{isOpen:f,setIsOpen:p,user:b}),H&&Object(xe.jsx)(_t,{}),null===(t=Object(ye.a)(null===J||void 0===J?void 0:J.items))||void 0===t||null===(a=t.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===a?void 0:a.map((function(e){return Object(xe.jsx)(pa,{post:e},e.id)})),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){Q&&K({page:V.page+1})},isLoading:X,error:_,isHasMore:Q,loadMoreContent:"Load more posts..."}),(null===J||void 0===J?void 0:J.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold",children:"Not found any posts."})]})]})]})]})},qa=a(52);var Ga=function(){var e=Object(u.b)(),t=ya(),a=Object(s.useState)(null),n=Object(be.a)(a,2),r=n[0],c=n[1],i=Object(u.c)((function(e){return e.users.currentUser})),o=Object(u.c)((function(e){return e.chats.selectedId}));return Object(s.useEffect)((function(){function a(){return(a=Object(Me.a)(Le.a.mark((function a(){return Le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.getAll().then((function(t){e(g(t.data))})).catch((function(e){console.error("Connection failed: ",e)}));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){var e=(new qa.a).withUrl("https://teeappapi.azurewebsites.net/hubs/chats",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();c(e)}),[]),Object(s.useEffect)((function(){return r&&!r.connectionStarted&&r.start().then((function(t){r.on(Ye,(function(t){var a=O(t);e(a),t.chatId&&o!==t.chatId&&e(w(t.chatId))})),r.on(qe,(function(t){var a=v(t);e(a),t.creatorUserName===i.userName&&e(y(t.id))})),r.on(Ge,(function(t){var a=h(t);e(a)})),r.on(We,(function(t){var a=N(t);e(a)})),r.on(Ve,(function(t){var a=k(t);e(a)})),r.on(Ke,(function(t){var a=G(t);e(a)}))})),function(){r&&r.connectionStarted&&r.stop()}}),[r]),Object(xe.jsx)("div",{})};var Wa=function(){var e=Object(d.i)().postId,t=Object(u.c)((function(e){return e.posts.posts})),a=Object(s.useState)({reactions:[],comments:[],photos:[]}),n=Object(be.a)(a,2),r=n[0],c=n[1],i=dt(),o=Object(u.b)(),l=Object(d.g)();return Object(s.useEffect)((function(){if(e&&t){var a,n=null===t||void 0===t||null===(a=t.items)||void 0===a?void 0:a.find((function(t){return t.id.toString()===e}));n?c(n):i.getById(e).then((function(e){c(e),o(X(e))})).catch((function(e){l.push("/NotFound")}))}}),[e,t]),Object(xe.jsx)(xe.Fragment,{children:(null===r||void 0===r?void 0:r.dateCreated)&&Object(xe.jsx)(pa,{post:r,isOpenComment:!0})})},Va=1,Ka=2,Za=4,Ja=5,Qa=6,Xa=7,_a=[{name:"All",type:Xa},{name:"Friends",type:Va},{name:"Requests",type:Ka},{name:"Following",type:Za},{name:"Followers",type:Ja},{name:"Blocked",type:Qa}];function $a(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=Da(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getBlocked(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(xe.jsx)(en,{setConfirmModal:u,user:e,fetchData:function(){g({page:1})}},null===e||void 0===e?void 0:e.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more blocked friends..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You haven't blocked anyone yet."})]})}var en=function(e){var t=e.user,a=void 0===t?{}:t,n=e.setConfirmModal,r=e.fetchData,s=Da();function c(){s&&s.unblock(a.userName).then((function(e){r()}))}return Object(xe.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(xe.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(xe.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:Object(xe.jsx)(fe,{small:!0,secondary:!0,onClick:function(){n({isOpen:!0,content:"Do you want to unblock ".concat(a.fullName,"?"),action:c})},className:"w-full",children:"Unblock"})})]})};function tn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=Da(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFollowers(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(xe.jsx)(an,{setConfirmModal:u,user:e,fetchData:function(){g({page:1})}},null===e||void 0===e?void 0:e.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more followers..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You have no followers."})]})}var an=function(e){var t=e.user,a=void 0===t?{}:t,n=e.setConfirmModal,r=e.fetchData,s=Da();function c(){s&&s.block(a.userName).then((function(e){r()}))}return Object(xe.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(xe.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(xe.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:Object(xe.jsx)(fe,{small:!0,secondary:!0,onClick:function(){n({isOpen:!0,content:"Do you want to block ".concat(a.fullName,"?"),action:c})},className:"w-full",children:"Block"})})]})};function nn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=Da(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFollowing(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(xe.jsx)(rn,{user:e},null===e||void 0===e?void 0:e.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more following..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You aren't following anyone."})]})}var rn=function(e){var t=e.user,a=void 0===t?{}:t,n=Da(),r=Object(s.useState)(!0),c=Object(be.a)(r,2),i=c[0],o=c[1];function d(){n&&(i?n.unfollow(a.userName).then((function(e){o(!1)})):n.follow(a.userName).then((function(e){o(!0)})))}return Object(xe.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(xe.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(xe.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:i?Object(xe.jsx)(fe,{small:!0,secondary:!0,onClick:d,className:"w-full",children:"Unfollow"}):Object(xe.jsx)(fe,{small:!0,onClick:d,className:"w-full",children:"Follow"})})]})};function sn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=Da(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFriends(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"flex flex-col md:grid md:grid-cols-2 md:gap-10",children:null===c||void 0===c?void 0:c.items.map((function(e){var t;return Object(xe.jsx)(cn,{setConfirmModal:u,friendship:e,user:e.user,fetchData:function(){g({page:1})}},null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more friends..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsxs)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:["Not found any friends.",Object(xe.jsx)("br",{})," You should make more friends."]})]})}var cn=function(e){var t=e.friendship,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,c=e.setConfirmModal,i=e.fetchData,o=Object(s.useState)(!1),d=Object(be.a)(o,2),u=d[0],b=d[1],m=Object(s.useState)(!0),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)(a.isFollowing),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useRef)(),N=Da();function w(){N&&N.unfriend(r.userName).then((function(e){f(!1)}))}function k(){N&&N.block(r.userName).then((function(e){i()}))}return Nt(u,b,O),Object(s.useEffect)((function(){g(a.isFollowing)}),[a]),Object(xe.jsxs)("div",{className:"flex items-center justify-between w-full space-x-2",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(r.userName),className:"w-full p-2 flex justify-start items-center space-x-2 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{src:r.avatarUrl,userName:r.userName}),Object(xe.jsxs)("div",{className:"w-full flex flex-col justify-center items-start",children:[Object(xe.jsx)("div",{className:"w-11/12 font-semibold truncate",children:r.fullName}),Object(xe.jsxs)("div",{className:"text-xs dark:text-dark-txt text-gray-500",children:["Your friend since ",ta()(a.respondedDate).format("LL")]})]})]}),Object(xe.jsxs)("div",{ref:O,className:"relative",children:[Object(xe.jsx)(ht,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){b(!u)}}),u&&Object(xe.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 p-1 w-48 right-0 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){N&&(h?N.unfollow(r.userName).then((function(e){g(!1)})):N.follow(r.userName).then((function(e){g(!0)}))),b(!1)},children:[Object(xe.jsx)("i",{className:"bx text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2 "+(h?"bx-x-circle":"bx-check-circle")}),Object(xe.jsx)("span",{className:"text-sm",children:h?"Unfollow":"Follow"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){N&&(j?c({isOpen:!0,content:"Do you want to unfriend with ".concat(r.fullName,"?"),action:w}):N.addFriend(r.userName).then((function(e){f(!0)})),b(!1))},children:[Object(xe.jsx)("i",{className:"bx text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2 "+(j?"bx-user-x":"bx-user-plus")}),Object(xe.jsx)("span",{className:"text-sm",children:j?"Unfriend":"Add friend"})]}),Object(xe.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){b(!1),c({isOpen:!0,content:"Do you want to block ".concat(r.fullName,"?"),action:k})},children:[Object(xe.jsx)("i",{className:"bx bx-block text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(xe.jsx)("span",{className:"text-sm",children:"Block"})]})]})]})]})};function on(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=Da(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFriendRequests(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){var t;return Object(xe.jsx)(ln,{setConfirmModal:u,friendship:e,user:e.user,fetchData:function(){g({page:1})}},null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more friend requests..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You have no friend requests."})]})}var ln=function(e){var t=e.friendship,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,c=e.setConfirmModal,i=e.fetchData,o=Da(),d=Object(s.useState)(!1),u=Object(be.a)(d,2),b=u[0],m=u[1];function x(){o&&o.unfriend(r.userName).then((function(e){i()}))}return Object(xe.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(xe.jsxs)(l.b,{to:"/profile/".concat(r.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{size:"xl",src:r.avatarUrl,userName:r.userName}),Object(xe.jsxs)("div",{className:"w-full flex flex-col justify-center items-start text-center",children:[Object(xe.jsx)("div",{className:"max-w-full font-semibold truncate text-center w-full",children:r.fullName}),Object(xe.jsx)("div",{className:"text-xs dark:text-dark-txt text-gray-500 text-center w-full",children:ta()(a.requestedDate).format("LL")})]})]}),Object(xe.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:b?Object(xe.jsx)("span",{className:"font-semibold text-center align-middle w-full text-green-600 dark:text-green-400 select-none",children:"Accepted"}):Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(fe,{small:!0,onClick:function(){o&&o.accept(r.userName).then((function(e){m(!0)}))},className:"w-full",children:"Accept"}),Object(xe.jsx)(fe,{small:!0,secondary:!0,onClick:function(){c({isOpen:!0,content:"Do you want to decline friend request from ".concat(r.fullName,"?"),action:x})},className:"w-full",children:"Decline"})]})})]})};function dn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(be.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(be.a)(o,2),d=l[0],u=l[1],b=ha(),m=Object(s.useState)(!1),x=Object(be.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(be.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(be.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(be.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getUserList(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(xe.jsxs)(xe.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(xe.jsx)($t,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(xe.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(xe.jsx)(un,{user:e},null===e||void 0===e?void 0:e.id)}))}),Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more users..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"Not found any users."})]})}var un=function(e){var t=e.user,a=void 0===t?{}:t;return Object(xe.jsx)("div",{className:"flex-center flex-col w-full space-y-1",children:Object(xe.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(xe.jsx)(Se,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(xe.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]})})};var bn=function(){var e=Object(s.useState)(""),t=Object(be.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(Va),c=Object(be.a)(r,2),i=c[0],o=c[1];return Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)("div",{className:"w-full max-w-screen-lg mx-auto rounded-xl bg-white dark:bg-dark-secondary px-5 py-4 pb-6 flex flex-col space-y-4",children:[Object(xe.jsxs)("div",{className:"flex justify-between items-center",children:[Object(xe.jsx)("span",{className:"font-bold md:text-2xl text-xl",children:"Friends"}),Object(xe.jsxs)("div",{className:"relative",children:[Object(xe.jsx)("input",{type:"search",className:"bg-gray-100 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base text-sm md:text-base",placeholder:"Search friends!",value:a,onChange:function(e){return n(e.target.value)}}),Object(xe.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]})]}),Object(xe.jsx)("div",{className:"flex overflow-x-auto w-full justify-start items-center flex-shrink-0",children:_a.map((function(e){return Object(xe.jsx)("span",{onClick:function(){return o(e.type)},className:"text-sm md:text-base font-semibold px-4 py-4 cursor-pointer select-none transition-base border-b-4  "+(e.type===i?"text-green-600 dark:text-green-400 border-green-500":"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-hover dark:active:bg-dark-third rounded-lg border-transparent active:transform active:scale-95"),children:e.name},"Friend option "+e.name)}))}),Object(xe.jsxs)("div",{className:"pt-2",children:[i===Va&&Object(xe.jsx)(sn,{keyword:a}),i===Ka&&Object(xe.jsx)(on,{keyword:a}),i===Qa&&Object(xe.jsx)($a,{keyword:a}),i===Ja&&Object(xe.jsx)(tn,{keyword:a}),i===Za&&Object(xe.jsx)(nn,{keyword:a}),i===Xa&&Object(xe.jsx)(dn,{keyword:a})]})]})})};var mn=function(){var e,t,a=Object(d.g)(),n=Object(d.i)().keyword,r=Object(s.useState)(""),c=Object(be.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)({page:-1}),b=Object(be.a)(l,2),m=b[0],x=b[1],j=function(e){var t=Object(s.useState)(!1),a=Object(be.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(be.a)(c,2),o=i[0],l=i[1],d=Object(u.c)((function(e){return e.posts.posts})),b=Object(s.useState)(!0),m=Object(be.a)(b,2),x=m[0],j=m[1],f=dt(),p=Object(u.b)();return Object(s.useEffect)((function(){(x&&e||1===e.page)&&-1!==e.page&&(r(!0),l(!1),f.getAll(e).then((function(t){e.page>1?p(ce(t)):p(Q(t)),j(e.page<t.pageCount),r(!1)})).catch((function(e){l(e)})))}),[e]),{posts:d,isLoading:n,error:o,isHasMore:x}}(m),f=j.posts,p=j.isHasMore,v=j.isLoading,h=j.error;return Object(s.useEffect)((function(){x(n?{keyword:n,page:1}:{keyword:n,page:-1})}),[n]),Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a.push("/search/"+i)}(e)},className:"sticky top-16 md:hidden mb-4 z-30",children:[Object(xe.jsx)("input",{type:"search",className:"bg-gray-200 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base w-full",placeholder:"Search TeeApp!",value:i,onChange:function(e){return o(e.target.value)}}),Object(xe.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]}),Object(xe.jsx)("div",{className:"w-full flex flex-cols items-start justify-between animate-fadeIn space-x-2",children:Object(xe.jsxs)("div",{className:"space-y-2 md:space-y-3 lg:min-w-600 md:min-w-500 w-full flex flex-col items-center",children:[null===(e=Object(ye.a)(null===f||void 0===f?void 0:f.items))||void 0===e||null===(t=e.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===t?void 0:t.map((function(e){return Object(xe.jsx)(pa,{post:e},e.id)})),-1!==m.page&&Object(xe.jsx)(Ee,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){p&&x({keyword:n,page:m.page+1})},isLoading:v,error:h,isHasMore:p,loadMoreContent:"Load more posts..."}),-1===m.page&&Object(xe.jsx)("div",{className:"text-center py-3 font-semibold",children:"Please enter keyword for searching."}),(null===f||void 0===f?void 0:f.totalRecords)<=0&&Object(xe.jsxs)("div",{className:"text-center py-3 font-semibold",children:['Not found any posts with keyword: "',n,'".']})]})})]})};var xn=function(e){var t=Object(u.c)((function(e){return e.app.isLoading})),a=Object(u.c)((function(e){return e.app.popup})),n=Object(u.b)(),r=Object(s.useState)(null),c=Object(be.a)(r,2),i=c[0],o=c[1];return Object(s.useEffect)((function(){var e=(new qa.a).withUrl("https://teeappapi.azurewebsites.net/hubs/app",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();o(e)}),[]),Object(s.useEffect)((function(){return i&&!i.connectionStarted&&i.start().then((function(e){i.on(nt,(function(e){n(L(e))})),i.on(Ze,(function(e){n(oe())})),i.on(Je,(function(e){n(_(e))})),i.on(Qe,(function(e){n($(e))})),i.on(et,(function(e){n(ee(e))})),i.on(tt,(function(e){n(te(e))})),i.on(at,(function(e,t){n(ae({postId:e,reactionId:t}))})),i.on(Xe,(function(e){n(ne(e))})),i.on(_e,(function(e){n(re(e))})),i.on($e,(function(e,t){n(se({postId:e,commentId:t}))}))})),function(){i&&i.connectionStarted&&i.stop()}}),[i]),Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsxs)(l.a,{basename:"/TeeApp",children:[t&&Object(xe.jsx)(je,{isOpen:t,className:"z-50"}),a.isOpen&&Object(xe.jsx)(ve,{title:a.title,isOpen:a.isOpen,content:a.content,onClick:function(){n(U({isOpen:!1}))}}),Object(xe.jsx)(Ga,{}),Object(xe.jsx)(Pa,{className:"fixed top-0 w-screen"}),Object(xe.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-dark-primary dark:text-white min-h-screen pt-16 pb-10",children:Object(xe.jsx)("div",{className:"w-full md:max-w-screen-xl mx-auto pt-2 md:pt-4",children:Object(xe.jsxs)(d.d,{children:[Object(xe.jsx)(d.b,{path:"/search/:keyword?",component:mn}),Object(xe.jsx)(d.b,{exact:!0,path:"/Forbid",component:ge}),Object(xe.jsx)(d.b,{exact:!0,path:"/ServerError",component:ke}),Object(xe.jsx)(d.b,{exact:!0,path:"/friends",component:bn}),Object(xe.jsx)(d.b,{exact:!0,path:"/profile/:userName",component:Ya}),Object(xe.jsx)(d.b,{exact:!0,path:"/posts/:postId",component:Wa}),Object(xe.jsx)(d.b,{exact:!0,path:"/",component:Oa}),Object(xe.jsx)(d.b,{path:"*",component:Ne})]})})})]})})},jn=a.p+"static/media/login-page.0d15c2c6.svg";var fn=function(){var e=Object(s.useState)(""),t=Object(be.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(be.a)(r,2),i=c[0],o=c[1],d=Object(s.useState)(""),u=Object(be.a)(d,2),b=u[0],m=u[1],x=Object(s.useState)(!1),j=Object(be.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(!1),h=Object(be.a)(v,2),g=h[0],O=h[1],N=Ma();function w(){return(w=Object(Me.a)(Le.a.mark((function e(t){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),n={username:a,password:b},o(""),e.next=6,N.login(n).then((function(e){window.localStorage.setItem("token",e),window.location.href="/TeeApp/"})).catch((function(e){o("string"===typeof e?e:"Oops, something went wrong! Please contact administrator.")}));case 6:O(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){p(!(!a||!b))}),[a,b]),Object(xe.jsxs)(xe.Fragment,{children:[g&&Object(xe.jsx)(je,{}),Object(xe.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto",children:[Object(xe.jsx)("img",{src:jn,alt:"login",className:"lg:block hidden"}),Object(xe.jsxs)("form",{onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)},className:"container rounded-2xl flex flex-col lg:px-10 md:px-16 xl:px-16",children:[Object(xe.jsx)("img",{src:me,alt:"login",className:"h-20 w-20 mx-auto mb-3"}),Object(xe.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Login to TeeApp!"}),i&&Object(xe.jsx)("span",{className:"bg-red-500 rounded-md text-white text-lg mb-2 py-2 text-center",children:null!==i&&void 0!==i?i:"Username or password is incorrect"}),Object(xe.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(xe.jsx)("label",{htmlFor:"username",className:"text-lg font-semibold px-1",children:"Username or email address"}),Object(xe.jsx)(za,{value:a,onChange:function(e){return n(e.target.value)},id:"username",type:"text"})]}),Object(xe.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(xe.jsx)("label",{htmlFor:"password",className:"text-lg font-semibold px-1",children:"Password"}),Object(xe.jsx)(za,{value:b,onChange:function(e){return m(e.target.value)},type:"password",id:"password"})]}),Object(xe.jsx)(fe,{disabled:!f,content:"Login",className:"mb-4 mt-2 font-bold"}),Object(xe.jsxs)("div",{className:"text-center",children:["Not a member?"," ",Object(xe.jsx)(l.b,{to:"/register",className:"text-green-600 dark:text-green-400 font-bold",children:"Sign up now"})]})]})]})]})},pn=a(105),vn=a(26),hn=a(27);var gn=function(){var e,t,a,r,c,i,o,u,b=Object(s.useState)(!1),m=Object(be.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)(!1),p=Object(be.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)(!0),O=Object(be.a)(g,2),N=O[0],w=O[1],k=Object(s.useState)({isOpen:!1,content:"",title:"Notification"}),y=Object(be.a)(k,2),C=y[0],A=y[1],S=Object(d.g)(),I=Ma(),F="bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-80 dark:focus:ring-opacity-80 outline-none transition-base",E=hn.b().shape({firstName:hn.c().required("First Name is required"),lastName:hn.c().required("Last Name is required"),dateOfBirth:hn.a().required("Date of Birth is required").test("checkAge","Must be smaller than today",(function(e){return e<new Date})),userName:hn.c().required("User Name is required").min(6,"Username must be 6-20 characters").max(20,"Username must be 6-20 characters").test("checkUsername","Username does not contain special characters",(function(e){return On(e,"^(?=[a-zA-Z0-9._])(?!.*[_.]{2})[^_.].*[^_.]$")})).test("existsUsername","Username is already taken",(function(e){return!N})),email:hn.c().required("Email is required").test("checkEmail","Email is invalid",(function(e){return On(e,/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)})),password:hn.c().required("Password is required").test("checkPassword","Passwords must be at least 8 characters, one digit, one uppercase, one non alphanumeric character",(function(e){return On(e,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$^+=!*()@%&]).{8,}$")})),confirmPassword:hn.c().required("Confirm Password is required").test("ConfirmPasswordMatch","Password and Confirmation Password must match",(function(e){return e===T.password}))}),U=Object(vn.d)({resolver:Object(pn.a)(E),defaultValues:{}}),R=U.register,L=U.handleSubmit,M=U.control,P=U.setError,B=U.clearErrors,D=U.reset,z=U.formState.errors,T=Object(vn.e)({control:M});Object(s.useEffect)((function(){I.checkUserNameExists(T.userName).then((function(e){e.isExists?(P("userName",{type:"required",message:"Username '".concat(T.userName,"' is already taken")},{shouldFocus:!0}),w(!0)):(B("userName"),w(!1))}))}),[T.userName]),Object(s.useEffect)((function(){!function(){var e,t,a;(null===(e=T.firstName)||void 0===e?void 0:e.trim())&&(null===(t=T.lastName)||void 0===t?void 0:t.trim())&&(null===(a=T.userName)||void 0===a?void 0:a.trim())&&T.email&&T.gender&&T.dateOfBirth&&T.password&&T.confirmPassword?j(!0):j(!1)}()}),[T]);var H=function(){var e=Object(Me.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,I.register(t).then((function(e){Y("Success",Object(xe.jsxs)("span",{children:['"Create account successfully! Please'," ",Object(xe.jsx)(l.b,{className:"font-bold text-green-600",to:"/login",children:"log in"}),'!"']})),D({})}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Y(e,t){A({isOpen:!0,title:e,content:t})}return Object(xe.jsxs)(xe.Fragment,{children:[v&&Object(xe.jsx)(je,{}),C.isOpen&&Object(xe.jsx)(ve,{title:C.title,isOpen:C.isOpen,content:C.content,onClick:function(){A({isOpen:!1}),S.push("/login")}}),Object(xe.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto pt-10 pb-20 md:py-0",children:[Object(xe.jsx)("img",{src:jn,alt:"login",className:"lg:block hidden"}),Object(xe.jsxs)("form",{onSubmit:L(H),className:"container rounded-2xl flex flex-col",children:[Object(xe.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Sign up to TeeApp!"}),Object(xe.jsxs)("div",{className:"mb-3 grid md:grid-cols-4 md:col-span-5 place-items-start ",children:[Object(xe.jsxs)("div",{className:"col-span-2 space-y-2 md:mr-2 w-full",children:[Object(xe.jsxs)("label",{htmlFor:"fistName",className:"text-lg font-semibold ",children:["First Name ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({},R("firstName")),{},{type:"text",className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(e=z.firstName)||void 0===e?void 0:e.message})]}),Object(xe.jsxs)("div",{className:"col-span-2 space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(xe.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold ",children:["Last Name ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({},R("lastName")),{},{type:"text",className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(t=z.lastName)||void 0===t?void 0:t.message})]})]}),Object(xe.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(xe.jsxs)("label",{htmlFor:"userName",className:"text-lg font-semibold ",children:["Username ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({},R("userName")),{},{type:"text",className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(a=z.userName)||void 0===a?void 0:a.message})]}),Object(xe.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(xe.jsxs)("label",{htmlFor:"email",className:"text-lg font-semibold ",children:["Email ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({},R("email")),{},{type:"text",className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(r=z.email)||void 0===r?void 0:r.message})]}),Object(xe.jsxs)("div",{className:"mb-3 grid grid-cols-2 place-items-start ",children:[Object(xe.jsxs)("div",{className:"col-span-2 md:col-span-1 space-y-2 w-full",children:[Object(xe.jsxs)("label",{htmlFor:"gender",className:"text-lg font-semibold ",children:["Gender ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsxs)("div",{className:"flex justify-evenly items-center text-center space-x-1 px-5 select-none relative h-full",children:[Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T.gender===Dt.MALE.toString()?"bg-green-500 text-white":""),htmlFor:"male",children:[Object(xe.jsx)("i",{className:"bx bx-male-sign pt-1 text-lg"}),Object(xe.jsx)("span",{children:"Male"})]}),Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-1 transition-base space-y-1 "+(T.gender===Dt.FEMALE.toString()?"bg-green-500 text-white":""),htmlFor:"female",children:[Object(xe.jsx)("i",{className:"bx bx-female-sign pt-1 text-lg"}),Object(xe.jsx)("span",{children:"Female"})]}),Object(xe.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T.gender===Dt.OTHER.toString()?"bg-green-500 text-white":""),htmlFor:"other",children:[Object(xe.jsx)("span",{className:"text-lg",children:"\u26a5"}),Object(xe.jsx)("span",{children:"Other"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},R("gender")),{},{id:"male",name:"gender",type:"radio",value:Dt.MALE})),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},R("gender")),{},{id:"female",name:"gender",type:"radio",value:Dt.FEMALE})),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},R("gender")),{},{id:"other",name:"gender",type:"radio",value:Dt.OTHER}))]}),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(c=z.gender)||void 0===c?void 0:c.message})]}),Object(xe.jsxs)("div",{className:"col-span-2 md:col-span-1 flex flex-col space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(xe.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold",children:["Date of Birth ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({},R("dateOfBirth")),{},{type:"date",className:F+" w-full"})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(i=z.dateOfBirth)||void 0===i?void 0:i.message})]})]}),Object(xe.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(xe.jsxs)("label",{htmlFor:"password",className:"text-lg font-semibold ",children:["Password ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},R("password")),{},{className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(o=z.password)||void 0===o?void 0:o.message})]}),Object(xe.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(xe.jsxs)("label",{htmlFor:"confirmPassword",className:"text-lg font-semibold ",children:["Confirm Password ",Object(xe.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(xe.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},R("confirmPassword")),{},{className:F})),Object(xe.jsx)("div",{className:"text-red-500 text-sm",children:null===(u=z.confirmPassword)||void 0===u?void 0:u.message})]}),Object(xe.jsx)(fe,{disabled:!x,content:"Sign Up",className:"mb-4 mt-2 font-bold"}),Object(xe.jsxs)("div",{className:"text-center",children:["Already a member?"," ",Object(xe.jsx)(l.b,{to:"/login",className:"text-green-600 dark:text-green-400 font-bold",children:"Log in"})]})]})]})]})};function On(e,t){if(e&&t)return new RegExp(t).test(e)}a(249),a(250),a(251);var Nn=["component"];function wn(e){var t=e.component,a=Object(r.a)(e,Nn),s=!!window.localStorage.getItem("token");return Object(xe.jsx)(d.b,Object(n.a)(Object(n.a)({},a),{},{render:function(e){return!0===s?Object(xe.jsx)(t,Object(n.a)({},e)):Object(xe.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}o.a.render(Object(xe.jsx)(c.a.StrictMode,{children:Object(xe.jsx)(u.a,{store:ue,children:Object(xe.jsx)(l.a,{basename:"/TeeApp",children:Object(xe.jsxs)(d.d,{children:[Object(xe.jsx)(d.b,{exact:!0,path:"/login",component:fn}),Object(xe.jsx)(d.b,{exact:!0,path:"/register",component:gn}),Object(xe.jsx)(wn,{path:"*",component:xn})]})})})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.1c86b0c2.chunk.js.map