(this["webpackJsonptee-app"]=this["webpackJsonptee-app"]||[]).push([[0],{249:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(105),s=a(1),c=a.n(s),i=a(49),o=a.n(i),l=a(10),d=a(15),u=a(6),b=a(17),m=a(26),x=Object(b.b)({name:"chats",initialState:[],reducers:{addChat:function(e,t){e.some((function(e){return e.id===t.payload.id}))||e.push(t.payload)},editChat:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a.id}));n>=0?(e[n].name=a.name,e[n].participants=a.participants):e.push(a)},editGroupAvatar:function(e,t){var a,n=t.payload.chatId,r=e.findIndex((function(e){return e.id===n}));r>=0&&(e[r].groupAvatarUrl=null===(a=t.payload)||void 0===a?void 0:a.groupAvatarUrl)},addReadByUserName:function(e,t){var a=t.payload,n=a.chatId,r=a.readByUserName,s=e.findIndex((function(e){return e.id===n}));s>=0&&(e[s].readByUserNames.includes(r)||e[s].readByUserNames.push(r))},appendMessageToChat:function(e,t){var a=t.payload,n=null===a||void 0===a?void 0:a.messages;if(a&&n){var r=e.findIndex((function(e){return e.id===a.id}));r>=0&&(e[r].totalRecords=a.totalRecords,e[r].limit=a.limit,e[r].page=a.page,e[r].pageCount=a.pageCount,a.keyword?e[r].messages=n:e[r].messages=e[r].messages.concat(n))}},refreshChats:function(e,t){var a;return null!==(a=t.payload)&&void 0!==a?a:[]},addMessage:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a.chatId}));n>=0&&(e[n].messages.push(null===a||void 0===a?void 0:a.message),e[n].readByUserNames=[null===a||void 0===a?void 0:a.SenderUserName])},addNotification:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));n>=0&&(e[n].numOfUnreadMessages+=1)},readChat:function(e,t){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));n>=0&&(e[n].numOfUnreadMessages=0)}}}),j=Object(b.b)({name:"selectedIds",initialState:[],reducers:{addSelectedId:function(e,t){e.includes(t.payload)||(e.length>=2&&e.splice(0,1),e.push(t.payload))},removeSelectedId:function(e,t){var a=e.indexOf(t.payload);a>=0&&e.splice(a,1)}}}),f=Object(m.b)({chats:x.reducer,selectedIds:j.reducer}),p=x.actions,v=p.addChat,h=p.editChat,g=p.refreshChats,O=p.addMessage,N=p.appendMessageToChat,w=p.editGroupAvatar,k=p.readChat,y=p.addNotification,C=p.addReadByUserName,A=j.actions,S=A.addSelectedId,I=A.removeSelectedId,F=f,U=Object(b.b)({name:"isLoading",initialState:!1,reducers:{setIsLoading:function(e,t){return t.payload}}}),E=Object(b.b)({name:"popup",initialState:{isOpen:!1,content:"",title:"Notification"},reducers:{setPopup:function(e,t){return t.payload}}}),R=Object(b.b)({name:"notifications",initialState:{items:[]},reducers:{addNotification:function(e,t){var a;null===e||void 0===e||null===(a=e.items)||void 0===a||a.push(t.payload)},loadNotification:function(e,t){if(t.payload.page>e.page){var a=t.payload;e.totalRecords=a.totalRecords,e.limit=a.limit,e.page=a.page,e.pageCount=a.pageCount,e.items=e.items.concat(a.items)}},readAllNotification:function(e,t){var a,n;null===e||void 0===e||null===(a=e.items)||void 0===a||null===(n=a.filter((function(e){return!e.isRead})))||void 0===n||n.forEach((function(e){return e.isRead=!0}))},readNotificationById:function(e,t){var a,n=t.payload,r=null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));r>=0&&(e.items[r].isRead=!0)},refreshNotification:function(e,t){return t.payload}}}),P=Object(m.b)({isLoading:U.reducer,popup:E.reducer,notifications:R.reducer}),M=U.actions.setIsLoading,L=E.actions.setPopup,B=R.actions,D=B.addNotification,z=B.refreshNotification,T=B.readAllNotification,H=B.readNotificationById,q=B.loadNotification,G=P,W=Object(b.b)({name:"currentUser",initialState:{},reducers:{setCurrentUser:function(e,t){return t.payload}}}),Y=Object(b.b)({name:"onlineUserNameList",initialState:[],reducers:{updateOnlineUserNameList:function(e,t){return t.payload}}}),V=Object(m.b)({currentUser:W.reducer,onlineUserNameList:Y.reducer}),Z=W.actions.setCurrentUser,K=Y.actions.updateOnlineUserNameList,J=V,Q=Object(b.b)({name:"newPostTotal",initialState:0,reducers:{addNewPost:function(e){return e+1},resetNewPost:function(){return 0}}}),X=Object(b.b)({name:"posts",initialState:{items:[]},reducers:{refreshPost:function(e,t){return t.payload},addPost:function(e,t){var a,n=t.payload;e.items.some((function(e){return e.id===n.id}))||(null===e||void 0===e||null===(a=e.items)||void 0===a||a.push(n))},updatePost:function(e,t){var a,n=t.payload,r=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n.id}));r>=0?(e.items[r].photos=n.photos,e.items[r].content=n.content,e.items[r].privacy=n.privacy):e.push(n)},deletePost:function(e,t){var a,n=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===t.payload}));n>=0&&e.items.splice(n,1)},loadPost:function(e,t){if(t.payload.page>e.page){var a=t.payload;e.totalRecords=a.totalRecords,e.limit=a.limit,e.page=a.page,e.pageCount=a.pageCount,e.items=e.items.concat(a.items)}},addReaction:function(e,t){var a=t.payload.postId,n=t.payload.reaction;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));s>=0&&e.items[s].reactions.push(n)}},updateReaction:function(e,t){var a=t.payload.postId,n=t.payload.reaction;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===n.id}));i>=0&&(e.items[s].reactions[i].type=n.type)}}},deleteReaction:function(e,t){var a=t.payload.postId,n=t.payload.reactionId;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===n}));if(i>=0)return e.items[s].reactions.splice(i,1),e}}},addComment:function(e,t){var a=t.payload.postId,n=t.payload.comment;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));s>=0&&e.items[s].comments.push(n)}},updateComment:function(e,t){var a=t.payload.postId,n=t.payload.comment;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===n.id}));i>=0&&(e.items[s].comments[i].content=n.content)}}},deleteComment:function(e,t){var a=t.payload.postId,n=t.payload.commentId;if(a&&n){var r,s=null===e||void 0===e||null===(r=e.items)||void 0===r?void 0:r.findIndex((function(e){return e.id===a}));if(s>=0){var c,i=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===n}));if(i>=0)return e.items[s].comments.splice(i,1),e}}}}}),$=Object(m.b)({posts:X.reducer,newPostTotal:Q.reducer}),_=X.actions,ee=_.refreshPost,te=_.addPost,ae=_.updatePost,ne=_.deletePost,re=_.addReaction,se=_.updateReaction,ce=_.deleteReaction,ie=_.addComment,oe=_.updateComment,le=_.deleteComment,de=_.loadPost,ue=Q.actions,be=ue.addNewPost,me=ue.resetNewPost,xe={chats:F,app:G,users:J,posts:$},je=Object(b.a)({reducer:xe}),fe=a(2),pe=a.p+"static/media/logo-shadow.3faacd46.png",ve=a(0),he=function(e){var t,a=e.className,n=e.isOpen,r=void 0===n||n,c="h-3 w-3 bg-gradient-to-br from-green-300 to-green-600 shadow-md rounded-full",i=Object(s.useState)(!1),o=Object(fe.a)(i,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){return function(){d(!0)}}),[]),r&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"z-50 animate-fadeIn flex flex-col h-screen w-screen justify-center items-center fixed transition-base bg-white dark:bg-dark-secondary"+(l?" hidden":"")+(null!==(t=" "+a)&&void 0!==t?t:""),children:[Object(ve.jsx)("img",{src:pe,className:"w-20 h-20 mb-10",alt:"logo"}),Object(ve.jsxs)("div",{className:"flex-center transition-base",children:[Object(ve.jsx)("div",{className:"".concat(c," mr-3 animate-bounce")}),Object(ve.jsx)("div",{className:"".concat(c," mr-3 animate-bounce200")}),Object(ve.jsx)("div",{className:"".concat(c," animate-bounce400")})]})]})})};var ge=function(e){var t=e.outline,a=void 0!==t&&t,n=e.content,r=e.className,s=e.onClick,c=e.onBlur,i=e.disabled,o=e.children,l=e.secondary,d=e.small,u=l?"bg-gray-200 hover:bg-gray-300 active:bg-gray-400 dark:bg-dark-third dark:hover:bg-dark-hover":"bg-gradient-to-br from-green-400 to-green-600 text-white active:from-green-500 active:to-green-600",b=l?"":"ring-inset ring-1 ring-green-500 bg-white dark:bg-transparent dark:hover:bg-green-500 text-green-500 hover:text-white hover:bg-green-400 active:bg-green-500";return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("button",{disabled:i,onClick:s,onBlur:c,className:" transition-base text-sm rounded-lg md:text-base duration-200 disabled:opacity-50 outline-none z-0 select-none font-semibold "+(a?b:u)+" "+(null!==r&&void 0!==r?r:"")+" "+(d?"px-3 py-1":"px-4 py-2 min-w-70")+" "+(i?"cursor-default":"active:scale-95 active:transform"),children:n||o})})},Oe=function(e){Object(s.useEffect)((function(){return document.body.style.overflowY=e?"hidden":"unset",function(){document.body.style.overflowY="unset"}}),[e])};var Ne=function(e){var t=e.title,a=void 0===t?"Notification":t,n=e.isOpen,r=e.content,s=void 0===r?"Oops! Something went wrong!":r,c=e.onClick;return Oe(n),n&&Object(ve.jsx)("div",{className:"px-4 flex-center overlay",style:{margin:0},children:Object(ve.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary md:py-8 md:px-8 py-4 px-5  w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-8 shadow-2xl border border-gray-300 dark:border-dark-third md:max-w-700",children:[Object(ve.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:a}),Object(ve.jsx)("span",{className:"break-words dark:text-dark-txt",children:s}),Object(ve.jsx)("div",{className:"w-full flex justify-end",children:Object(ve.jsx)(ge,{content:"Close",onClick:c})})]})})},we=a.p+"static/media/forbid.e276990e.svg";var ke=function(e){var t=e.message;return Object(ve.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(ve.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:we,alt:"Error"}),Object(ve.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"You don't have permission to access this resources"}),Object(ve.jsx)(l.b,{to:"/",children:Object(ve.jsx)(ge,{content:"Return home page"})})]})},ye=a.p+"static/media/not-found.efbefd9e.svg";var Ce=function(e){var t=e.message;return Object(ve.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(ve.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:ye,alt:"Error"}),Object(ve.jsx)("span",{className:" font-bold text-xl md:text-3xl text-center",children:null!==t&&void 0!==t?t:"Not found resources"}),Object(ve.jsx)(l.b,{to:"/",children:Object(ve.jsx)(ge,{content:"Return home page"})})]})},Ae=a.p+"static/media/server-error.0bee07d2.svg";var Se=function(e){var t=e.message;return Object(ve.jsxs)("div",{className:"z-10 fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(ve.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:Ae,alt:"Error"}),Object(ve.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"Oops! Something went wrong!"}),Object(ve.jsx)(l.b,{to:"/",children:Object(ve.jsx)(ge,{content:"Return home page"})})]})},Ie=a(7),Fe=a.p+"static/media/default-avatar.ae67bd1e.jpg";function Ue(e){var t,a,n,r=e.src,s=void 0===r?Fe:r,c=e.className,i=void 0===c?"":c,o=e.parentClassName,l=void 0===o?"":o,d=e.alt,b=void 0===d?"Avatar":d,m=e.size,x=void 0===m?"md":m,j=e.userName,f=void 0===j?"":j,p=e.participants,v=e.onClick,h=Object(u.c)((function(e){return e.users.onlineUserNameList})),g=Object(u.c)((function(e){return e.users.currentUser})),O=f===g.userName,N=!1;switch(O||(f?N=h.includes(f):p&&(N=p.filter((function(e){return e.userName!==g.userName})).map((function(e){return e})).some((function(e){return h.includes(e.userName)})))),x){case"xs":a="w-2 h-2";break;case"sm":a="md:w-3 md:h-3 w-2 h-2 md:border-2 border";break;case"lg":a="border-2 w-4 h-4";break;case"xl":a="border-2 w-5 h-5";break;case"full":a="border-4 w-1/5 h-1/5";break;default:a="border-2 md:w-4 md:h-4 h-3 w-3"}switch(x){case"xs":n="h-5 w-5 md:h-6 md:w-6";break;case"sm":n="h-6 w-6 md:h-8 md:w-8";break;case"lg":n="h-14 w-14 md:h-16 md:w-16";break;case"xl":n="h-20 w-20 md:h-24 md:w-24";break;case"full":n="h-full w-full";break;default:n="h-10 w-10 md:h-12 md:w-12"}return Object(ve.jsxs)("div",{className:"relative flex-shrink-0 ".concat(l),children:[Object(ve.jsx)("img",{onClick:v,className:null!==(t=n+" select-none bg-white rounded-full object-cover flex-shrink-0 "+i)&&void 0!==t?t:"",src:s&&""!==s?s:Fe,alt:b}),(O||N)&&Object(ve.jsx)("span",{className:"absolute bg-green-500 dark:bg-green-400 bottom-0 right-0 rounded-full border-white dark:border-black "+a})]})}var Ee=c.a.memo(Ue),Re=a.p+"static/media/spinner.5952382b.svg";var Pe=function(){return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("img",{src:Re,alt:"spinner",className:"animate-spin w-7 h-7"})})};var Me=function(e){var t=e.isHasMore,a=e.isLoading,n=e.error,r=e.onClick,s=e.loadMoreContent,c=void 0===s?"Load more...":s,i=e.loadMoreClassName,o=void 0===i?"":i,l=e.className,d=void 0===l?"":l;return Object(ve.jsxs)("div",{className:d,children:[t&&!a&&Object(ve.jsx)("div",{className:"flex",children:Object(ve.jsx)("button",{className:"mx-auto px-4 bg-gray-100 py-2 rounded-lg transform active:scale-95 hover:bg-gray-200 dark:hover:bg-dark-hover dark:bg-dark-third dark:text-gray-300 text-xs md:text-sm transition-all duration-200 "+o,onClick:r,children:c})}),a&&Object(ve.jsx)("div",{className:"flex justify-center mt-2",children:Object(ve.jsx)(Pe,{})}),n&&Object(ve.jsx)("div",{className:"text-red-500 text-center ",children:n})]})},Le=a.p+"static/media/default-cover.1aa0fb86.jpg",Be=a(5),De=a.n(Be),ze=a(9),Te=3145728,He=50,qe=50,Ge=50,We="No name",Ye="Unknown",Ve="ReceiveMessage",Ze="ReceiveChat",Ke="ReceiveUpdatedChat",Je="ReceiveUpdatedGroupAvatar",Qe="ReceiveAddReadByUserName",Xe="ReceiveUpdatedOnlineUserNameList",$e="ReceivePost",_e="ReceiveUpdatedPost",et="DeletePost",tt="ReceiveComment",at="ReceiveUpdatedComment",nt="DeleteComment",rt="ReceiveReaction",st="ReceiveUpdatedReaction",ct="DeleteReaction",it="ReceiveNotification",ot=a(99),lt=a.n(ot),dt=a(100),ut=a.n(dt);function bt(){var e=Object(u.b)(),t=Object(d.g)(),a=lt.a.create({baseURL:"https://teeappapi.azurewebsites.net/api",timeout:3e5,headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return ut.a.stringify(e)}});function r(t,a){e(L({isOpen:!0,title:t,content:a}))}return a.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r=t,a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.interceptors.response.use((function(t){return e(M(!1)),t&&t.data?t.data:t}),(function(a){var n,s,c,i,o,l,d,u;e(M(!1));var b="string"===typeof(null===(n=a.response)||void 0===n?void 0:n.data)?null===(s=a.response)||void 0===s?void 0:s.data:"Oops, something went wrong! Please contact administrator.";if(a.response){var m="Notification";switch(a.response.status){case 401:m="Login required",window.localStorage.removeItem("token"),window.location.href="/TeeApp/";break;case 403:m="Forbidden",null===t||void 0===t||t.push("/ForBid");break;case 500:m="Server error",null===t||void 0===t||t.push("/ServerError");break;default:return r(m,b=(null===(c=a.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.errors)?function(e){for(var t="",a=0,n=Object.values(e);a<n.length;a++){var r=n[a];t+="".concat(r.toString(),", ")}return t=t.substring(0,t.length-2)}(null===(o=a.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errors):b),Promise.reject(null===(d=a.response)||void 0===d?void 0:d.data)}}return b.toLowerCase().includes("Unable to identify user")&&(r(m,b),window.localStorage.removeItem("token"),window.location.href="/TeeApp/"),null===t||void 0===t||t.push("/ServerError"),Promise.reject(null===a||void 0===a||null===(u=a.response)||void 0===u?void 0:u.data)})),a}var mt="/posts";function xt(){var e=bt(),t=Object(u.b)();return{getAll:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:qe}));var r="".concat(mt);return e.get(r,{params:t})},getNewsFeed:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:qe}));var r="".concat(mt,"/newsFeed");return e.get(r,{params:t})},getByUserName:function(t,a){var r;(null===(r=a)||void 0===r?void 0:r.limit)||(a=Object(n.a)(Object(n.a)({},a),{},{limit:qe}));var s="users/".concat(t,"/posts");return e.get(s,{params:a})},getById:function(a){t(M(!0));var n="".concat(mt,"/").concat(a);return e.get(n)},addPost:function(a){t(M(!0));var n="".concat(mt);return e.post(n,a)},updatePost:function(a,n){t(M(!0));var r="".concat(mt,"/").concat(a);return e.put(r,n)},deletePost:function(a){t(M(!0));var n="".concat(mt,"/").concat(a);return e.delete(n)},addPhoto:function(a,r){t(M(!0));var s="".concat(mt,"/").concat(a,"/photos");return e.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,r)},deletePhoto:function(a,n){t(M(!0));var r="".concat(mt,"/").concat(a,"/photos/").concat(n);return e.delete(r)},addReaction:function(t,a){var n="".concat(mt,"/").concat(t,"/reactions");return e.post(n,a)},updateReaction:function(t,a){var n="".concat(mt,"/").concat(t,"/reactions");return e.put(n,a)},deleteReaction:function(t){var a="".concat(mt,"/").concat(t,"/reactions");return e.delete(a)},addComment:function(t,a){var n="".concat(mt,"/").concat(t,"/comments");return e.post(n,a)},updateComment:function(t,a,n){var r="".concat(mt,"/").concat(t,"/comments/").concat(a);return e.put(r,n)},deleteComment:function(t,a){var n="".concat(mt,"/").concat(t,"/comments/").concat(a);return e.delete(n)}}}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(s.useState)(!1),n=Object(fe.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),o=Object(fe.a)(i,2),l=o[0],d=o[1],b=Object(u.c)((function(e){return e.posts.posts})),m=Object(s.useState)(!0),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=xt(),v=Object(u.b)();return Object(s.useEffect)((function(){(j&&e||1===e.page)&&(c(!0),d(!1),t?p.getByUserName(t,{page:e.page}).then((function(t){e.page>1?v(de(t)):v(ee(t)),f(e.page<t.pageCount),c(!1)})).catch((function(e){d(e)})):p.getNewsFeed({page:e.page}).then((function(t){e.page>1?v(de(t)):v(ee(t)),f(e.page<t.pageCount),c(!1)})).catch((function(e){d(e)})))}),[e]),{posts:b,isLoading:r,error:l,isHasMore:j}}var ft=a.p+"static/media/image-icon.c8ad9f46.svg";var pt,vt,ht,gt,Ot,Nt,wt=function(e){var t=e.className,a=e.colorClass,n=e.icon,r=e.iconClass,s=e.colorIconClass,c=e.alt,i=e.onClick,o=e.onBlur,l=e.secondMode,d=e.reverse,u=e.innerRef,b=l?"clickable dark:border-dark-third":"clickable-secondary bg-gray-100 dark:bg-dark-third ";return b=d?"dark:bg-gray-100 dark:hover:bg-gray-200 dark:active:bg-gray-300 bg-dark-third hover:bg-dark-hover border-dark-third active:bg-dark-third":b,a=a&&""!==a?a:b,s=s&&""!==s?s:"text-black dark:text-dark-txt",s=d?"dark:text-black text-white":s,Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{ref:u,onBlur:o,onClick:i,className:"p-1 flex items-center justify-center rounded-full transition-base cursor-pointer active:scale-90 active:transform select-none flex-shrink-0  "+a+" "+(null!==t&&void 0!==t?t:""),children:n?Object(ve.jsx)("img",{alt:null!==c&&void 0!==c?c:"Clickable Icon",src:n,onClick:i,className:"w-full align-middle"}):Object(ve.jsx)("i",{className:"text-center align-middle text-xl w-7 h-7  "+s+" "+r})})})},kt=a(30),yt=a.n(kt),Ct=function(e,t,a){Object(s.useEffect)((function(){var n=function(n){e&&a.current&&!a.current.contains(n.target)&&t(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])},At=function(e){function t(t){27===t.keyCode&&e(!1)}Object(s.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[])},St=a(11),It=a.p+"static/media/angry.5d2c62b0.svg",Ft=a.p+"static/media/care.d36c2862.svg",Ut=a.p+"static/media/haha.e568dfbb.svg",Et=a.p+"static/media/like.3708582e.svg",Rt=a.p+"static/media/love.12a18842.svg",Pt=a.p+"static/media/sad.c7d5223e.svg",Mt=a.p+"static/media/wow.df119310.svg",Lt=1,Bt=2,Dt=0,zt=1,Tt=2,Ht=3,qt={MALE:0,FEMALE:1,OTHER:2},Gt=(pt={},Object(St.a)(pt,qt.MALE,"Male"),Object(St.a)(pt,qt.FEMALE,"Female"),Object(St.a)(pt,qt.OTHER,"Other"),pt),Wt=0,Yt=1,Vt=2,Zt=3,Kt=4,Jt={PUBLIC:0,FRIEND:2,PRIVATE:1},Qt=(vt={},Object(St.a)(vt,Jt.PUBLIC,"Public"),Object(St.a)(vt,Jt.FRIEND,"Friend"),Object(St.a)(vt,Jt.PRIVATE,"Private"),vt),Xt=(ht={},Object(St.a)(ht,Jt.PUBLIC,"fas fa-globe-asia"),Object(St.a)(ht,Jt.FRIEND,"fas fa-user-friends"),Object(St.a)(ht,Jt.PRIVATE,"bx bxs-lock-alt"),ht),$t={LIKE:0,LOVE:1,CARE:2,HAHA:4,WOW:3,SAD:5,ANGRY:6},_t=(gt={},Object(St.a)(gt,$t.LIKE,"Like"),Object(St.a)(gt,$t.LOVE,"Love"),Object(St.a)(gt,$t.CARE,"Care"),Object(St.a)(gt,$t.HAHA,"Haha"),Object(St.a)(gt,$t.WOW,"Wow"),Object(St.a)(gt,$t.SAD,"Sad"),Object(St.a)(gt,$t.ANGRY,"Angry"),gt),ea=(Ot={},Object(St.a)(Ot,$t.LIKE,Et),Object(St.a)(Ot,$t.LOVE,Rt),Object(St.a)(Ot,$t.CARE,Ft),Object(St.a)(Ot,$t.HAHA,Ut),Object(St.a)(Ot,$t.WOW,Mt),Object(St.a)(Ot,$t.SAD,Pt),Object(St.a)(Ot,$t.ANGRY,It),Ot),ta=(Nt={},Object(St.a)(Nt,$t.LIKE,"text-blue-600 dark:text-blue-400 "),Object(St.a)(Nt,$t.LOVE,"text-pink-600"),Object(St.a)(Nt,$t.HAHA,"text-yellow-500"),Object(St.a)(Nt,$t.CARE,"text-yellow-500"),Object(St.a)(Nt,$t.WOW,"text-yellow-500"),Object(St.a)(Nt,$t.SAD,"text-yellow-500"),Object(St.a)(Nt,$t.ANGRY,"text-yellow-600"),Nt);var aa=function(){var e=Object(u.c)((function(e){return e.users.currentUser})),t=Object(s.useState)(""),a=Object(fe.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(Jt.PUBLIC),i=Object(fe.a)(c,2),o=i[0],d=i[1],b=Object(s.useState)([]),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)({}),p=Object(fe.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)(!1),O=Object(fe.a)(g,2),N=O[0],w=O[1],k=Object(s.useState)(!1),y=Object(fe.a)(k,2),C=y[0],A=y[1],S=Object(s.useState)(!1),I=Object(fe.a)(S,2),F=I[0],U=I[1],E=Object(s.useState)(!1),R=Object(fe.a)(E,2),P=R[0],M=R[1],L=Object(s.useRef)(),B=Object(s.useRef)(),D=Object(s.useRef)(),z=xt(),T=Object(u.b)();return Oe(F),Ct(P,M,B),Ct(F,U,L),Ct(N,w,D),At(U),Object(s.useEffect)((function(){n.trim()||x.length>0?A(!0):A(!1)}),[n,x]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)("div",{className:"max-w-xl md:min-w-500 min-w-200 w-full bg-white dark:bg-dark-secondary rounded-xl shadow px-4 pt-3 pb-1 space-y-3 divide-y",children:[Object(ve.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===e||void 0===e?void 0:e.userName),children:Object(ve.jsx)(Ee,{src:null===e||void 0===e?void 0:e.avatarUrl})}),Object(ve.jsx)("div",{onClick:function(){return U(!0)},className:"w-full",children:Object(ve.jsx)("input",{disabled:!0,type:"text",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?"),className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative placeholder-gray-500 dark:placeholder-dark-txt hover:bg-gray-200 dark:hover:bg-dark-hover cursor-pointer text-sm md:text-base"})})]}),Object(ve.jsxs)("div",{className:"w-full text-center flex justify-between select-none cursor-pointer py-1 border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold",children:[Object(ve.jsxs)("span",{className:"flex-1 p-1 md:py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base flex items-center justify-center space-x-2 text-sm md:text-base",onClick:function(){return U(!0)},children:[Object(ve.jsx)("img",{src:ft,alt:"icon",className:"md:w-6 md:h-6 w-4 h-4"}),Object(ve.jsx)("span",{children:"Your Photos"})]}),Object(ve.jsxs)("span",{className:"flex-1 p-1 md:py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base text-sm md:text-base",onClick:function(){return U(!0)},children:[Object(ve.jsx)("i",{className:"far fa-smile-beam mr-2 md:text-xl align-middle text-green-500 dark:text-green-400"}),"Your Feeling"]})]})]}),F&&Object(ve.jsx)("div",{className:"overlay px-4 py-10 z-30 grid place-items-center",style:{margin:0},children:Object(ve.jsxs)("div",{className:"flex-center flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full animate-swipeDown overflow-x-auto ",ref:L,children:[v.isOpen&&Object(ve.jsx)(Ne,{title:"Notification",isOpen:v.isOpen,content:v.content,onClick:function(){return h({isOpen:!1})}}),Object(ve.jsxs)("div",{className:"relative font-bold text-center text-lg md:text-xl py-4 border-b dark:border-gray-600 w-full",children:["Create post",Object(ve.jsx)(wt,{onClick:function(){return U(!1)},iconClass:"bx bx-x",className:"absolute bg-white right-3 top-3 animate-swipeUp"})]}),Object(ve.jsxs)("form",{onSubmit:function(e){e.preventDefault(),z.addPost({content:n,privacy:o}).then((function(e){e.id&&x.forEach((function(t){var a=new FormData;a.append("Image",t),a.append("Caption","Post photo"),z.addPhoto(e.id,a)})),z.getById(e.id).then((function(e){T(te(e))}))})),U(!1),r(""),j([])},className:"flex flex-col items-start w-full px-6 space-y-4 py-4",children:[Object(ve.jsxs)("div",{className:"flex space-x-2",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(e.userName),children:Object(ve.jsx)(Ee,{src:e.avatarUrl,userName:e.userName})}),Object(ve.jsxs)("div",{className:"flex flex-col justify-between space-y-1",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(e.userName),children:e.fullName}),Object(ve.jsxs)("div",{className:"relative select-none",children:[Object(ve.jsxs)("div",{className:"p-1 px-2 w-24 flex justify-between items-center text-xs bg-gray-200 dark:bg-dark-hover rounded cursor-pointer ",onClick:function(){return w(!0)},children:[Object(ve.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(ve.jsx)("i",{className:Xt[o]}),Object(ve.jsx)("span",{children:Qt[o]})]}),Object(ve.jsx)("i",{className:"bx bx-caret-down ml-1"})]}),N&&Object(ve.jsx)("div",{className:"animate-fadeIn absolute w-28 top-full left-0 bg-gray-100 dark:bg-dark-third rounded p-1 text-sm",ref:D,children:Object.values(Jt).map((function(e){return Object(ve.jsxs)("div",{onClick:function(){d(e),w(!1)},className:"cursor-pointer hover:bg-gray-200 flex items-center dark:hover:bg-dark-hover p-1 px-2 rounded duration-150 w-full space-x-2",children:[Object(ve.jsx)("i",{className:Xt[e]}),Object(ve.jsx)("span",{children:Qt[e]})]})}))})]})]})]}),Object(ve.jsx)("textarea",{value:n,onChange:function(e){return r(e.target.value)},rows:"3",className:"w-full text-lg md:text-2xl placeholder-gray-500 dark:placeholder-dark-txt focus:placeholder-gray-300 dark:focus:placeholder-dark-hover outline-none transition-base bg-white dark:bg-dark-secondary resize-none",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?")}),Object(ve.jsxs)("div",{ref:B,className:"relative w-full flex justify-end",children:[Object(ve.jsx)(wt,{secondMode:!0,iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return M(!P)}}),P&&Object(ve.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(ve.jsx)(yt.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&r(n+(null===t||void 0===t?void 0:t.emoji))}})})]}),Object(ve.jsxs)("div",{className:"w-full max-w-xs md:max-w-max overflow-x-auto flex space-x-2 select-none pb-2",children:[Object(ve.jsx)("input",{hidden:!0,id:"imageFiles",type:"file",multiple:!0,onChange:function(e){return function(e){var t=!0,a=[].concat(Object(Ie.a)(x),Object(Ie.a)(e));a.length>10&&(h({content:"Please select maximum 10 images!",isOpen:!0}),t=!1),a.forEach((function(e){e.size>Te&&(h({content:"Please upload less than ".concat(3,"MB for each file!"),isOpen:!0}),t=!1)})),t&&j(a)}(e.target.files)},accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg"}),Object(ve.jsx)("label",{htmlFor:"imageFiles",className:"cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:active:bg-gray-700 rounded-xl flex-center transition-base flex-shrink-0",children:Object(ve.jsx)("i",{className:"bx bxs-image-add text-4xl"})}),x.length>0&&x.map((function(e,t){return Object(ve.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(ve.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview"}),Object(ve.jsx)(wt,{onClick:function(){return function(e){if(e>=0&&e<x.length){var t=Object(Ie.a)(x);t.splice(e,1),j(t)}}(t)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"imageFiles"+t)}))]}),Object(ve.jsx)(ge,{disabled:!C,className:"w-full font-semibold",children:"Post"})]})]})})]})};var na=function(e){var t=e.title,a=e.isOpen,n=e.content,r=void 0===n?"Are you sure?":n,s=e.closeAction,c=e.confirmButtonTitle,i=e.confirmButtonAction;return Oe(a),a&&Object(ve.jsx)("div",{className:"px-4 overlay flex-center ",style:{margin:0},children:Object(ve.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary dark:border-dark-third md:py-8 md:px-8 py-4 px-5 w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-8 shadow-2xl border border-gray-300 md:max-w-700",children:[Object(ve.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:""!==t?t:"Notification"}),Object(ve.jsx)("span",{className:"break-words dark:text-dark-txt",children:r}),Object(ve.jsxs)("div",{className:"w-full flex justify-end space-x-2",children:[Object(ve.jsx)(ge,{outline:!0,content:"No",onClick:s}),Object(ve.jsx)(ge,{content:null!==c&&void 0!==c?c:"Ok",onClick:function(){i(),s()}})]})]})})},ra=a(22),sa=a.n(ra);function ca(e){var t=new Date(e);if(function(e){return e instanceof Date&&!isNaN(e)}(t)){var a=sa()(new Date),n=sa()(t),r=a.diff(n,"days");return r<1?n.fromNow():r<7?n.format("dddd, h:mm A"):n.format("MMM D, YYYY, h:mm A")}return"--"}var ia=a.p+"static/media/send-icon.666dadc9.svg";var oa=function(e){var t=e.postId,a=e.currentUser,n=void 0===a?{}:a,r=Object(s.useState)(""),c=Object(fe.a)(r,2),i=c[0],o=c[1],d=Object(s.useState)(!1),u=Object(fe.a)(d,2),b=u[0],m=u[1],x=Object(s.useRef)(),j=xt();function f(){return(f=Object(ze.a)(De.a.mark((function e(a){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return o(""),n={content:i},e.next=7,j.addComment(t,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Ct(b,m,x),Object(ve.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===n||void 0===n?void 0:n.userName),children:Object(ve.jsx)(Ee,{size:"sm",src:null===n||void 0===n?void 0:n.avatarUrl})}),Object(ve.jsxs)("form",{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},className:"flex justify-between items-center space-x-1 z-0 w-full",children:[Object(ve.jsxs)("div",{className:"relative w-full flex",children:[Object(ve.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Write a comment",className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative"}),Object(ve.jsxs)("div",{ref:x,className:"relative",children:[Object(ve.jsx)(wt,{className:"absolute h-10 w-10 right-1",iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return m(!b)}}),b&&Object(ve.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(ve.jsx)(yt.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&o(i+(null===t||void 0===t?void 0:t.emoji))}})})]})]}),Object(ve.jsx)("button",{children:Object(ve.jsx)(wt,{icon:ia,className:"w-10 h-10 p-2",colorClass:"bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary hover:dark:bg-dark-third active:dark:bg-dark-hover"})})]})]})};function la(e){var t=e.comments,a=void 0===t?[]:t,n=e.isOpen,r=e.currentUser,s=void 0===r?{}:r,c=e.postId,i=Object(Ie.a)(a).filter((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)===s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})),o=Object(Ie.a)(a).filter((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)!==s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1}));return Object(ve.jsxs)(ve.Fragment,{children:[i.map((function(e,t){return Object(ve.jsx)(da,{comment:e,postId:c,isMyComment:!0},e.id)})),n&&o.map((function(e,t){return Object(ve.jsx)(da,{comment:e,postId:c},e.id)}))]})}var da=c.a.memo((function(e){var t,a,n,r,c,i=e.comment,o=e.postId,d=e.isMyComment,u=xt(),b=Object(s.useState)(!1),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)(!1),p=Object(fe.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)(!1),O=Object(fe.a)(g,2),N=O[0],w=O[1],k=Object(s.useState)(i.content),y=Object(fe.a)(k,2),C=y[0],A=y[1],S=Object(s.useRef)(),I=Object(s.useRef)();Ct(x,j,S),At(w);return Object(s.useEffect)((function(){var e;N&&(null===I||void 0===I||null===(e=I.current)||void 0===e||e.focus())}),[N]),Object(ve.jsxs)(ve.Fragment,{children:[v&&Object(ve.jsx)(na,{isOpen:v,closeAction:function(){return h(!1)},title:"Are you sure?",content:"Do you want to delete this comment?",confirmButtonTitle:"Yes",confirmButtonAction:function(){o&&(null===i||void 0===i?void 0:i.id)&&u.deleteComment(o,i.id)}}),Object(ve.jsxs)("div",{className:"flex space-x-2 max-w-full "+(N&&"w-full"),children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0 mt-2",to:"/profile/".concat(null===i||void 0===i||null===(t=i.creator)||void 0===t?void 0:t.userName),children:Object(ve.jsx)(Ee,{size:"sm",src:null===i||void 0===i||null===(a=i.creator)||void 0===a?void 0:a.avatarUrl,userName:null===i||void 0===i||null===(n=i.creator)||void 0===n?void 0:n.userName})}),Object(ve.jsxs)("div",{className:"flex flex-col w-full",children:[Object(ve.jsxs)("div",{className:"flex flex-col justify-evenly w-full bg-gray-100 dark:bg-dark-third rounded-2xl px-3 py-2",children:[Object(ve.jsx)("div",{className:"w-full flex justify-between items-center mr-9",children:Object(ve.jsx)(l.b,{className:"font-semibold text-xs md:text-sm cursor-pointer hover:underline",to:"/profile/".concat(null===i||void 0===i||null===(r=i.creator)||void 0===r?void 0:r.userName),children:null===i||void 0===i||null===(c=i.creator)||void 0===c?void 0:c.fullName})}),N?Object(ve.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C!==i.content&&u.updateComment(o,i.id,{content:C}),w(!1)},className:"flex flex-col",children:[Object(ve.jsx)("input",{type:"text",placeholder:"Write a comment",ref:I,className:"bg-gray-100 dark:bg-dark-third outline-none ",onChange:function(e){return A(e.target.value)},value:C}),Object(ve.jsxs)("span",{className:"text-xs self-end",onClick:function(){return w(!1)},children:["Press Esc to"," ",Object(ve.jsx)("span",{className:"font-semibold text-green-500 cursor-pointer",children:"Cancel"})]})]}):Object(ve.jsx)("div",{className:"break-words overflow-x-auto text-xs md:text-sm max-w-350 md:max-w-450",children:null===i||void 0===i?void 0:i.content})]}),Object(ve.jsx)("span",{className:"ml-2 text-tiny md:text-xs text-gray-500 dark:text-dark-txt",children:ca(null===i||void 0===i?void 0:i.dateCreated)})]}),Object(ve.jsx)("div",{ref:S,className:"relative self-center mb-5",children:d&&Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(wt,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){j(!x)}}),x&&Object(ve.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 p-1 w-48 right-3 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){w(!0),j(!1)},children:[Object(ve.jsx)("i",{className:"bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(ve.jsx)("span",{className:"text-sm",children:"Edit comment"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){h(!0),j(!1)},children:[Object(ve.jsx)("i",{className:"bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(ve.jsx)("span",{className:"text-sm",children:"Delete comment"})]})]})]})})]})]})}));var ua=function(e){var t,a,n,r=e.post,c=e.isOpen,i=e.setIsOpen,o=Object(u.c)((function(e){return e.users.currentUser})),d=Object(s.useState)(r.content),b=Object(fe.a)(d,2),m=b[0],x=b[1],j=Object(s.useState)(r.privacy),f=Object(fe.a)(j,2),p=f[0],v=f[1],h=Object(s.useState)([]),g=Object(fe.a)(h,2),O=g[0],N=g[1],w=Object(s.useState)([]),k=Object(fe.a)(w,2),y=k[0],C=k[1],A=Object(s.useState)({}),S=Object(fe.a)(A,2),I=S[0],F=S[1],U=Object(s.useState)(!1),E=Object(fe.a)(U,2),R=E[0],P=E[1],M=Object(s.useState)(!1),L=Object(fe.a)(M,2),B=L[0],D=L[1],z=Object(s.useState)(!1),T=Object(fe.a)(z,2),H=T[0],q=T[1],G=Object(s.useRef)(),W=Object(s.useRef)(),Y=Object(s.useRef)(),V=xt();function Z(){return(Z=Object(ze.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V.updatePost(r.id,{content:m,privacy:p});case 3:r.id&&(O.forEach(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("Image",t),a.append("Caption","Post photo"),e.next=5,V.addPhoto(r.id,a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y.forEach(function(){var e=Object(ze.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.deletePhoto(r.id,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i(!1),N([]),C([]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Oe(c),Ct(H,q,W),Ct(c,i,G),Ct(R,P,Y),At(i),Object(s.useEffect)((function(){m.trim()||O.length>0?D(!0):D(!1)}),[m,O]),Object(ve.jsx)(ve.Fragment,{children:c&&Object(ve.jsx)("div",{className:"overlay px-4 py-10 z-30 grid place-items-center",style:{margin:0},children:Object(ve.jsxs)("div",{className:"flex-center flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full animate-swipeDown overflow-x-auto",ref:G,children:[I.isOpen&&Object(ve.jsx)(Ne,{title:"Notification",isOpen:I.isOpen,content:I.content,onClick:function(){return F({isOpen:!1})}}),Object(ve.jsxs)("div",{className:"relative font-bold text-center text-lg md:text-xl py-4 border-b dark:border-gray-600 w-full",children:["Edit post",Object(ve.jsx)(wt,{onClick:function(){return i(!1)},iconClass:"bx bx-x",className:"absolute bg-white right-3 top-3 animate-swipeUp"})]}),Object(ve.jsxs)("form",{onSubmit:function(e){return Z.apply(this,arguments)},className:"flex flex-col items-start w-full px-6 space-y-4 py-4",children:[Object(ve.jsxs)("div",{className:"flex space-x-2",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(o.userName),children:Object(ve.jsx)(Ee,{src:o.avatarUrl,userName:o.userName})}),Object(ve.jsxs)("div",{className:"flex flex-col justify-between space-y-1",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(o.userName),children:o.fullName}),Object(ve.jsxs)("div",{className:"relative select-none",children:[Object(ve.jsxs)("div",{className:"p-1 px-2 w-24 flex justify-between items-center text-xs bg-gray-200 dark:bg-dark-hover rounded cursor-pointer ",onClick:function(){return P(!0)},children:[Object(ve.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(ve.jsx)("i",{className:Xt[p]}),Object(ve.jsx)("span",{children:Qt[p]})]}),Object(ve.jsx)("i",{className:"bx bx-caret-down ml-1"})]}),R&&Object(ve.jsx)("div",{className:"animate-fadeIn absolute top-full w-28 left-0 bg-gray-100 dark:bg-dark-third rounded p-1 text-sm",ref:Y,children:Object.values(Jt).map((function(e){return Object(ve.jsxs)("div",{onClick:function(){v(e),P(!1)},className:"cursor-pointer hover:bg-gray-200 flex items-center dark:hover:bg-dark-hover p-1 px-2 rounded duration-150 w-full space-x-2",children:[Object(ve.jsx)("i",{className:Xt[e]}),Object(ve.jsx)("span",{children:Qt[e]})]})}))})]})]})]}),Object(ve.jsx)("textarea",{value:m,onChange:function(e){return x(e.target.value)},rows:"3",className:"w-full text-lg md:text-2xl placeholder-gray-500 dark:placeholder-dark-txt focus:placeholder-gray-300 dark:focus:placeholder-dark-hover outline-none transition-base bg-white dark:bg-dark-secondary resize-none",placeholder:"What's on your mind".concat(o.firstName?", "+o.firstName:"","?")}),Object(ve.jsxs)("div",{ref:W,className:"relative w-full flex justify-end",children:[Object(ve.jsx)(wt,{secondMode:!0,iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return q(!H)}}),H&&Object(ve.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(ve.jsx)(yt.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&x(m+(null===t||void 0===t?void 0:t.emoji))}})})]}),Object(ve.jsxs)("div",{className:"w-full max-w-xs md:max-w-max overflow-x-auto flex space-x-2 select-none pb-2",children:[Object(ve.jsx)("input",{hidden:!0,id:"imageFiles",type:"file",multiple:!0,onChange:function(e){return function(e){var t=!0,a=[].concat(Object(Ie.a)(O),Object(Ie.a)(e));a.length>10&&(F({content:"Please select maximum 10 images!",isOpen:!0}),t=!1),a.forEach((function(e){e.size>Te&&(F({content:"Please upload less than ".concat(3,"MB for each file!"),isOpen:!0}),t=!1)})),t&&N(a)}(e.target.files)},accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg"}),Object(ve.jsx)("label",{htmlFor:"imageFiles",className:"cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:active:bg-gray-700 rounded-xl flex-center transition-base flex-shrink-0",children:Object(ve.jsx)("i",{className:"bx bxs-image-add text-4xl"})}),(null===r||void 0===r||null===(t=r.photos)||void 0===t?void 0:t.length)>0&&(null===r||void 0===r||null===(a=r.photos)||void 0===a||null===(n=a.filter((function(e){return!y.includes(e.id)})))||void 0===n?void 0:n.map((function(e,t){return Object(ve.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(ve.jsx)("img",{src:e.imageUrl,alt:"Preview"}),Object(ve.jsx)(wt,{onClick:function(){return function(e){var t=Object(Ie.a)(y);t.push(e),C(t)}(e.id)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"oldPhotos"+t)}))),O.length>0&&O.map((function(e,t){return Object(ve.jsxs)("div",{className:"relative cursor-pointer h-24 w-20 md:h-28 md:w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(ve.jsx)("img",{src:e?URL.createObjectURL(e):"",alt:"Preview"}),Object(ve.jsx)(wt,{onClick:function(){return function(e){if(e>=0&&e<O.length){var t=Object(Ie.a)(O);t.splice(e,1),N(t)}}(t)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"imageFiles"+t)}))]}),Object(ve.jsx)(ge,{disabled:!B,className:"w-full font-semibold",children:"Save"})]})]})})})};var ba=function(e){var t,a,n,r,c=e.photos,i=void 0===c?[]:c,o=e.startIndex,l=void 0===o?0:o,d=e.setIsOpen,u=e.isOpen,b=Object(s.useState)(l),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(s.useRef)(),p=Object(s.useRef)(),v=Object(s.useRef)(),h=Object(s.useRef)();return Oe(u),At(d),Object(s.useEffect)((function(){var e=function(e){u&&f.current&&!f.current.contains(e.target)&&p.current&&!p.current.contains(e.target)&&h.current&&!h.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]),Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"px-4 flex-center overlay cursor-default select-none",style:{margin:0},children:[Object(ve.jsx)(wt,{innerRef:p,reverse:!0,onClick:function(){return d(!1)},iconClass:"bx bx-x",className:"absolute bg-white md:right-10 right-8 top-8 animate-swipeUp"}),Object(ve.jsx)(wt,{innerRef:v,reverse:!0,onClick:function(){x>0&&j(x-1)},iconClass:"bx bxs-chevron-left",className:"absolute md:left-10 left-5 animate-swipeUp "+(x>0?"":"hidden")}),Object(ve.jsx)(wt,{innerRef:h,reverse:!0,onClick:function(){x<i.length-1&&j(x+1)},iconClass:"bx bxs-chevron-right",className:"absolute md:right-10 right-5 animate-swipeUp "+(x<i.length-1?"":"hidden")}),Object(ve.jsx)("img",{ref:f,src:null!==(t=null===(a=i[x])||void 0===a?void 0:a.imageUrl)&&void 0!==t?t:"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAE2CAMAAACObbGVAAAAV1BMVEXx8fGoqKivr6+zs7POzs7j4+Ps7Ozn5+fV1dW1tbXY2NjLy8vGxsbBwcG4uLiqqqrS0tLd3d3p6eng4ODExMSsrKzu7u6+vr68vLypqam6urra2trIyMhrw28zAAAGK0lEQVR42uza227iMBRAUecGJORCIEBS+P/vnI6SSq0qZpiWUY201nPkly3L9lECAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDPWK0Pl01+HcY27absugo8vyVqM5Zpl3yUFoGntCoO1S6vm5cynZI/yE6BJ3HaF321275Gzeaod6kCEVuiDuc2OyZfcg1E5rQu+k2+RP22JhCRYsi65KHGQDx2U/IQx6zsklkZiEaffN2Uli9Nvd1VfbEPr/bl8lAKROMl+TddWo5NnW+qw/rzROOyhA9Eo7srajsO13xzmaPedkpm+0AspptHansetnnVF+tTuNtyBTfLikf6fsiYtW9H6il8STYv1AdiUSaz82Efvq81yorN+NCXzXlebReIRTMn2YZ3ijo7pmnZjuehvua7TXU5FOv9Kvxd/bYasbjOSep7Rh9dmr1Wb4Z6e6v6dv5wCMQi/zQ+rpIb7qg+mFXGZjMnad/fq79t+rDV+99b3X8eP2QZVWbhzSH5P6Zjmav8i707W3ITBqIA2pd9X2wWA/n/70xFtjNAG1yxwFKq+jy6ZmoeNIbmcgXf50Np2RH6ENLmMe6Cu44eKpzIkRDz63AXLqeu96Ts8Z9wVvFxioeyz/sxdp12wHFcEl8WQ5lWWQWccNbSCv1rnUSVl2ZNfiv+rDr+ldxJNGSEEtFDg+cH+wK+6iXeKkl8WQ7FW8XJuNK2/VWfHqveL1Zdyh5G8KxyxJ1/5C6IXM7BhvCsssBdSEcapY9nSgRlXN2zR3DGX8FI4sum1bHTWSYfB5c3exJa9LPK9oBxt6O1STY9mBKuvrGD5rjrZ+6AdqwCmktwl5H4Jl51DfTG3aDBg5PQTCVRpRG86nrRGneDGD88PqvDI6FDv+oaao2749Y+4RRSxzOBZ5W+zrgbYcEJaJ1wRyR06GeVtc6462LJo6dGNv8bky3Gn0lj3PWxUtBTD9nzYALPKhONcbfCSslOzlcSOvSzykpj3PWwFtBDAdmWZsoEJV4uUnXsAru4C0l823URXaUa426CFYeVraU4+30h7kjJNMbdYMBSs05TQEKLflbZ6Iy7OR7YSCWNHTN4Vpm/HXe7qGk29iiEJRQWlgTS2DGDZ5W3d+Ou7wBAW7+PstyAni7S2DGBb8t/39gJHSjllV6JSjzFl9lvSWPHBJ5V8sYOX995b5rzeyiO180/lcaOGTyrdHbH3cBlR2DmEqW/vLqTxo41PCjN+8ZOEGOm6GiDNHasEkG5vW3sdCMWctohjR1rzLPKbm/c7T/eK1hBns5iAMsq9xs7OZiKdkhjxxLhbONftT3uZuCGhHZIY8cOwU9W6Zeb426KJX45zEljxw4lFJ+6eHN+qsDwy+EgLfqJfkhjxw5/s8pfeMp263QbgWTtbA1SuTR2DGBZZb05H08DGHY5nA6bx+GbNHZM6qGkDutDPtQldvRqhcMC/LwsjR0rZFDKresfv8WuwqfAm/1MG9JKLI+CNykFE7H13VW+Pi9LY8cOFZiE3UD65M1J0tixQwKmpqeLiw9ktDBIY8ekK5gru4G0bz/E7KSxY1QIxqe7rsBnhppIGjuWCMCEpHQ3fKr1+X9QQcKIcmtLQo7PuRdp7NjCwRopGT7BGx9XaeyYVbzeFphCT04PE+RlHUb1LzcVedDlSWPHDt6rxzpH0JeQEkljx6xLi6WYKBmgr7xKY8cKU4mFkeoSR3BCaexYwc9boHV/XlVZ4hhxQES/pLFjgWC2AyFucZR+1tiZSJiV4Hi/pLFjjwgniOgmhQ5LVDjBUBfyCBZLeDhD60hjxxIpziGNHUtkOJE0dsxrcKaWhGE9ziONnd/s3d0Gw0AUhVGnIVWletP07/3fM+Qy5i4OW6z1CpsxzMcE+FUfxU6AR/VR7AS4VR/FToBP9VHsBHhWH8VOgGWqNoqdBNdLdVHsRJjvU/Xw3p9iGX7eftzXW0OwebC6E/rsRqu7Q5/dtvp/t/rrLdcBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW9uCQAAAAAEDQ/9d+MAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF8K10cIV2ntrQAAAABJRU5ErkJggg==",alt:null!==(n=null===(r=i[x])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo ".concat(x),className:"animate-swipeDown max-h-11/12 max-w-full md:max-w-3/4 min-w-2/12 object-contain rounded"})]})})};function ma(e){var t=e.photos,a=void 0===t?[]:t,n=Object(s.useState)(!1),r=Object(fe.a)(n,2),c=r[0],i=r[1],o=Object(s.useState)(0),l=Object(fe.a)(o,2),d=l[0],u=l[1];if(!(a.length<1)){var b;switch(a.length){case 1:b=Object(ve.jsx)(xa,{setStartIndex:u,setIsOpen:i,photos:a});break;case 2:b=Object(ve.jsx)(ja,{setStartIndex:u,setIsOpen:i,photos:a});break;case 3:b=Object(ve.jsx)(fa,{setStartIndex:u,setIsOpen:i,photos:a});break;case 4:b=Object(ve.jsx)(pa,{setStartIndex:u,setIsOpen:i,photos:a});break;default:b=Object(ve.jsx)(va,{setStartIndex:u,setIsOpen:i,photos:a})}return Object(ve.jsxs)(ve.Fragment,{children:[c&&Object(ve.jsx)(ba,{isOpen:c,photos:a,startIndex:d,setIsOpen:i}),b]})}}var xa=function(e){var t,a=e.photos,n=void 0===a?[]:a,r=e.setIsOpen,s=e.setStartIndex;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"w-full max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){r(!0),s(0)},children:Object(ve.jsx)("img",{className:"object-contain md:max-h-128 max-h-112 w-full",src:n[0].imageUrl,alt:null!==(t=n[0].caption)&&void 0!==t?t:"Post photo ".concat(1)})})})},ja=function(e){var t=e.photos,a=void 0===t?[]:t,n=e.setIsOpen,r=e.setStartIndex;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"grid grid-cols-2 gap-2 overflow-hidden",children:a.map((function(e,t){var a;return Object(ve.jsx)("div",{className:"col-span-1 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){n(!0),r(t)},children:Object(ve.jsx)("img",{className:"object-contain md:max-h-128 max-h-112 h-full w-full",src:e.imageUrl,alt:null!==(a=e.caption)&&void 0!==a?a:"Post photo ".concat(t)})},e.id)}))})})},fa=function(e){var t,a,n,r,s,c,i,o,l,d=e.photos,u=void 0===d?[]:d,b=e.setIsOpen,m=e.setStartIndex;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 grid-rows-2 gap-2 h-112 md:h-128 overflow-hidden",children:[Object(ve.jsx)("div",{className:"col-span-2 row-span-1 md:row-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){b(!0),m(0)},children:Object(ve.jsx)("img",{className:"object-contain max-h-128 w-full h-full",src:null===(t=u[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=u[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){b(!0),m(1)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=u[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=u[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-secondary rounded-xl shadow overflow-hidden",onClick:function(){b(!0),m(2)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=u[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=u[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})})]})})},pa=function(e){var t,a,n,r,s,c,i,o,l,d,u,b,m=e.photos,x=void 0===m?[]:m,j=e.setIsOpen,f=e.setStartIndex;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-2 overflow-hidden h-112 md:h-128",children:[Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){j(!0),f(0)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=x[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=x[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){j(!0),f(1)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=x[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=x[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){j(!0),f(2)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=x[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=x[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})}),Object(ve.jsx)("div",{className:"w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){j(!0),f(3)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=x[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=x[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})})]})})},va=function(e){var t,a,n,r,s,c,i,o,l,d,u,b,m,x,j,f=e.photos,p=void 0===f?[]:f,v=e.setIsOpen,h=e.setStartIndex,g=p.length-5>0?p.length-5:0;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"grid grid-cols-6 grid-rows-2 gap-2 h-112 md:h-128 overflow-hidden",children:[Object(ve.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){v(!0),h(0)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=p[0])||void 0===t?void 0:t.imageUrl,alt:null!==(a=null===(n=p[0])||void 0===n?void 0:n.caption)&&void 0!==a?a:"Post photo 1"})}),Object(ve.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){v(!0),h(1)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(r=p[1])||void 0===r?void 0:r.imageUrl,alt:null!==(s=null===(c=p[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(ve.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){v(!0),h(2)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(i=p[2])||void 0===i?void 0:i.imageUrl,alt:null!==(o=null===(l=p[2])||void 0===l?void 0:l.caption)&&void 0!==o?o:"Post photo 3"})}),Object(ve.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){v(!0),h(3)},children:Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=p[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=p[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})}),Object(ve.jsxs)("div",{className:"relative col-span-2 w-full flex justify-center max-h-128 bg-gray-100 dark:bg-dark-third rounded-xl shadow overflow-hidden",onClick:function(){v(!0),h(4)},children:[Object(ve.jsx)("img",{className:"object-cover h-full w-full",src:null===(m=p[4])||void 0===m?void 0:m.imageUrl,alt:null!==(x=null===(j=p[4])||void 0===j?void 0:j.caption)&&void 0!==x?x:"Post photo 5"}),g>0&&Object(ve.jsxs)("div",{className:"absolute inset-0 text-white dark:text-white bg-black bg-opacity-40 flex-center text-xl md:text-2xl font-bold",children:["+",g]})]})]})})};var ha=function(e){var t=e.type,a=e.src,n=e.alt,r=e.addReaction;return Object(ve.jsxs)("div",{onClick:function(){return r(t)},className:"group relative w-10 hover:scale-125 hover:-translate-y-2 hover:transform origin-bottom transition-all duration-300 ease-in-out",children:[Object(ve.jsx)("div",{className:"animate-fadeIn group-hover:block absolute bottom-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded-xl transform -translate-y-1 -translate-x-1/2 text-white dark:text-black text-tiny",children:n}),Object(ve.jsx)("img",{src:a,alt:n,className:"w-full h-full"})]})},ga=function(e){var t=e.className,a=void 0===t?"":t,n=e.reacted,r=e.postId,s=e.setIsOpen,c=xt(),i=function(e){n?n&&n.type!==e&&c.updateReaction(r,{type:e}):c.addReaction(r,{type:e}),s(!1)};return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:a+" flex animate-swipeUp space-x-2 rounded-3xl bg-white dark:bg-dark-secondary shadow border-2 border-gray-100 dark:border-dark-third p-1 transition-base z-10",children:Object.values($t).map((function(e){return Object(ve.jsx)(ha,{addReaction:i,type:e,src:ea[e],alt:_t[e]},"Reaction "+e)}))})})};function Oa(e){var t,a,n,r,c,i,o,d,b,m,x,j,f,p=e.post,v=e.isOpenComment,h=void 0!==v&&v,g=Object(u.c)((function(e){return e.users.currentUser})),O=Object(s.useState)(!1),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!1),C=Object(fe.a)(y,2),A=C[0],S=C[1],I=Object(s.useState)(h),F=Object(fe.a)(I,2),U=F[0],E=F[1],R=Object(s.useState)(!1),P=Object(fe.a)(R,2),M=P[0],L=P[1],B=Object(s.useState)(!1),D=Object(fe.a)(B,2),z=D[0],T=D[1],H=Object(s.useState)(),q=Object(fe.a)(H,2),G=q[0],W=q[1],Y=xt(),V=Object(s.useRef)(),Z=Object(s.useRef)(),K=null===p||void 0===p||null===(t=p.reactions)||void 0===t?void 0:t.find((function(e){var t;return(null===(t=e.creator)||void 0===t?void 0:t.userName)===(null===g||void 0===g?void 0:g.userName)}));Object(s.useEffect)((function(){W(function(e){if(null===e||void 0===e?void 0:e.reactions){var t=function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})}(e.reactions,["type"]),a=[];for(var n in t)a.push({type:n,total:t[n].length});return a.sort((function(e,t){return e.total<t.total?1:-1})).slice(0,3).map((function(e){return e.type}))}return[]}(p))}),[p]),Ct(M,L,V);return Object(ve.jsxs)(ve.Fragment,{children:[z&&Object(ve.jsx)(na,{isOpen:z,closeAction:function(){return T(!1)},title:"Are you sure?",content:"Do you want to delete this post?",confirmButtonTitle:"Yes",confirmButtonAction:function(){p.id&&Y.deletePost(p.id)}}),w&&Object(ve.jsx)(ua,{post:p,isOpen:w,setIsOpen:k}),Object(ve.jsxs)("div",{className:"py-4 px-5 max-w-xl md:min-w-500 min-w-200 w-full mx-auto bg-white dark:bg-dark-secondary flex flex-col justify-start items-start space-y-3 rounded-xl shadow",children:[Object(ve.jsxs)("div",{className:"flex justify-between items-center w-full",children:[Object(ve.jsxs)("div",{className:"flex space-x-2",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(null===p||void 0===p||null===(a=p.creator)||void 0===a?void 0:a.userName),children:Object(ve.jsx)(Ee,{src:null===p||void 0===p||null===(n=p.creator)||void 0===n?void 0:n.avatarUrl,userName:null===p||void 0===p||null===(r=p.creator)||void 0===r?void 0:r.userName})}),Object(ve.jsxs)("div",{className:"flex flex-col justify-evenly",children:[Object(ve.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(null===p||void 0===p||null===(c=p.creator)||void 0===c?void 0:c.userName),children:null===p||void 0===p||null===(i=p.creator)||void 0===i?void 0:i.fullName}),Object(ve.jsxs)(l.b,{className:"text-xs text-gray-500 dark:text-dark-txt hover:underline space-x-2",to:"/posts/".concat(null===p||void 0===p?void 0:p.id),children:[Object(ve.jsx)("span",{children:ca(null===p||void 0===p?void 0:p.dateCreated)}),Object(ve.jsx)("i",{className:Xt[null===p||void 0===p?void 0:p.privacy]})]})]})]}),(null===p||void 0===p||null===(o=p.creator)||void 0===o?void 0:o.userName)===(null===g||void 0===g?void 0:g.userName)&&Object(ve.jsxs)("div",{className:"relative",ref:V,children:[Object(ve.jsx)(wt,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){return L(!M)}}),M&&Object(ve.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 right-0 border border-gray-200 bg-white w-48 rounded-lg shadow-lg overflow-hidden p-1 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return k(!0)},children:[Object(ve.jsx)("i",{className:"bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(ve.jsx)("span",{className:"text-sm",children:"Edit post"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return T(!0)},children:[Object(ve.jsx)("i",{className:"bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(ve.jsx)("span",{className:"text-sm",children:"Delete post"})]})]})]})]}),Object(ve.jsx)("span",{className:"text-sm break-words overflow-ellipsis max-w-full",children:null===p||void 0===p?void 0:p.content}),(null===p||void 0===p||null===(d=p.photos)||void 0===d?void 0:d.length)>0&&Object(ve.jsxs)("div",{className:"w-full max-h-500 cursor-pointer",children:[Object(ve.jsx)(ma,{photos:null===p||void 0===p?void 0:p.photos})," "]}),Object(ve.jsxs)("div",{className:"flex justify-between w-full text-xs text-gray-500 pt-2",children:[Object(ve.jsxs)("div",{className:"cursor-pointer flex items-center space-x-1",children:[Object(ve.jsx)("div",{className:"flex items-center",children:G&&G.map((function(e,t){return Object(ve.jsx)("div",{className:"w-5 h-5 "+(0===t?"z-3":1===t?"z-2":"z-1"),children:Object(ve.jsx)("img",{src:ea[e],alt:_t[e],className:"w-full h-full border-2 border-white dark:border-dark-secondary rounded-full "+(1===t?"transform -translate-x-1":2===t?"transform -translate-x-2":"")})},e)}))}),Object(ve.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt hover:underline",children:(null===p||void 0===p||null===(b=p.reactions)||void 0===b?void 0:b.length)>0&&(null===p||void 0===p||null===(m=p.reactions)||void 0===m?void 0:m.length)})]}),Object(ve.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt hover:underline",onClick:function(){return E((function(e){return!e}))},children:(null===p||void 0===p||null===(x=p.comments)||void 0===x?void 0:x.length)>0&&(null===p||void 0===p||null===(j=p.comments)||void 0===j?void 0:j.length)+" comment"+((null===p||void 0===p||null===(f=p.comments)||void 0===f?void 0:f.length)>1?"s":"")})]}),Object(ve.jsxs)("div",{className:"w-full text-center flex justify-between items-center select-none cursor-pointer border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold text-sm p-1",children:[Object(ve.jsxs)("span",{className:"relative flex-1 transition-base",ref:Z,onMouseOver:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:[A&&Object(ve.jsx)(ga,{setIsOpen:S,reactionRef:Z,postId:p.id,reacted:K,className:"absolute bottom-full left-0"}),K?Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"w-full h-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base",onClick:function(){K&&Y.deleteReaction(p.id),S(!1)},children:Object(ve.jsxs)("div",{className:"flex-center space-x-2",children:[Object(ve.jsx)("img",{src:ea[K.type],alt:_t[K.type],className:"animate-popup md:w-5 md:h-5 h-4 w-4"}),Object(ve.jsx)("span",{className:ta[K.type],children:_t[K.type]})]})})}):Object(ve.jsx)("div",{className:"w-full h-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base",onClick:function(){K?K&&K.type!==$t.LIKE&&Y.updateReaction(p.id,{type:$t.LIKE}):Y.addReaction(p.id,{type:$t.LIKE}),S(!1)},children:Object(ve.jsxs)("span",{children:[Object(ve.jsx)("i",{className:"bx bx-like mr-2 text-lg align-middle"}),"Like"]})})]}),Object(ve.jsxs)("span",{className:"flex-1 p-1 h-full w-full bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded transition-base flex items-center justify-center",onClick:function(){return E((function(e){return!e}))},children:[Object(ve.jsx)("i",{className:"bx bx-comment mr-2 text-lg align-middle "}),"Comment"]})]}),U&&Object(ve.jsx)(oa,{postId:null===p||void 0===p?void 0:p.id,currentUser:g}),Object(ve.jsx)(la,{postId:null===p||void 0===p?void 0:p.id,comments:null===p||void 0===p?void 0:p.comments,isOpen:U,currentUser:g})]})]})}var Na=c.a.memo(Oa),wa="/chats";function ka(){var e=bt(),t=Object(u.b)();return{getAll:function(){t(M(!0));var a="".concat(wa);return e.get(a)},getById:function(t,a){var n="".concat(wa,"/").concat(t);return e.get(n,{params:a})},sendMessage:function(t,a){var n="".concat(wa,"/").concat(t,"/send");return e.post(n,a)},readChat:function(t){var a="".concat(wa,"/").concat(t,"/read");return e.patch(a)},sendImage:function(a,r){t(M(!0));var s="".concat(wa,"/").concat(a,"/sendImage");return e.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,r)},updateGroupAvatar:function(a,r){t(M(!0));var s="".concat(wa,"/").concat(a,"/avatar");return e.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(s,r)},createGroupChat:function(a){var n;a.groupName=null===a||void 0===a||null===(n=a.groupName)||void 0===n?void 0:n.substring(0,99),t(M(!0));var r="".concat(wa,"/group");return e.post(r,a)},updateGroupChat:function(a,n){var r;n.newGroupName=null===n||void 0===n||null===(r=n.newGroupName)||void 0===r?void 0:r.substring(0,99),t(M(!0));var s="".concat(wa,"/").concat(a);return e.patch(s,n)},createPrivateChat:function(t){var a="".concat(wa,"/private");return e.post(a,t)}}}var ya="/users";function Ca(){var e=bt(),t=Object(u.b)();return{getUserList:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(ya);return e.get(r,{params:t})},getCurrentUser:function(){var t="".concat(ya,"/current");return e.get(t)},getByUserName:function(t){var a="".concat(ya,"/").concat(t);return e.get(a)},updateInformation:function(a){t(M(!0));var n="".concat(ya);return e.put(n,a)},updateAvatar:function(a){t(M(!0));var r="".concat(ya,"/avatar");return e.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(r,a)},updateCover:function(a){t(M(!0));var r="".concat(ya,"/cover");return e.interceptors.request.use(function(){var e=Object(ze.a)(De.a.mark((function e(t){var a,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("token"),r={},a&&(r=Object(n.a)(Object(n.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(r,a)}}}function Aa(){var e=Ca(),t=ka(),a=Object(d.h)(),n=Object(u.b)(),r=Object(s.useState)([]),c=Object(fe.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)([]),b=Object(fe.a)(l,2),m=b[0],x=b[1],j=Object(u.c)((function(e){return e.users.onlineUserNameList}));function f(){return(f=Object(ze.a)(De.a.mark((function e(a){var r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={participantUserName:a},t.createPrivateChat(r).then((function(e){e.id&&n(S(e.id))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){e.getUserList().then((function(e){o(e.items)}))}),[a.pathname]),Object(s.useEffect)((function(){var e=i.filter((function(e){return j.includes(e.userName)}));x(e)}),[j,i]),Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"w-full h-full flex flex-col space-y-3 bg-white dark:bg-dark-secondary rounded-lg p-4 shadow",children:[Object(ve.jsx)("span",{className:"font-bold text-lg",children:"Online"}),Object(ve.jsx)("div",{className:"flex flex-col select-none",children:m.map((function(e){return Object(ve.jsxs)("div",{onClick:function(){return function(e){return f.apply(this,arguments)}(e.userName)},className:"flex items-center space-x-2 px-1 rounded-lg py-2 clickable active:scale-95 active:transform transition-base",children:[Object(ve.jsx)(Ee,{size:"sm",userName:e.userName,src:e.avatarUrl}),Object(ve.jsx)("span",{className:"font-semibold text-sm truncate w-full",children:e.fullName})]},e.id)}))})]})})}var Sa=function(){var e,t,a,r=Object(s.useState)({page:1}),c=Object(fe.a)(r,2),i=c[0],o=c[1],d=jt(i),b=d.posts,m=d.isHasMore,x=d.isLoading,j=d.error,f=Object(u.c)((function(e){return e.users.currentUser}));return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"w-full flex flex-cols items-start justify-between animate-fadeIn md:space-x-2",children:[Object(ve.jsx)("div",{className:"sticky top-20 lg:block hidden w-full bg-white dark:bg-dark-secondary rounded-lg shadow max-w-350",children:Object(ve.jsxs)("div",{className:"flex flex-col items-center w-full",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(f.userName),className:"relative h-28 w-full flex mb-6 select-none",children:[Object(ve.jsx)("img",{src:null!==(e=null===f||void 0===f?void 0:f.coverUrl)&&void 0!==e?e:Le,alt:"".concat(null===f||void 0===f?void 0:f.fullName," cover"),className:"w-full object-cover rounded-lg cursor-pointer"}),Object(ve.jsx)("div",{className:"absolute rounded-full left-1/2 transform bottom-0 translate-y-5 -translate-x-1/2 border-2 border-white dark:border-dark-secondary ring-2 ring-green-400 dark:ring-green-500 cursor-pointer",children:Object(ve.jsx)(Ee,{src:null===f||void 0===f?void 0:f.avatarUrl,size:"lg"})})]}),Object(ve.jsxs)("div",{className:"w-full mx-4 dark:border-dark-hover pb-6 space-y-2",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(f.userName),children:[Object(ve.jsxs)("div",{className:"w-full text-center font-semibold hover:underline text-lg max-row-2",children:[f.fullName," "]}),f.nickName&&Object(ve.jsx)("div",{className:"font-normal text-center",children:"(".concat(f.nickName,")")})]}),Object(ve.jsx)("div",{className:"mx-3 text-center text-sm max-row-10",children:f.aboutMe})]})]})}),Object(ve.jsxs)("div",{className:"space-y-2 md:space-y-3 lg:min-w-600 md:min-w-500 w-full flex flex-col items-center",children:[Object(ve.jsx)(aa,{}),null===(t=Object(Ie.a)(null===b||void 0===b?void 0:b.items))||void 0===t||null===(a=t.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===a?void 0:a.map((function(e){return Object(ve.jsx)(Na,{post:e},e.id)})),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){m&&o(Object(n.a)(Object(n.a)({},i),{},{page:i.page+1}))},isLoading:x,error:j,isHasMore:m,loadMoreContent:"Load more posts..."}),(null===b||void 0===b?void 0:b.totalRecords)<=0&&Object(ve.jsxs)("div",{className:"text-center py-3 font-semibold",children:["Not found any posts",Object(ve.jsx)("br",{})," You should create first post or add more friends"]})]}),Object(ve.jsx)("div",{className:"sticky top-20 md:block hidden w-full",children:Object(ve.jsx)(Aa,{})})]})})};var Ia=function(e){var t,a=e.isOpen,n=e.setIsOpen,r=Object(s.useState)(Lt),c=Object(fe.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(!1),d=Object(fe.a)(l,2),b=d[0],m=d[1],x=Object(s.useState)(!1),j=Object(fe.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(""),h=Object(fe.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(""),w=Object(fe.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)([]),A=Object(fe.a)(C,2),I=A[0],F=A[1],U=Object(s.useState)([]),E=Object(fe.a)(U,2),R=E[0],P=E[1],L=Object(s.useRef)(),B=Object(s.useRef)(),D=Object(u.b)(),z=ka(),T=Ca();function H(){return(H=Object(ze.a)(De.a.mark((function e(){var t,a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f&&(i===Bt?(t={participantUserNames:R.map((function(e){return e.userName})),name:g},z.createGroupChat(t).then((function(e){e.id&&D(S(e.id)),P([]),O(""),n(!1)}))):i===Lt&&(a={participantUserName:R.map((function(e){return e.userName})).shift()},D(M(!0)),z.createPrivateChat(a).then((function(e){e.id&&D(S(e.id)),P([]),O(""),n(!1)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Oe(a),At(n),Ct(a,n,L),Ct(b,m,B),Object(s.useEffect)((function(){return T.getUserList().then((function(e){e&&F(e.items)})),function(){P([]),O("")}}),[]),Object(s.useEffect)((function(){if(i===Bt){var e=(null===R||void 0===R?void 0:R.length)>=2&&(null===g||void 0===g?void 0:g.trim());p(e)}else i===Lt&&p(0!==(null===R||void 0===R?void 0:R.length))}),[R,g,i]),a?Object(ve.jsx)("div",{className:"overlay grid place-items-center px-4 py-10 z-30",style:{margin:0},children:Object(ve.jsxs)("div",{ref:L,className:"animate-swipeDown px-6 md:px-14 md:py-6 flex flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full overflow-y-auto md:overflow-visible "+(b?"mb-16":""),children:[Object(ve.jsxs)("div",{className:"flex pt-6 pb-5 justify-between h-full items-center",children:[Object(ve.jsx)("h3",{className:"font-semibold text-lg md:text-2xl text-green-600 dark:text-green-400",children:"New chat!"}),Object(ve.jsxs)("div",{className:"relative flex rounded-lg items-center border border-green-500 cursor-pointer overflow-hidden",children:[Object(ve.jsx)("div",{className:"absolute bg-gradient-to-br from-green-400 to-green-600 w-1/2 h-full rounded transition-base z-0 "+(i===Bt?"transform translate-x-full left-0":"left-0 ")}),Object(ve.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(i===Lt?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(Lt)},children:"Private"}),Object(ve.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(i===Bt?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(Bt)},children:"Group"})]})]}),Object(ve.jsx)("div",{className:"space-y-2 md:space-y-4",children:i===Bt?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"groupName",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Group name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",{id:"groupName",value:g,onChange:function(e){return O(e.target.value)},type:"text",className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "})]}),Object(ve.jsxs)("div",{ref:B,className:"space-y-2",children:[Object(ve.jsx)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:"Find Friends"}),Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("input",{id:"search",type:"search",onFocus:function(){return m(!0)},value:k,autoComplete:"off",onChange:function(e){return y(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),b&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary dark:border-dark-hover border border-gray-300 border-opacity-50 rounded-lg w-full py-2 md:py-4 md:px-8 px-6 space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl",children:[Object(ve.jsx)("h4",{className:"font-semibold mb-2 dark:text-gray-200",children:"Friend list"}),I.filter((function(e){var t,a;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase()))||(null===(a=e.userName)||void 0===a?void 0:a.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a;return Object(ve.jsxs)("div",{onClick:function(){var t=Object(Ie.a)(R);t.some((function(t){return t.userName===e.userName}))||(t.push(e),P(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:Ye})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]})]}),Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Selected ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(ve.jsx)("span",{className:"text-sm text-gray-400",children:"(At least 2 people. Click to remove)"})]}),Object(ve.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none",children:R.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a;return Object(ve.jsxs)("div",{onClick:function(){var t=Object(Ie.a)(R),a=t.findIndex((function(t){return t.userName===e.userName}));a>=0&&(t.splice(a,1),P(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 dark:hover:bg-red-500 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:Ye})]},t+(null===e||void 0===e?void 0:e.userName))}))})]})]}):Object(ve.jsxs)("div",{ref:B,className:"space-y-2",children:[Object(ve.jsx)("label",{htmlFor:"selectFriend",className:"font-semibold md:text-lg dark:text-gray-200",children:"Select Friends"}),Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("input",{id:"selectFriend",type:"search",onFocus:function(){return m(!0)},value:k,autoComplete:"off",onChange:function(e){return y(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),b&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary border border-gray-400 border-opacity-50 rounded-lg w-full space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl py-2 md:py-4 md:px-8 px-6",children:[Object(ve.jsx)("h4",{className:"font-semibold mb-2 text-start dark:text-gray-200",children:"Friend list"}),null===I||void 0===I||null===(t=I.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})))||void 0===t?void 0:t.filter((function(e){var t,a;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase()))||(null===(a=e.userName)||void 0===a?void 0:a.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).map((function(e,t){var a;return Object(ve.jsxs)("div",{onClick:function(){var t=[];t.push(e),m(!1),P(t)},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate text-sm md:text-base",children:null!==(a=e.fullName)&&void 0!==a?a:Ye})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]}),Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"search",className:"font-semibold md:text-lg dark:text-gray-200",children:["Selected ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(ve.jsx)("span",{className:"text-sm text-gray-400",children:"(Click to remove)"})]}),Object(ve.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none ",children:Object(Ie.a)(R).map((function(e,t){var a;return 0===t?Object(ve.jsxs)("div",{onClick:function(){var t=Object(Ie.a)(R),a=t.findIndex((function(t){return t.userName===e.userName}));a>=0&&(t.splice(a,1),P(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out dark:hover:bg-red-500",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(a=e.fullName)&&void 0!==a?a:Ye})]},t+(null===e||void 0===e?void 0:e.userName)):Object(ve.jsx)(ve.Fragment,{})}))})]})]})}),Object(ve.jsx)("div",{className:"flex justify-end py-6 space-x-4",children:Object(ve.jsxs)("div",{className:"space-x-2 flex items-center",children:[Object(ve.jsx)(ge,{outline:!0,content:"Close",onClick:function(){return n(!1)}}),Object(ve.jsx)(ge,{disabled:!f,content:"Create",onClick:function(){return function(){return H.apply(this,arguments)}()}})]})})]})}):""};var Fa=function(e){var t=e.className,a=e.setChatNotificationNumber,n=e.setIsOpen,r=Object(u.c)((function(e){return e.users.currentUser})),c=Object(u.c)((function(e){return e.chats.chats})),i=Object(s.useState)(""),o=Object(fe.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)(!1),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(u.b)();return Object(s.useEffect)((function(){if(c){var e=c.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.numOfUnreadMessages)>0?1:0)}),0);a(e)}}),[c]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ia,{isOpen:x,setIsOpen:j}),Object(ve.jsxs)("div",{className:t+" bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-2 md:px-4 pt-3 md:pt-4 pb-2 border dark:border-dark-hover",children:[Object(ve.jsxs)("div",{className:"relative ",children:[Object(ve.jsxs)("div",{className:"flex space-x-2 justify-between items-center mb-3 ",children:[Object(ve.jsx)("input",{type:"search",className:"rounded-3xl bg-gray-100 px-4 pl-10 pr-3 py-2 focus:ring-2 focus:ring-green-400 focus:ring-opacity-50 outline-none transition-base w-full dark:bg-dark-third dark:text-white",placeholder:"Search TeeChat!",onChange:function(e){return d(e.target.value)}}),Object(ve.jsx)(wt,{iconClass:"bx bxs-edit",onClick:function(){return j(!0)},className:"dark:bg-dark-third bg-gray-100"})]}),Object(ve.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform -translate-y-1/2 text-gray-400 cursor-pointer"})]}),Object(ve.jsxs)("div",{className:"max-h-450 overflow-y-auto pr-2 md:pb-0",children:[c&&Ua(c,l).map((function(e,t){var a,s,c,i,o,l=r.userName;if(null===e||void 0===e?void 0:e.participants.some((function(e){return e.userName===l}))){var d,u=(null===e||void 0===e?void 0:e.participants.length)>1?null===e||void 0===e||null===(a=e.participants)||void 0===a?void 0:a.filter((function(e){return e.userName!==l})).shift():r,b={};if(0!==(null===(s=e.messages)||void 0===s?void 0:s.length))b=null===(d=e.messages)||void 0===d?void 0:d.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t}));return Object(ve.jsxs)("div",{className:"relative select-none w-full h-16 flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return function(e){var t=S(e);f(t),n(!1)}(e.id)},children:[e.numOfUnreadMessages>0&&Object(ve.jsx)("span",{className:"w-6 h-6 absolute right-2 top-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle",children:e.numOfUnreadMessages>9?"9+":e.numOfUnreadMessages}),Object(ve.jsx)(Ee,{src:(null===e||void 0===e?void 0:e.type)===Lt?null===u||void 0===u?void 0:u.avatarUrl:null===e||void 0===e?void 0:e.groupAvatarUrl,participants:null===e||void 0===e?void 0:e.participants}),Object(ve.jsxs)("div",{className:"font-primary flex flex-col pl-3 justify-between items-start h-full truncate w-full",children:[Object(ve.jsxs)("div",{className:"flex justify-between items-center w-full min-w-0 space-x-3",children:[Object(ve.jsx)("span",{className:"text-gray-800 truncate dark:text-dark-txt "+(e.numOfUnreadMessages>0?"font-bold":""),children:(null===e||void 0===e?void 0:e.type)===Lt?null===u||void 0===u?void 0:u.fullName:null!==(c=null===e||void 0===e?void 0:e.name)&&void 0!==c?c:We}),Object(ve.jsx)("span",{className:"text-sm text-gray-500 truncate flex-shrink-0",children:ca(null!==(i=null===(o=b)||void 0===o?void 0:o.dateCreated)&&void 0!==i?i:null===e||void 0===e?void 0:e.dateCreated)})]}),Object(ve.jsx)("div",{className:"flex",children:Object(ve.jsx)("span",{className:"mr-2 text-sm text-gray-500 truncate overflow-hidden flex-grow "+(e.numOfUnreadMessages>0?"font-bold mr-10":""),children:b.content?b.content:b.imageUrl?"Sent an image":""})})]})]},e.id)}})),c.length<1&&Object(ve.jsx)("div",{className:"pt-3 pb-4 w-full text-center font-semibold",children:"Not found any chats. Start a chat now!"})]}),Object(ve.jsx)("a",{href:"https://pctrung.github.io/TeeChat",target:"_blank",rel:"noreferrer",className:"font-semibold text-center text-sm text-green-500 hover:text-green-600 cursor-pointer block px-2 pt-2 mt-2 border-t-2 border-gray-100 dark:border-dark-third transition-base",children:"See all in TeeChat!"})]})]})};function Ua(e,t){var a=function(e){if(e)return Object(Ie.a)(e).sort((function(e,t){var a,n,r,s,c,i,o={},l={};0!==(null===(a=e.messages)||void 0===a?void 0:a.length)?o=null===(c=e.messages)||void 0===c?void 0:c.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):o.dateCreated=null===e||void 0===e?void 0:e.dateCreated;0!==(null===(n=t.messages)||void 0===n?void 0:n.length)?l=null===(i=t.messages)||void 0===i?void 0:i.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):l.dateCreated=null===t||void 0===t?void 0:t.dateCreated;return(null===(r=o)||void 0===r?void 0:r.dateCreated)<(null===(s=l)||void 0===s?void 0:s.dateCreated)?1:-1}))}(e);return a=function(e,t){if(e)return e.filter((function(e){var a;return(null===e||void 0===e?void 0:e.participants.some((function(e){return!(!e.fullName.toLowerCase().includes(t.toLowerCase())&&!(null===e||void 0===e?void 0:e.userName.toLowerCase().includes(t.toLowerCase())))})))||(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))}))}(a,t)}var Ea="/notifications";function Ra(){var e=bt();return{getAll:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:He}));var r="".concat(Ea);return e.get(r,{params:t})},readAll:function(){var t="".concat(Ea,"/read");return e.patch(t)},readById:function(t){var a="".concat(Ea,"/").concat(t,"/read");return e.patch(a)}}}var Pa=function(e){var t,a=e.notification,n=e.onClick;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"relative select-none w-full flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2  rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return n(a)},children:[!(null===a||void 0===a?void 0:a.isRead)&&Object(ve.jsx)("span",{className:"w-3 h-3 absolute right-2 top-1/2 transform -translate-y-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle"}),Object(ve.jsxs)("div",{className:"relative flex-shrink-0",children:[Object(ve.jsx)(Ee,{src:null===a||void 0===a||null===(t=a.creator)||void 0===t?void 0:t.avatarUrl}),(null===a||void 0===a?void 0:a.type)===Yt&&Object(ve.jsx)("div",{className:"h-5 w-5 absolute -right-1 top-full transform -translate-y-4",children:Object(ve.jsx)("img",{src:ea[a.reactionType],alt:_t[a.reactionType],className:"w-full h-full"})})]}),Object(ve.jsx)("div",{className:"font-primary flex flex-col pl-3 justify-between w-full max-w-lg",children:Object(ve.jsxs)("div",{className:"flex flex-col justify-between items-start w-full min-w-0",children:[Object(ve.jsx)("span",{className:"text-sm md:text-base text-gray-800 dark:text-dark-txt max-w-full overflow-ellipsis break-word max-row-2 "+((null===a||void 0===a?void 0:a.isRead)?"":"font-bold pr-3"),children:null===a||void 0===a?void 0:a.content}),Object(ve.jsx)("span",{className:"text-xs md:text-sm text-gray-500 truncate flex-shrink-0 "+((null===a||void 0===a?void 0:a.isRead)?"":"font-bold"),children:ca(null===a||void 0===a?void 0:a.dateCreated)})]})})]})})};var Ma=function(e){var t,a,n,r=e.className,c=e.setIsOpen,i=e.setNotificationNumber,o=Object(s.useState)(1),l=Object(fe.a)(o,2),b=l[0],m=l[1],x=Object(u.b)(),j=Object(d.g)(),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(s.useState)(!1),a=Object(fe.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(fe.a)(c,2),o=i[0],l=i[1],d=Object(u.c)((function(e){return e.app.notifications})),b=Object(s.useState)(!0),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Ra(),p=Object(u.b)();return Object(s.useEffect)((function(){if(x){r(!0),l(!1);var t={page:e};f.getAll(t).then((function(t){p(e>1?q(t):z(t)),j(e<t.pageCount),r(!1)})).catch((function(e){l(e)}))}}),[e]),{notifications:d,isLoading:n,error:o,isHasMore:x}}(b),p=f.notifications,v=f.isHasMore,h=f.isLoading,g=f.error,O=Ra();function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(e.isRead||(x(H(e.id)),O.readById(e.id)),e.type){case Wt:case Yt:(null===e||void 0===e?void 0:e.postId)&&j.push("/posts/"+(null===e||void 0===e?void 0:e.postId));break;case Vt:case Zt:case Kt:j.push("/friends")}c(!1)}return Object(s.useEffect)((function(){if(p.items){var e=p.items.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.isRead)?0:1)}),0);i(e)}}),[p]),Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:r+" flex flex-col bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-5 py-4 pb-3 border dark:border-dark-hover ",children:[Object(ve.jsxs)("div",{className:"flex justify-between items-baseline border-b dark:border-dark-hover pb-1 mb-2",children:[Object(ve.jsx)("span",{className:"text-2xl font-bold",children:"Notifications"}),Object(ve.jsx)("span",{className:"text-green-600 hover:text-green-700 active:text-green-800 dark:text-green-400 dark:hover:text-green-300 dark:active:text-green-200 cursor-pointer select-none transition-base text-sm",onClick:function(){x(T()),O.readAll()},children:"Mark all as read"})]}),Object(ve.jsxs)("div",{className:"overflow-y-auto md:max-h-500 max-h-400",children:[p&&(null===(t=Object(Ie.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return!e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===t?void 0:t.map((function(e,t){return Object(ve.jsx)(Pa,{onClick:N,notification:e},e.id)}))),p&&(null===(a=Object(Ie.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===a?void 0:a.map((function(e,t){return Object(ve.jsx)(Pa,{onClick:N,notification:e},e.id)}))),Object(ve.jsx)(Me,{className:"mt-2",onClick:function(){v&&m((function(e){return e+1}))},isLoading:h,error:g,isHasMore:v,loadMoreContent:"Load more notifications..."})]}),(null===p||void 0===p||null===(n=p.items)||void 0===n?void 0:n.length)<1&&Object(ve.jsx)("span",{className:"my-2 pb-2 text-center w-full font-semibold",children:"Do not have any notifications"})]})})},La=[{name:"Home",icon:"bx bxs-home",inactiveIcon:"bx bx-home",route:"/"},{name:"Friends",icon:"bx bxs-group",inactiveIcon:"bx bx-group",route:"/friends"},{name:"Search",icon:"bx bxs-search",inactiveIcon:"bx bx-search",route:"/search",isMobile:!0}],Ba="/accounts";function Da(){var e=bt(),t=Object(u.b)();return{login:function(a){t(M(!0));var n="".concat(Ba,"/login");return e.post(n,a)},changePassword:function(a){t(M(!0));var n="".concat(Ba,"/changePassword");return e.post(n,a)},logout:function(){t(M(!0));var a="".concat(Ba,"/logout");return e.post(a)},register:function(a){var n,r;a.firstName=null===a||void 0===a||null===(n=a.firstName)||void 0===n?void 0:n.substring(0,49),a.lastName=null===a||void 0===a||null===(r=a.lastName)||void 0===r?void 0:r.substring(0,49),t(M(!0));var s="".concat(Ba,"/register");return e.post(s,a)},checkUserNameExists:function(t){if(t){var a="".concat(Ba,"/").concat(t,"/isExists");return e.get(a)}return Promise.reject()}}}var za=function(){var e=Object(s.useState)(!1),t=Object(fe.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){"dark"===window.localStorage.getItem("theme")&&(window.document.documentElement.classList.add("dark"),n(!0))}),[]),Object(s.useEffect)((function(){a?(window.document.documentElement.classList.add("dark"),window.localStorage.setItem("theme","dark")):(window.document.documentElement.classList.remove("dark"),window.localStorage.setItem("theme","light"))}),[a]),{darkMode:a,setDarkMode:n}},Ta=a.p+"static/media/logo-circle.97246462.png";var Ha=function(e){var t=e.className,a=Object(d.g)(),n=Object(u.b)(),r=Object(d.h)(),c=Object(u.c)((function(e){return e.users.currentUser})),i=Object(u.c)((function(e){return e.posts.newPostTotal})),o=Ca(),l=Da(),b=xt(),m=Object(s.useState)(0),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)(0),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=za(),N=O.darkMode,w=O.setDarkMode,k=Object(s.useState)(""),y=Object(fe.a)(k,2),C=y[0],A=y[1],S=Object(s.useState)(!1),I=Object(fe.a)(S,2),F=I[0],U=I[1],E=Object(s.useState)(!1),R=Object(fe.a)(E,2),P=R[0],M=R[1],L=Object(s.useState)(!1),B=Object(fe.a)(L,2),D=B[0],z=B[1],T=Object(s.useState)(!1),H=Object(fe.a)(T,2),q=H[0],G=H[1],W=Object(s.useState)({isOpen:!1,title:"",content:"",confirmButtonTitle:""}),Y=Object(fe.a)(W,2),V=Y[0],K=Y[1],J=Object(s.useRef)(),Q=Object(s.useRef)();function X(){return $.apply(this,arguments)}function $(){return($=Object(ze.a)(De.a.mark((function e(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.logout();case 2:window.localStorage.removeItem("token"),window.location.href="/TeeApp/";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes",n=arguments.length>3?arguments[3]:void 0,r={isOpen:!0,title:n,content:e,confirmButtonTitle:a,confirmButtonAction:t};K(r)}function te(e,t){t?(window.scrollTo({top:0,left:0,behavior:"smooth"}),n(me()),b.getNewsFeed().then((function(e){n(ee(e))}))):a.push(e),U(!1),A("")}return Object(s.useEffect)((function(){o.getCurrentUser().then((function(e){n(Z(e))}))}),[]),Ct(q,G,J),Ct(P,M,J),Ct(D,z,J),At(U),Oe(F),Object(ve.jsxs)(ve.Fragment,{children:[V.isOpen&&Object(ve.jsx)(na,{isOpen:V.isOpen,closeAction:function(){return K({isOpen:!1})},title:"Are you sure?",content:V.content,confirmButtonTitle:V.confirmButtonTitle,confirmButtonAction:V.confirmButtonAction}),Object(ve.jsxs)("div",{className:"fixed bottom-4 left-4 items-center cursor-pointer z-50 hidden md:flex",onClick:function(){return w(!N)},children:[Object(ve.jsx)("i",{className:"bx p-2 dark:text-dark-txt text-gray-500 "+(N?"bx-moon":"bx-sun")}),Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("div",{className:"block bg-gray-600 w-10 h-6 rounded-full"}),Object(ve.jsx)("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-base transform "+(N?"translate-x-full bg-green600 dark:bg-green-400":"")})]})]}),Object(ve.jsx)("div",{className:"bg-white dark:bg-dark-secondary dark:text-white p-2 shadow border-b border-transparent dark:border-dark-hover z-20 "+t,children:Object(ve.jsxs)("div",{ref:J,className:"relative max-w-full md:max-w-screen-xl mx-auto flex justify-between items-center",children:[Object(ve.jsxs)("div",{className:"flex space-x-4 flex-shrink-0",children:[Object(ve.jsx)("span",{onClick:function(){return te("/","/"===r.pathname)},children:Object(ve.jsx)("img",{src:Ta,alt:"Logo",className:"h-10 w-10 cursor-pointer"})}),Object(ve.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a.push("/search/"+C)}(e)},className:"relative md:inline-block hidden",children:[Object(ve.jsx)("input",{type:"search",className:"bg-gray-100 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base select-none",placeholder:"Search TeeApp!",value:C,onChange:function(e){return A(e.target.value)}}),Object(ve.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]})]}),Object(ve.jsx)("div",{className:"text-3xl text-green-500 md:flex hidden",children:La.map((function(e){var t=r.pathname,a=e.route===t,n=a?e.icon:e.inactiveIcon;return Object(ve.jsxs)("div",{className:"relative group border-b-4 border-transparent "+(e.isMobile?"block md:hidden":"")+" "+(a?" border-green-500":""),onClick:function(){return te(e.route,a)},children:[Object(ve.jsx)("i",{className:"select-none py-1 px-4 md:py-2 md:px-6 rounded-lg hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover transition-base cursor-pointer  ".concat(n)}),Object(ve.jsx)("div",{className:"select-none animate-fadeIn group-hover:block absolute top-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded transform -translate-x-1/2 translate-y-2 text-white dark:text-black text-sm font-title p-1",children:e.name}),"home"===e.name.toLowerCase()&&i>0&&Object(ve.jsx)("span",{className:"animate-fadeIn absolute top-1 right-1 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"})]},e.route)}))}),Object(ve.jsxs)("ul",{className:"flex items-center space-x-2",children:[Object(ve.jsxs)("li",{className:"active:transform active:scale-95 p-1 h-full rounded-full flex items-center  transition-base cursor-pointer select-none mr-3 "+(r.pathname==="/profile/".concat(c.userName)?"dark:bg-green-600 dark:bg-opacity-40 bg-green-100 text-green-600 dark:text-green-400 ":"dark:hover:bg-dark-third hover:bg-gray-200"),onClick:function(){return e=c.userName,a.push("/profile/"+e),void A("");var e},children:[Object(ve.jsx)(Ee,{src:c.avatarUrl,size:"sm"}),Object(ve.jsx)("span",{className:"px-2 font-semibold truncate w-full",children:c.firstName})]}),Object(ve.jsxs)("li",{className:"relative",children:[Object(ve.jsx)(wt,{className:"p-2  "+(P?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-100":""),iconClass:"bx bxs-message-rounded-dots",colorClass:P?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:P?"text-green-600 dark:text-green-400":"",onClick:function(){M(!P),G(!1),z(!1)}}),j>0&&!P&&Object(ve.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:j>9?"9+":j})]}),Object(ve.jsxs)("li",{className:"relative",children:[Object(ve.jsx)("span",{className:"dark:bg-green-600"}),Object(ve.jsx)(wt,{className:"p-2",colorClass:D?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",iconClass:"bx bxs-bell",colorIconClass:D?"text-green-600 dark:text-green-400":"",onClick:function(){M(!1),G(!1),z(!D)}}),h>0&&!D&&Object(ve.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:h>9?"9+":h})]}),Object(ve.jsx)("li",{className:"md:inline hidden",children:Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)(wt,{className:"p-2",iconClass:"bx bx-caret-down",colorClass:q?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:q?"text-green-600 dark:text-green-400":"",onClick:function(){G(!q),M(!1),z(!1)}}),q&&Object(ve.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-full transform translate-y-1 right-0 border border-gray-200 bg-white w-60 rounded-lg shadow-lg overflow-hidden p-1 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-30",children:[Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return w(!N)},children:[Object(ve.jsx)("i",{className:"text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 bx  "+(N?" bx-sun":" bx-moon")}),Object(ve.jsx)("span",{children:N?"Light Mode":"Dark Mode"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){_("Do you want to log out?",X)},children:[Object(ve.jsx)("i",{className:"bx bx-log-in-circle text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(ve.jsx)("span",{children:"Log Out"})]})]})]})}),Object(ve.jsx)("li",{className:"md:hidden",children:Object(ve.jsx)(wt,{className:"p-2",iconClass:"bx bx-menu",colorClass:F?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:F?"text-green-600 dark:text-green-400":"",onClick:function(){U(!F)}})})]}),Object(ve.jsx)(Fa,{setIsOpen:M,setChatNotificationNumber:f,className:"absolute animate-fadeIn top-full transform translate-y-2 right-0 lg:w-112 md:w-96 w-full max-h-600  "+(P?"":"hidden")}),Object(ve.jsx)(Ma,{setIsOpen:z,className:"absolute animate-fadeIn top-full transform translate-y-2 right-0 lg:w-112 md:w-96 w-full max-h-600 overflow-y-auto  "+(D?"":"hidden"),setNotificationNumber:g})]})}),F&&Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)("div",{ref:Q,className:"text-gray-500 dark:text-dark-txt md:hidden w-screen fixed animate-swipeRight inset-0 bg-white dark:bg-dark-primary z-40 px-4 py-4 pt-5 flex flex-col space-y-3 outline-none cursor-pointer",children:[Object(ve.jsxs)("div",{className:"flex justify-end space-x-4",children:[Object(ve.jsxs)("div",{className:"fixed bottom-8 left-8 flex items-center cursor-pointer ",onClick:function(){return w(!N)},children:[Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full"}),Object(ve.jsx)("div",{class:"absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-base transform "+(N?"translate-x-full bg-green600 dark:bg-green-400":"")})]}),Object(ve.jsx)("i",{className:"bx p-2 "+(N?"bx-moon":"bx-sun")})]}),Object(ve.jsx)(wt,{className:"p-2 w-10 h-10",iconClass:"bx bx-x",onClick:function(){return U(!1)}})," "]}),Object(ve.jsxs)("div",{className:"flex flex-col w-full",children:[La.map((function(e){var t=r.pathname,a=e.route===t,n=a?e.icon:e.inactiveIcon;return Object(ve.jsxs)("div",{className:"animate-swipeRight relative group w-full hover:bg-gray-200 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg "+(a?"bg-gray-100 dark:bg-dark-secondary":""),onClick:function(){return te(e.route,a)},children:[Object(ve.jsxs)("div",{className:"flex space-x-4 text-2xl py-2 px-4 rounded-lg items-center "+(a?"font-bold text-green-500":"font-medium"),children:[Object(ve.jsx)("i",{className:"select-none py-1 px-2 text-3xl align-middle ".concat(n)}),Object(ve.jsx)("span",{className:"",children:e.name})]}),"home"===e.name.toLowerCase()&&i>0&&Object(ve.jsx)("span",{className:"animate-fadeIn absolute top-1 left-1 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"}),a&&Object(ve.jsx)("span",{className:"animate-fadeIn absolute top-1/2 right-3 transform -translate-y-1/2 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"})]},e.route)})),Object(ve.jsx)("div",{className:"animate-swipeRight w-full hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover ",children:Object(ve.jsxs)("div",{className:"flex space-x-4 text-2xl py-2 px-4 rounded-lg items-center font-medium",onClick:function(){_("Do you want to log out?",X)},children:[Object(ve.jsx)("i",{className:"select-none py-1 px-2 text-3xl align-middle bx bx-log-in-circle"}),Object(ve.jsx)("span",{children:"Log out"})]})})]})]})," "]})]})},qa="/friends";function Ga(){var e=bt();return{getFriends:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa);return e.get(r,{params:t})},getFriendRequests:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa,"/friendRequests");return e.get(r,{params:t})},getMyRequests:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa,"/myRequests");return e.get(r,{params:t})},getFollowers:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa,"/followers");return e.get(r,{params:t})},getFollowing:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa,"/following");return e.get(r,{params:t})},getBlocked:function(t){var a;(null===(a=t)||void 0===a?void 0:a.limit)||(t=Object(n.a)(Object(n.a)({},t),{},{limit:Ge}));var r="".concat(qa,"/blocked");return e.get(r,{params:t})},getRelationByUserName:function(t){var a="".concat(qa,"/").concat(t);return e.get(a)},addFriend:function(t){var a="".concat(qa,"/").concat(t,"/addFriend");return e.patch(a)},unfriend:function(t){var a="".concat(qa,"/").concat(t,"/unfriend");return e.patch(a)},accept:function(t){var a="".concat(qa,"/").concat(t,"/accept");return e.patch(a)},block:function(t){var a="".concat(qa,"/").concat(t,"/block");return e.patch(a)},unblock:function(t){var a="".concat(qa,"/").concat(t,"/unblock");return e.patch(a)},follow:function(t){var a="".concat(qa,"/").concat(t,"/follow");return e.patch(a)},unfollow:function(t){var a="".concat(qa,"/").concat(t,"/unfollow");return e.patch(a)}}}var Wa=a(53),Ya=a(25),Va=a(19);function Za(e){var t,a,r,c=e.isOpen,i=e.setIsOpen,o=Object(s.useState)(!1),l=Object(fe.a)(o,2),d=l[0],b=l[1],m=Da(),x=Object(s.useRef)(),j=Object(u.b)();Ct(c,i,x),At(i);var f="bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-80 dark:focus:ring-opacity-80 outline-none transition-base";function p(e,t){j(L({isOpen:!0,title:e,content:t}))}var v=Va.b().shape({currentPassword:Va.c().required("Current Password is required"),newPassword:Va.c().required("Current Password is required").test("checkPassword","Password must be at least 8 characters with an uppercase letter and a number",(function(e){return function(e,t){if(e&&t){return new RegExp(t).test(e)}}(e,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$!%*?&]{8,}$")})),confirmPassword:Va.c().required("Confirm Password is required").test("ConfirmPasswordMatch","Password and Confirmation Password must match",(function(e){return e===y.newPassword}))}),h=Object(Ya.d)({resolver:Object(Wa.a)(v),defaultValues:{}}),g=h.register,O=h.handleSubmit,N=h.control,w=h.reset,k=h.formState.errors,y=Object(Ya.e)({control:N});Object(s.useEffect)((function(){y.currentPassword&&y.newPassword&&y.confirmPassword?b(!0):b(!1)}),[y]);var C=function(){var e=Object(ze.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.changePassword(t).then((function(e){p("Success","Change password successfully!"),w({})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"overlay grid place-items-center px-4 py-10 z-30",style:{margin:0},children:Object(ve.jsx)("div",{ref:x,className:"animate-swipeDown px-6 py-3 pb-6 md:px-14 md:py-6 flex flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full overflow-y-auto md:overflow-visible dark:text-white",children:Object(ve.jsxs)("div",{className:"flex justify-between h-full flex-col space-y-5",children:[Object(ve.jsx)("h3",{className:"font-semibold mt-3 text-lg md:text-2xl text-green-600 dark:text-green-400",children:"Change Password"}),Object(ve.jsxs)("form",{onSubmit:O(C),className:"flex flex-col space-y-2",children:[Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"currentPassword",className:"md:text-lg font-medium ",children:["Current Password ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},g("currentPassword")),{},{className:f})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(t=k.currentPassword)||void 0===t?void 0:t.message})]}),Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"newPassword",className:"md:text-lg font-medium ",children:["New Password ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},g("newPassword")),{},{className:f})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(a=k.newPassword)||void 0===a?void 0:a.message})]}),Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"confirmPassword",className:"md:text-lg font-medium ",children:["Confirm Password ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},g("confirmPassword")),{},{className:f})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(r=k.confirmPassword)||void 0===r?void 0:r.message})]}),Object(ve.jsxs)("div",{className:"flex md:flex-row flex-col-reverse justify-end md:space-x-2",children:[Object(ve.jsx)(ge,{outline:!0,onClick:function(e){e.preventDefault(),i(!1)},content:"Close",className:"font-bold w-full md:w-auto mt-2 md:mt-0 "}),Object(ve.jsx)(ge,{disabled:!d,content:"Save",className:"font-bold w-full md:w-auto"})]})]})]})})})})}var Ka=function(e){var t=e.value,a=void 0===t?"":t,n=e.onChange,r=e.id,s=e.type,c=void 0===s?"text":s,i=e.className,o=e.disabled,l=e.small;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("input",{disabled:o,value:a,onChange:n,id:r,type:c,className:"bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-60 dark:focus:ring-opacity-80 outline-none transition-base "+(o?"select-none text-gray-500 dark:text-black":"")+" "+(l?"py-1 px-2 ":"py-2 px-3")+" "+i})})};var Ja=function(e){var t,a,n,r,c,i,o,l=e.isOpen,d=e.setIsOpen,b=e.user,m=e.className,x=Object(s.useState)(null!==(t=b.firstName)&&void 0!==t?t:""),j=Object(fe.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(null!==(a=b.lastName)&&void 0!==a?a:""),h=Object(fe.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(null!==(n=b.phoneNumber)&&void 0!==n?n:""),w=Object(fe.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)(null!==(r=b.email)&&void 0!==r?r:""),A=Object(fe.a)(C,2),S=A[0],I=A[1],F=Object(s.useState)(null!==(c=b.nickName)&&void 0!==c?c:""),U=Object(fe.a)(F,2),E=U[0],R=U[1],P=Object(s.useState)(null!==(i=b.aboutMe)&&void 0!==i?i:""),M=Object(fe.a)(P,2),L=M[0],B=M[1],D=Object(s.useState)(b.gender),z=Object(fe.a)(D,2),T=z[0],H=z[1],q=Object(s.useState)(b.dateOfBirth),G=Object(fe.a)(q,2),W=G[0],Y=G[1],V=Object(s.useState)(!1),K=Object(fe.a)(V,2),J=K[0],Q=K[1],X=Ca(),$=Object(u.b)();function _(){return(_=Object(ze.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={firstName:f.substring(0,30),lastName:g.substring(0,30),email:S,nickName:null===E||void 0===E?void 0:E.substring(0,20),aboutMe:null===L||void 0===L?void 0:L.substring(0,149),gender:T,dateOfBirth:W,phoneNumber:k},X.updateInformation(t).then((function(e){$(Z(e)),d(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e,t,a,n,r,s;b&&(p(null!==(e=b.firstName)&&void 0!==e?e:""),O(null!==(t=b.lastName)&&void 0!==t?t:""),y(null!==(a=b.phoneNumber)&&void 0!==a?a:""),I(null!==(n=b.email)&&void 0!==n?n:""),R(null!==(r=b.nickName)&&void 0!==r?r:""),B(null!==(s=b.aboutMe)&&void 0!==s?s:""),H(b.gender),Y(b.dateOfBirth))}),[b]),Object(s.useEffect)((function(){f.trim()&&g.trim()&&S.trim()?Q(!0):Q(!1)}),[f,g,S]),l?Object(ve.jsxs)("div",{className:"py-4 px-5 max-w-xl min-w-200 bg-white dark:bg-dark-secondary flex flex-col justify-start items-start space-y-3 rounded-xl shadow "+m,children:[Object(ve.jsx)("h3",{className:"text-lg font-semibold w-full border-b dark:border-dark-hover pb-2 text-green-600 dark:text-green-400",children:"Edit Personal Detail"}),Object(ve.jsxs)("div",{className:"space-y-2 md:space-y-4 md:pt-3 pt-1 w-full",children:[Object(ve.jsxs)("div",{className:"mb-3 flex flex-col md:grid md:grid-cols-2 md:place-items-start space-y-2 md:space-y-0",children:[Object(ve.jsxs)("div",{className:"w-full md:col-span-1 md:mr-2 space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"fistName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["First Name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)(Ka,{id:"firstName",value:f,onChange:function(e){return p(e.target.value)}})]}),Object(ve.jsxs)("div",{className:"w-full md:col-span-1 md:ml-2 space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"lastName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Last Name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)(Ka,{id:"lastName",value:g,onChange:function(e){return O(e.target.value)}})]})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsx)("label",{htmlFor:"nickName",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:"Nickname"}),Object(ve.jsx)(Ka,{id:"nickName",value:E,onChange:function(e){return R(e.target.value)}})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"gender",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Gender ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsxs)("div",{className:"flex justify-evenly items-center text-center space-x-1 px-5 select-none relative h-full z-0",children:[Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T===qt.MALE?"bg-green-500 text-white":""),htmlFor:"male",children:[Object(ve.jsx)("i",{className:"bx bx-male-sign pt-1 text-lg"}),Object(ve.jsx)("span",{children:"Male"})]}),Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-1 transition-base space-y-1 "+(T===qt.FEMALE?"bg-green-500 text-white":""),htmlFor:"female",children:[Object(ve.jsx)("i",{className:"bx bx-female-sign pt-1 text-lg"}),Object(ve.jsx)("span",{children:"Female"})]}),Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(T===qt.OTHER?"bg-green-500 text-white":""),htmlFor:"other",children:[Object(ve.jsx)("span",{className:"text-lg",children:"\u26a5"}),Object(ve.jsx)("span",{children:"Other"})]}),Object(ve.jsx)("input",{hidden:!0,id:"male",name:"gender",type:"radio",onChange:function(){return H(qt.MALE)}}),Object(ve.jsx)("input",{hidden:!0,id:"female",name:"gender",type:"radio",onChange:function(){return H(qt.FEMALE)}}),Object(ve.jsx)("input",{hidden:!0,id:"other",name:"gender",type:"radio",onChange:function(){return H(qt.OTHER)}})]})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"dateOfBirth",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Date of Birth ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)(Ka,{id:"dateOfBirth",value:new Date(W).toDateInputValue(),onChange:function(e){return Y(e.target.value)},type:"date"})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"email",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["Email ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)(Ka,{id:"email",value:S,onChange:function(e){return I(e.target.value)}})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsx)("label",{htmlFor:"phoneNumber",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:"Phone Number"}),Object(ve.jsx)(Ka,{type:"number",id:"phoneNumber",value:k,onChange:function(e){return y(e.target.value)}})]}),Object(ve.jsxs)("div",{className:"w-full space-y-2 flex flex-col",children:[Object(ve.jsxs)("label",{htmlFor:"aboutMe",className:"md:text-base text-sm font-semibold dark:text-dark-txt",children:["About Me"," ",Object(ve.jsxs)("span",{className:"font-normal text-sm",children:["(","".concat(null!==(o=null===L||void 0===L?void 0:L.length)&&void 0!==o?o:0,"/150"),")"]})]}),Object(ve.jsx)("textarea",{rows:"3",className:"bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-60 dark:focus:ring-opacity-80 outline-none transition-base py-2 px-3",id:"aboutMe",value:L,onChange:function(e){L.length<150&&B(e.target.value)}})]}),Object(ve.jsxs)("div",{className:"flex flex-col md:flex-row-reverse justify-end space-y-2 md:space-y-0 items-center pt-2",children:[Object(ve.jsx)(ge,{disabled:!J,className:"w-full",content:"Save",onClick:function(){return function(){return _.apply(this,arguments)}()}}),Object(ve.jsx)(ge,{className:"w-full md:mr-2",outline:!0,content:"Close",onClick:function(){return d(!1)}})]})]})]}):""};Date.prototype.toDateInputValue=function(){var e,t=new Date(this);return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),null===(e=t.toJSON())||void 0===e?void 0:e.slice(0,10)};var Qa=function(e){var t=e.user,a=e.className;return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"md:max-w-xs max-w-xl min-w-0 bg-white dark:bg-dark-secondary w-full rounded-xl shadow px-5 py-4 space-y-3 "+a,children:[Object(ve.jsx)("div",{className:"text-lg font-semibold w-full border-b dark:border-dark-hover pb-2 text-green-600 dark:text-green-400",children:"Personal Detail"}),Object(ve.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Name"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2",children:t.fullName})]}),Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Nickname"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2",children:t.nickName?t.nickName:"--"})]}),Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Gender"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2",children:Gt[t.gender]})]}),Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Birthday"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2",children:new Date(t.dateOfBirth).getFullYear()>1?ca(t.dateOfBirth):"--"})]}),Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Phone"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2",children:t.phoneNumber?t.phoneNumber:"--"})]}),Object(ve.jsxs)("div",{className:"flex flex-col",children:[Object(ve.jsxs)("span",{className:"text-sm text-gray-500 dark:text-dark-txt",children:["Email"," "]}),Object(ve.jsx)("span",{className:"font-medium max-row-2 break-all",children:t.email?t.email:"--"})]})]})]})})};var Xa=function(){var e,t,a,r=Object(d.i)().userName,c=Ca(),i=Ga(),o=ka(),l=Object(s.useState)({}),b=Object(fe.a)(l,2),m=b[0],x=b[1],j=Object(s.useState)(!1),f=Object(fe.a)(j,2),p=f[0],v=f[1],h=Object(s.useState)(!1),g=Object(fe.a)(h,2),O=g[0],N=g[1],w=Object(s.useState)(!1),k=Object(fe.a)(w,2),y=k[0],C=k[1],A=Object(s.useState)({}),I=Object(fe.a)(A,2),F=I[0],U=I[1],E=Object(s.useState)({}),R=Object(fe.a)(E,2),P=R[0],M=R[1],L=Object(s.useState)(Object(ve.jsx)(ve.Fragment,{})),B=Object(fe.a)(L,2),D=B[0],z=B[1],T=Object(s.useState)({isOpen:!1}),H=Object(fe.a)(T,2),q=H[0],G=H[1],W=Object(d.g)(),Y=Object(u.b)(),V=Object(u.c)((function(e){return e.users.currentUser})),K=V.userName===r,J=Object(s.useRef)();Ct(y,C,J);var Q=Object(s.useState)(1),X=Object(fe.a)(Q,2),$=X[0],_=X[1],ee=jt($,r),te=ee.posts,ae=ee.isHasMore,ne=ee.isLoading,re=ee.error;function se(){return(se=Object(ze.a)(De.a.mark((function e(t){var a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={participantUserName:t},o.createPrivateChat(a).then((function(e){e.id&&Y(S(e.id))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){G({isOpen:!0,photos:e})}function ie(){return(ie=Object(ze.a)(De.a.mark((function e(t){var a,n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("File",a),e.next=5,c.updateCover(n).then((function(e){Y(Z(e))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(ze.a)(De.a.mark((function e(t){var a,n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("File",a),e.next=5,c.updateAvatar(n).then((function(e){Y(Z(e))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){i.getRelationByUserName(r).then((function(e){M(e)})).catch((function(){W.push("/NotFound")}))}function de(){i&&i.addFriend(r).then((function(e){le()}))}function ue(){i&&i.unfriend(r).then((function(e){M(Object(n.a)(Object(n.a)({},P),{},{relationType:Ht,isFollowing:!1}))}))}function be(){i&&i.accept(r).then((function(e){le()}))}function me(){i&&i.block(r).then((function(e){W.push("/friends")}))}function xe(){var e;U({isOpen:!0,content:"Do you want to unfriend ".concat(null!==(e=m.fullName)&&void 0!==e?e:"this user","?"),action:ue})}function je(){var e;U({isOpen:!0,content:"Do you want to decline friend request from ".concat(null!==(e=m.fullName)&&void 0!==e?e:"this user","?"),action:ue})}return Object(s.useEffect)((function(){K?x(V):(c&&r&&c.getByUserName(r).then((function(e){x(e)})).catch((function(){W.push("/NotFound")})),i&&r&&le()),_({page:1}),window.scrollTo(0,0)}),[r,V]),Object(s.useEffect)((function(){if(P)switch(P.relationType){case zt:z(Object(ve.jsxs)(ge,{className:"relative flex items-center space-x-1",onClick:xe,children:[Object(ve.jsx)("i",{className:"bx bxs-user-check text-xl"}),Object(ve.jsx)("span",{children:"Friend"})]}));break;case Ht:z(Object(ve.jsxs)(ge,{className:"flex items-center space-x-1",onClick:de,children:[Object(ve.jsx)("i",{className:"bx bxs-user-plus text-xl"}),Object(ve.jsx)("span",{children:"Add friend"})]}));break;case Tt:z(Object(ve.jsxs)(ge,{className:"flex items-center space-x-1",onClick:ue,children:[Object(ve.jsx)("i",{className:"bx bxs-user-x text-xl"}),Object(ve.jsx)("span",{children:"Cancel request"})]}));break;case Dt:z(Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)(ge,{secondary:!0,className:"flex items-center space-x-1",onClick:je,children:[Object(ve.jsx)("i",{className:"bx bxs-user-x text-xl"}),Object(ve.jsx)("span",{children:"Decline"})]}),Object(ve.jsxs)(ge,{className:"flex items-center space-x-1",onClick:be,children:[Object(ve.jsx)("i",{className:"bx bxs-user-check text-xl"}),Object(ve.jsx)("span",{children:"Confirm"})]})]}))}}),[P]),Object(ve.jsxs)(ve.Fragment,{children:[p&&Object(ve.jsx)(Za,{isOpen:p,setIsOpen:v}),(null===F||void 0===F?void 0:F.isOpen)&&Object(ve.jsx)(na,{isOpen:F.isOpen,closeAction:function(){return U({isOpen:!1})},title:"Are you sure?",content:F.content,confirmButtonTitle:"Yes",confirmButtonAction:F.action}),q.isOpen&&Object(ve.jsx)(ba,{isOpen:q.isOpen,photos:q.photos,startIndex:q.startIndex,setIsOpen:function(e){return G({isOpen:e})}}),Object(ve.jsx)("input",{id:"avatar",type:"file",hidden:!0,accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg",onChange:function(e){return oe.apply(this,arguments)}}),Object(ve.jsx)("input",{id:"cover",type:"file",hidden:!0,accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg",onChange:function(e){return ie.apply(this,arguments)}}),Object(ve.jsxs)("div",{className:"absolute top-5 left-0 right-0 bg-gray-100 dark:bg-dark-primary",children:[Object(ve.jsx)("div",{className:"mt-5 md:mt-10 shadow bg-white dark:bg-dark-secondary ",children:Object(ve.jsxs)("div",{className:" flex flex-col items-center max-w-screen-lg md:px-10 mx-auto z-10",children:[Object(ve.jsxs)("div",{className:"relative h-60 md:h-80 w-full flex mb-6 select-none",children:[Object(ve.jsx)("img",{src:null!==(e=null===m||void 0===m?void 0:m.coverUrl)&&void 0!==e?e:Le,alt:"".concat(null===m||void 0===m?void 0:m.fullName," cover"),className:"w-full object-cover rounded-xl cursor-pointer",onClick:function(){var e;return ce([{imageUrl:null!==(e=null===m||void 0===m?void 0:m.coverUrl)&&void 0!==e?e:Le}])}}),K&&Object(ve.jsxs)("label",{htmlFor:"cover",className:"absolute right-3 bottom-3 flex items-center space-x-2 bg-white bg-opacity-95 rounded-lg md:p-2 md:px-3 p-1 px-2 text-black hover:bg-gray-200 active:bg-gray-300 active:transform active:scale-95 cursor-pointer transition-base text-sm md:text-base",children:[Object(ve.jsx)("i",{className:"bx bxs-camera md:text-base text-xl"}),Object(ve.jsx)("span",{className:"font-semibold hidden md:inline",children:"Edit Cover Photo"})]}),Object(ve.jsxs)("div",{className:"absolute md:h-44 md:w-44 h-36 w-36 rounded-full left-1/2 transform bottom-0 translate-y-5 -translate-x-1/2 border-4 border-white dark:border-dark-secondary ring-4 ring-green-400 dark:ring-green-500 cursor-pointer",children:[Object(ve.jsx)(Ee,{parentClassName:"w-full h-full",className:"filter hover:brightness-110",src:null===m||void 0===m?void 0:m.avatarUrl,userName:K?"":null===m||void 0===m?void 0:m.userName,size:"full",onClick:function(){return ce([{imageUrl:null===m||void 0===m?void 0:m.avatarUrl}])}}),K&&Object(ve.jsx)("label",{htmlFor:"avatar",children:Object(ve.jsx)(wt,{reverse:!0,className:"absolute right-0 bottom-0",iconClass:"bx bxs-camera"})})]})]}),Object(ve.jsxs)("div",{className:"w-full mx-4 border-b border-gray-400 dark:border-dark-hover pb-6",children:[Object(ve.jsxs)("div",{className:"w-full text-center font-bold text-2xl md:text-4xl md:py-2 py-1 max-row-2",children:[m.fullName," ",m.nickName&&Object(ve.jsx)("span",{className:"font-normal text-xl md:text-3xl",children:"(".concat(m.nickName,")")})]}),Object(ve.jsx)("div",{className:"md:max-w-2/3 max-w-11/12 mx-auto text-center max-row-3 text-sm md:text-base",children:m.aboutMe})]}),Object(ve.jsx)("div",{className:"flex self-end justify-end mt-1 mb-3 md:px-2 px-5 space-x-2",children:K?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)(ge,{onClick:function(){return v((function(e){return!e}))},secondary:!0,className:"flex items-center space-x-1",children:[Object(ve.jsx)("i",{className:"bx bxs-check-shield md:text-2xl text-lg"}),Object(ve.jsx)("span",{children:"Change password"})]}),Object(ve.jsxs)(ge,{onClick:function(){return N((function(e){return!e}))},secondary:!0,className:"flex items-center space-x-1",children:[Object(ve.jsx)("i",{className:"bx bxs-edit-alt md:text-2xl text-lg"}),Object(ve.jsx)("span",{children:"Edit profile"})]})]}):Object(ve.jsxs)("div",{ref:J,className:"relative flex space-x-2 space-y-2 flex-wrap justify-end items-end",children:[D,Object(ve.jsxs)(ge,{className:"flex items-center space-x-1",onClick:function(){return function(e){return se.apply(this,arguments)}(m.userName)},children:[Object(ve.jsx)("i",{className:"bx bxs-message-rounded-dots text-xl align-middle"}),Object(ve.jsx)("span",{children:"Message"})]}),Object(ve.jsx)(ge,{className:"self-stretch",secondary:!0,small:!0,onClick:function(){return C((function(e){return!e}))},children:Object(ve.jsx)("i",{className:"bx bx-dots-horizontal-rounded text-2xl align-middle"})}),y&&Object(ve.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-7 p-1 w-44 right-0 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-3 select-none z-10",children:[Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){P.isFollowing?i&&i.unfollow(r).then((function(e){le()})):i&&i.follow(r).then((function(e){le()}))},children:[Object(ve.jsx)("i",{className:"text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 "+(P.isFollowing?"bx bx-x-circle":"bx bx-check-circle")}),Object(ve.jsx)("span",{children:P.isFollowing?"Unfollow":"Follow"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){var e;U({isOpen:!0,content:"Do you want to block ".concat(null!==(e=m.fullName)&&void 0!==e?e:"this user","?"),action:me})},children:[Object(ve.jsx)("i",{className:"bx bx-block text-lg text-black dark:text-dark-txt w-7 h-7 text-center align-middle"}),Object(ve.jsx)("span",{children:"Block"})]})]})]})})]})}),Object(ve.jsxs)("div",{className:"md:max-w-4xl pt-2 px-2 pb-10 lg:px-0 mx-auto flex flex-col md:flex-row md:items-start items-center justify-between md:space-x-3",children:[Object(ve.jsx)(Qa,{className:"md:sticky top-20 left-0 space-y-2 md:space-y-3 mb-2 "+(O?"hidden md:block":""),user:m}),Object(ve.jsxs)("div",{className:"max-w-xl w-full mx-auto space-y-2 md:space-y-3",children:[O&&Object(ve.jsx)(Ja,{isOpen:O,setIsOpen:N,user:m}),K&&Object(ve.jsx)(aa,{}),null===(t=Object(Ie.a)(null===te||void 0===te?void 0:te.items))||void 0===t||null===(a=t.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===a?void 0:a.map((function(e){return Object(ve.jsx)(Na,{post:e},e.id)})),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){ae&&_({page:$.page+1})},isLoading:ne,error:re,isHasMore:ae,loadMoreContent:"Load more posts..."}),(null===te||void 0===te?void 0:te.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold",children:"Not found any posts"})]})]})]})]})},$a=a(52);var _a=a.p+"static/media/emoji-icon.21d0cbf4.svg";var en=function(e){var t=e.chatId,a=Object(s.useState)(""),n=Object(fe.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(!1),o=Object(fe.a)(i,2),l=o[0],d=o[1],u=Object(s.useRef)(),b=ka();function m(){return(m=Object(ze.a)(De.a.mark((function e(a){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r){e.next=3;break}return e.abrupt("return");case 3:return c(""),n={content:r},e.next=7,b.sendMessage(t,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(ze.a)(De.a.mark((function e(a){var n,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.files[0],(r=new FormData).append("Image",n),e.next=5,b.sendImage(t,r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Ct(l,d,u),Object(ve.jsx)("div",{children:Object(ve.jsxs)("form",{onSubmit:function(e){return function(e){return m.apply(this,arguments)}(e)},className:"flex justify-between items-center space-x-1",children:[Object(ve.jsxs)("div",{className:"relative w-full flex",children:[Object(ve.jsx)("input",{id:"imageFile",type:"file",hidden:!0,accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg",onChange:function(e){return x.apply(this,arguments)}}),Object(ve.jsx)("label",{htmlFor:"imageFile",children:Object(ve.jsx)(wt,{secondMode:!0,className:"h-9 w-9 p-2 mr-2",icon:ft})}),Object(ve.jsx)("input",{value:r,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Aa",className:"bg-gray-200 dark:bg-dark-third rounded-3xl w-full py-1 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base relative text-sm"}),Object(ve.jsxs)("div",{ref:u,className:"relative",children:[Object(ve.jsx)(wt,{secondMode:!0,className:"absolute h-9 w-9 p-2 right-1 top-0",icon:_a,onClick:function(){return d(!l)}}),Object(ve.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full  "+(l?"visible":"invisible"),children:Object(ve.jsx)(yt.a,{onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&c(r+(null===t||void 0===t?void 0:t.emoji))}})})]})]}),Object(ve.jsx)("button",{children:Object(ve.jsx)(wt,{disableAutoFocus:!0,secondMode:!0,icon:ia,className:"w-9 h-9 p-2"})})]})})};var tn=function(e){var t=e.isOpen,a=e.setIsOpen,n=e.chat,r=Object(s.useState)(!1),c=Object(fe.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(""),d=Object(fe.a)(l,2),b=d[0],m=d[1],x=Object(s.useState)(null===n||void 0===n?void 0:n.name),j=Object(fe.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(""),h=Object(fe.a)(v,2),g=h[0],O=h[1],N=Object(s.useState)(!1),w=Object(fe.a)(N,2),k=w[0],y=w[1],C=Object(s.useState)(!1),A=Object(fe.a)(C,2),I=A[0],F=A[1],U=Object(s.useState)([]),E=Object(fe.a)(U,2),R=E[0],P=E[1],M=Object(s.useState)(!1),L=Object(fe.a)(M,2),B=L[0],D=L[1],z=Object(s.useState)(null===n||void 0===n?void 0:n.participants),T=Object(fe.a)(z,2),H=T[0],q=T[1],G=ka(),W=Ca(),Y=Object(s.useState)({isOpen:!1,content:"",title:"Notification"}),V=Object(fe.a)(Y,2),Z=V[0],K=V[1],J=Object(u.c)((function(e){return e.users.currentUser})),Q=Object(u.b)(),X=Object(s.useRef)(),$=Object(s.useRef)();function _(){return(_=Object(ze.a)(De.a.mark((function e(){var t,a,r,s,c,i;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===n||void 0===n?void 0:n.participants.map((function(e){return e.userName})),a=H.map((function(e){return e.userName})),r=[],s=[],c=[],H.forEach((function(e){t.some((function(t){return t===e.userName}))||r.push(e.fullName)})),null===n||void 0===n||n.participants.forEach((function(e){a.some((function(t){return t===e.userName}))||(s.push(e.fullName),c.push(e.userName))})),!(s.length>0)){e.next=25;break}if(i="",!c.some((function(e){return e===J.userName}))){e.next=19;break}if(1!==s.length){e.next=16;break}return se(i="Do you want to leave this group?"),e.abrupt("return",Object(ve.jsx)(ve.Fragment,{}));case 16:i="Do you want to leave this group and remove ";case 17:e.next=20;break;case 19:i="Do you want to remove ";case 20:s.forEach((function(e,t){c[t]!==J.userName&&(i+="'".concat(e,"'"),t!==s.length-1&&(i+=", "))})),se(i+=" from this chat?"),e.next=27;break;case 25:return e.next=27,ee();case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(ze.a)(De.a.mark((function e(){var t,a,r,s,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===n||void 0===n?void 0:n.participants.map((function(e){return e.userName})),a=H.map((function(e){return e.userName})),r=[],s=[],a.forEach((function(e){t.includes(e)||r.push(e)})),t.forEach((function(e){a.includes(e)||s.push(e)})),c={newGroupName:f,participantUserNamesToAdd:r,participantUserNamesToRemove:s},G.updateGroupChat(null===n||void 0===n?void 0:n.id,c).then(function(){var e=Object(ze.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=3;break}return e.next=3,ae();case 3:re("Success","Update info successfully!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.some((function(e){return e===J.userName}))&&Q(S(0)),ce();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(ze.a)(De.a.mark((function e(t){var a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("Avatar",k),e.next=4,G.updateGroupAvatar(null===n||void 0===n?void 0:n.id,a);case 4:y(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){K({isOpen:!0,title:e,content:t})}function se(e){o(!0),m(e)}function ce(){o(!1),m("")}return Object(s.useEffect)((function(){F(!!(null===f||void 0===f?void 0:f.trim()))}),[f]),At(a),Ct(t,a,X),Ct(B,D,$),Oe(t),Object(s.useEffect)((function(){W.getUserList().then((function(e){var t;e&&P(null!==(t=e.items)&&void 0!==t?t:e)}))}),[]),Object(s.useEffect)((function(){q(null===n||void 0===n?void 0:n.participants),p(null===n||void 0===n?void 0:n.name)}),[n]),t?Object(ve.jsx)("div",{className:"overlay grid place-items-center px-4 py-10 z-30",style:{margin:0},children:Object(ve.jsxs)("div",{ref:X,className:"animate-swipeDown px-6 md:px-14 md:py-6 flex flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full overflow-y-auto md:overflow-visible dark:text-white "+(B?"mb-16":""),children:[Object(ve.jsx)(Ne,{title:Z.title,isOpen:Z.isOpen,content:Z.content,onClick:function(){return K({isOpen:!1})}}),Object(ve.jsx)(na,{isOpen:i,closeAction:function(){return o(!1)},title:"Are you sure?",content:b,confirmButtonTitle:"Yes",confirmButtonAction:ee}),Object(ve.jsx)("div",{className:"flex pt-6 pb-5 h-full",children:Object(ve.jsx)("h3",{className:"font-semibold text-lg md:text-2xl text-green-600 dark:text-green-400",children:"Chat info!"})}),Object(ve.jsx)("div",{className:"space-y-2 md:space-y-4",children:(null===n||void 0===n?void 0:n.type)===Bt?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"groupName",className:"font-semibold dark:text-dark-txt text-base md:text-lg",children:["Group name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",{id:"groupName",value:f,onChange:function(e){return p(e.target.value)},type:"text",className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 mb-2 dark:text-white"})]}),Object(ve.jsxs)("div",{ref:$,className:"space-y-2",children:[Object(ve.jsx)("label",{htmlFor:"search",className:"font-semibold dark:text-dark-txt text-base md:text-lg",children:"Add Members"}),Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("input",{id:"search",type:"search",onFocus:function(){return D(!0)},value:g,autoComplete:"off",onChange:function(e){return O(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 mb-2 "}),B&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-third border border-gray-400 border-opacity-50 rounded-lg w-full md:py-4 py-2 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl ",children:[Object(ve.jsx)("h4",{className:"font-semibold dark:text-gray-200 mb-2",children:"Friend list"}),R.filter((function(e){var t,a;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===g||void 0===g?void 0:g.toLowerCase()))||(null===(a=e.userName)||void 0===a?void 0:a.toLowerCase().includes(null===g||void 0===g?void 0:g.toLowerCase())))&&!H.some((function(t){return t.userName===e.userName}))})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a,n;return Object(ve.jsxs)("div",{onClick:function(){var t=Object(Ie.a)(H);t.some((function(t){return t.userName===e.userName}))||(t.push(e),q(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-hover bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(n=e.fullName)&&void 0!==n?n:Ye})]},null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:"friend"+t)}))]})})]})]}),Object(ve.jsxs)("div",{className:"space-y-2",children:[Object(ve.jsxs)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-dark-txt",children:["Members ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(ve.jsx)("span",{className:"text-sm text-gray-400",children:"(Click to remove)"})]}),Object(ve.jsx)("div",{className:"bg-white border dark:bg-dark-third dark:border-dark-third border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none",children:Object(Ie.a)(H).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var a,n;return Object(ve.jsxs)("div",{onClick:function(){var t=Object(Ie.a)(H),a=t.findIndex((function(t){return t.userName===e.userName}));a>=0&&(t.splice(a,1),q(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2 dark:hover:bg-red-500 dark:bg-dark-hover bg-gray-100 hover:bg-red-200 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300",children:[Object(ve.jsx)(Ee,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(ve.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(n=e.fullName)&&void 0!==n?n:Ye})]},null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:"friend"+t)}))})]}),Object(ve.jsxs)("div",{className:"space-y-2 mr-2 flex flex-col",children:[Object(ve.jsx)("label",{htmlFor:"avatar",className:"dark:text-dark-txt text-base md:text-lg font-semibold ",children:"Group Avatar"}),Object(ve.jsx)("input",{id:"avatar",onChange:function(e){return y(e.target.files[0])},type:"file",className:"w-full",accept:"image/png, image/jpg, image/tiff, image/tif, image/jpeg"})]})]}):Object(ve.jsxs)("div",{ref:$,className:"space-y-2",children:[Object(ve.jsxs)("div",{className:"font-bold dark:text-dark-txt",children:["Creator:"," ",Object(ve.jsx)("span",{className:"font-normal",children:null===n||void 0===n?void 0:n.creatorFullName})]}),Object(ve.jsxs)("div",{className:"font-bold dark:text-dark-txt",children:["Created at:"," ",Object(ve.jsx)("span",{className:"font-normal",children:ca(null===n||void 0===n?void 0:n.dateCreated)})]}),Object(ve.jsxs)("div",{className:"font-bold dark:text-dark-txt",children:["Total messages:"," ",Object(ve.jsx)("span",{className:"font-normal",children:null===n||void 0===n?void 0:n.totalRecords})]})]})}),Object(ve.jsx)("div",{className:"flex justify-end py-6 space-x-4",children:Object(ve.jsxs)("div",{className:"space-x-2 flex items-center",children:[Object(ve.jsx)(ge,{outline:!0,content:"Close",onClick:function(){return a(!1)}}),(null===n||void 0===n?void 0:n.type)===Bt?Object(ve.jsx)(ge,{disabled:!I,content:"Save",onClick:function(){return function(){return _.apply(this,arguments)}()}}):""]})})]})}):""};var an=function(e){var t,a,n=e.chat,r=Object(u.b)(),c=Object(d.g)(),i=Object(u.c)((function(e){return e.users.currentUser})),o=ka(),b=Object(s.useState)([]),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)(!1),p=Object(fe.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)({}),O=Object(fe.a)(g,2),w=O[0],y=O[1],C=Object(s.useState)(""),A=Object(fe.a)(C,2),S=A[0],F=A[1];function U(e){var t=Object(Ie.a)(x);t.findIndex((function(t){return t===e}))>=0?t=t.filter((function(t){return t!==e})):t.push(e),j(t)}var E=Object(s.useState)(1),R=Object(fe.a)(E,2),P=R[0],M=R[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(s.useState)(!1),n=Object(fe.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),o=Object(fe.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)(!1),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=ka(),p=Object(u.b)();return Object(s.useEffect)((function(){if(t>1&&x){c(!0),d(!1);var a={page:t};f.getById(e.id,a).then((function(e){p(N(e)),j(t<e.pageCount),c(!1)})).catch((function(e){d(e)}))}}),[t]),Object(s.useEffect)((function(){j(t<e.pageCount)}),[e]),{isLoading:r,error:l,isHasMore:x}}(n,P),B=L.appendChat,D=L.isHasMore,z=L.isLoading,T=L.error,H=Object(s.useRef)();return Object(s.useEffect)((function(){if((null===n||void 0===n?void 0:n.numOfUnreadMessages)>0&&o.readChat(null===n||void 0===n?void 0:n.id).then((function(e){r(k(null===n||void 0===n?void 0:n.id))})),(null===n||void 0===n?void 0:n.participants.length)>0){var e,t,a=null===n||void 0===n||null===(e=n.participants)||void 0===e?void 0:e.filter((function(e){return e.userName!==(null===i||void 0===i?void 0:i.userName)})).shift();if(y(null!==a&&void 0!==a?a:i),(null===n||void 0===n||null===(t=n.readByUserNames)||void 0===t?void 0:t.length)>1){var s,c,l="",d=null===n||void 0===n||null===(s=n.readByUserNames)||void 0===s||null===(c=s.filter((function(e){return e!==(null===i||void 0===i?void 0:i.userName)})))||void 0===c?void 0:c.map((function(e){var t,a;return null===(t=n.participants.filter((function(t){return t.userName===e})))||void 0===t||null===(a=t.shift())||void 0===a?void 0:a.firstName}));(null===d||void 0===d?void 0:d.length)>1?(l="Seen by "+d.filter((function(e){return e})).join(", "),F(l)):F("")}}}),[n]),Object(s.useEffect)((function(){r(N(B))}),[B]),Object(s.useEffect)((function(){(null===n||void 0===n?void 0:n.page)<2&&function(){var e;H&&(null===H||void 0===H||null===(e=H.current)||void 0===e||e.scrollIntoView())}()}),[n]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(tn,{isOpen:v,setIsOpen:h,chat:n}),Object(ve.jsxs)("div",{className:"flex flex-col w-full h-full pb-2 flex-shrink-0 min-w-0 bg-white dark:bg-dark-secondary rounded-lg text-black dark:text-white shadow max-w-350",children:[Object(ve.jsxs)("div",{className:"w-full border-b border-gray-300 dark:border-dark-third flex justify-between items-center py-1 pl-2 flex-shrink-0 overflow-hidden ",children:[Object(ve.jsxs)("div",{onClick:function(){n.type===Bt?h(!v):c.push("/profile/"+(null===w||void 0===w?void 0:w.userName))},className:"flex min-w-0 justify-start clickable cursor-pointer items-center space-x-3 p-2 transition-base rounded-lg",children:[Object(ve.jsx)(Ee,{src:""!==(null===n||void 0===n?void 0:n.groupAvatarUrl)?null===n||void 0===n?void 0:n.groupAvatarUrl:null===w||void 0===w?void 0:w.avatarUrl,size:"xs",participants:null===n||void 0===n?void 0:n.participants}),Object(ve.jsx)("span",{className:"font-semibold truncate overflow-hidden",children:(null===n||void 0===n?void 0:n.type)===Lt?null===w||void 0===w?void 0:w.fullName:null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:We})]}),Object(ve.jsx)("div",{className:"flex items-center mr-2",children:Object(ve.jsx)(wt,{iconClass:"bx bx-x-circle",secondMode:!0,colorIconClass:"text-green-500 dark:text-green-500",onClick:function(){return r(I(n.id))}})})]}),(null===n||void 0===n?void 0:n.messages)?Object(ve.jsxs)("div",{className:"flex-grow overflow-y-auto overflow-x-hidden px-4 pb-4 pt-1 space-y-1 flex flex-col min-w-0",children:[Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){P<(null===n||void 0===n?void 0:n.pageCount)&&M((function(e){return e+1}))},isLoading:z,error:T,isHasMore:D,loadMoreContent:"Load more messages..."}),!D&&Object(ve.jsx)("div",{className:"text-gray-500 text-xs text-center pb-2",children:ca(null===n||void 0===n?void 0:n.dateCreated)}),null===(a=Object(Ie.a)(null===n||void 0===n?void 0:n.messages))||void 0===a?void 0:a.sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?1:-1})).map((function(e,t){var a,r,s,c,o,d,u,b;return e.senderUserName===i.userName?Object(ve.jsxs)("div",{className:"flex-shrink-0",children:[Object(ve.jsxs)("div",{className:"flex flex-col items-end w-full flex-shrink-0",children:[x.includes(t)&&Object(ve.jsx)("span",{className:"transition-all animate-fadeIn text-xs text-gray-400 left-0 bottom-full mb-1 ml-1 space-x-2 w-60 truncate overflow-ellipsis text-right",children:null!==(r=ca(null===e||void 0===e?void 0:e.dateCreated))&&void 0!==r?r:""}),e.imageUrl?Object(ve.jsx)("img",{onClick:function(){return U(t)},className:"max-w-200 rounded-lg shadow transition-all duration-200 cursor-pointer",src:e.imageUrl,alt:"Message"}):Object(ve.jsx)("span",{onClick:function(){return U(t)},className:"text-white rounded-3xl px-3 py-2 break-word rounded-br-none cursor-pointer overflow-x-auto max-w-3/4 text-sm "+(x.includes(t)?"bg-green-600 dark:bg-green-800":"bg-gradient-to-br from-green-400 to-green-600 dark:from-green-500 dark:to-green-800 shadow-md"),children:e.content})]}),(null===n||void 0===n?void 0:n.type)===Lt&&(null===n||void 0===n||null===(s=n.messages)||void 0===s?void 0:s.length)===t+1&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"text-xs font-semibold text-right text-gray-600 dark:text-dark-txt mr-2 select-none",children:(null===n||void 0===n||null===(c=n.readByUserNames)||void 0===c?void 0:c.includes(null===w||void 0===w?void 0:w.userName))?"Seen":""})})]},null!==(a=e.id)&&void 0!==a?a:"message"+t):Object(ve.jsxs)("div",{className:"flex flex-shrink-0 items-end space-x-2",children:[Object(ve.jsx)(l.b,{to:"/profile/"+(null===n||void 0===n||null===(d=n.participants.filter((function(t){return t.userName===e.senderUserName})).shift())||void 0===d?void 0:d.userName),children:Object(ve.jsx)(Ee,{src:null===n||void 0===n||null===(u=n.participants.filter((function(t){return t.userName===e.senderUserName})).shift())||void 0===u?void 0:u.avatarUrl,size:"sm",userName:e.senderUserName})}),Object(ve.jsxs)("div",{className:"flex flex-col w-full items-start",children:[x.includes(t)&&Object(ve.jsx)("span",{className:"transition-all animate-fadeIn text-xs text-gray-400 bottom-full mb-1 ml-1 space-x-2 w-60 truncate overflow-ellipsis text-left",children:null!==(b=e.senderFullName+" - "+ca(null===e||void 0===e?void 0:e.dateCreated))&&void 0!==b?b:""}),e.imageUrl?Object(ve.jsx)("img",{onClick:function(){return U(t)},className:"max-w-200 rounded-lg shadow cursor-pointer",src:e.imageUrl,alt:"Message"}):Object(ve.jsx)("span",{className:" rounded-3xl px-3 py-2 break-word rounded-bl-none shadow-sm cursor-pointer overflow-x-auto max-w-3/4 text-sm  "+(x.includes(t)?"bg-gray-300 dark:bg-dark-third":"bg-gradient-to-br from-gray-100 to-gray-300 dark:from-gray-500 dark:to-gray-600 "),onClick:function(){return U(t)},children:e.content})]})]},null!==(o=e.id)&&void 0!==o?o:"message"+t)})),(null===n||void 0===n?void 0:n.type)===Bt&&Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"text-xs font-semibold text-right text-gray-600 dark:text-dark-txt mr-2 select-none",children:S})}),Object(ve.jsx)("div",{ref:H})]}):Object(ve.jsx)("div",{className:"flex-grow flex-center  mx-4 my-2 text-center text-sm",children:"No message"}),Object(ve.jsx)("div",{className:"px-2",children:Object(ve.jsx)(en,{chatId:null===n||void 0===n?void 0:n.id})})]})]})};var nn=function(){var e=Object(u.b)(),t=ka(),a=Object(s.useState)(null),n=Object(fe.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)([]),o=Object(fe.a)(i,2),l=o[0],d=o[1],b=Object(u.c)((function(e){return e.users.currentUser})),m=Object(u.c)((function(e){return e.chats.selectedIds})),x=Object(u.c)((function(e){return e.chats.chats}));return Object(s.useEffect)((function(){var e=x.filter((function(e){return m.includes(e.id)}));d(null!==e&&void 0!==e?e:[])}),[m,x]),Object(s.useEffect)((function(){function a(){return(a=Object(ze.a)(De.a.mark((function a(){return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.getAll().then((function(t){e(g(t.data))})).catch((function(e){console.error("Connection failed: ",e)}));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){var e=(new $a.a).withUrl("https://teeappapi.azurewebsites.net/hubs/chats",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();c(e)}),[]),Object(s.useEffect)((function(){return r&&!r.connectionStarted&&r.start().then((function(t){r.on(Ve,(function(t){var a=O(t);e(a),t.chatId&&m!==t.chatId&&e(y(t.chatId))})),r.on(Ze,(function(t){var a=v(t);e(a),t.creatorUserName===b.userName&&e(S(t.id))})),r.on(Ke,(function(t){var a=h(t);e(a)})),r.on(Je,(function(t){var a=w(t);e(a)})),r.on(Qe,(function(t){var a=C(t);e(a)})),r.on(Xe,(function(t){var a=K(t);e(a)}))})),function(){r&&r.connectionStarted&&r.stop()}}),[r]),Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("div",{className:"fixed right-2 md:right-10 bottom-1 flex space-x-2 z-20",children:l.map((function(e,t){return Object(ve.jsx)("div",{className:"md:h-112 md:w-400 h-128 max-w-xs flex-shrink-0 "+(t>0?"hidden md:inline":""),children:Object(ve.jsx)(an,{chat:e})},e.id)}))})})};var rn=function(){var e=Object(d.i)().postId,t=Object(u.c)((function(e){return e.posts.posts})),a=Object(s.useState)({reactions:[],comments:[],photos:[]}),n=Object(fe.a)(a,2),r=n[0],c=n[1],i=xt(),o=Object(u.b)(),l=Object(d.g)();return Object(s.useEffect)((function(){if(e&&t){var a,n=null===t||void 0===t||null===(a=t.items)||void 0===a?void 0:a.find((function(t){return t.id.toString()===e}));n?c(n):i.getById(e).then((function(e){c(e),o(te(e))})).catch((function(e){l.push("/NotFound")}))}}),[e,t]),Object(ve.jsx)(ve.Fragment,{children:(null===r||void 0===r?void 0:r.dateCreated)&&Object(ve.jsx)(Na,{post:r,isOpenComment:!0})})},sn=1,cn=2,on=4,ln=5,dn=6,un=7,bn=[{name:"All",type:un},{name:"Friends",type:sn},{name:"Requests",type:cn},{name:"Following",type:on},{name:"Followers",type:ln},{name:"Blocked",type:dn}];function mn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ga(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getBlocked(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(ve.jsx)(xn,{setConfirmModal:u,user:e,fetchData:function(){g({page:1})}},null===e||void 0===e?void 0:e.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more blocked friends..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You haven't blocked anyone yet"})]})}var xn=function(e){var t=e.user,a=void 0===t?{}:t,n=e.setConfirmModal,r=e.fetchData,s=Ga();function c(){s&&s.unblock(a.userName).then((function(e){r()}))}return Object(ve.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(ve.jsxs)("div",{className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(ve.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(ve.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:Object(ve.jsx)(ge,{small:!0,secondary:!0,onClick:function(){n({isOpen:!0,content:"Do you want to unblock ".concat(a.fullName,"?"),action:c})},className:"w-full",children:"Unblock"})})]})};function jn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ga(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFollowers(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(ve.jsx)(fn,{setConfirmModal:u,user:e,fetchData:function(){g({page:1})}},null===e||void 0===e?void 0:e.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more followers..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You have no followers"})]})}var fn=function(e){var t=e.user,a=void 0===t?{}:t,n=e.setConfirmModal,r=e.fetchData,s=Ga();function c(){s&&s.block(a.userName).then((function(e){r()}))}return Object(ve.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(ve.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(ve.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:Object(ve.jsx)(ge,{small:!0,secondary:!0,onClick:function(){n({isOpen:!0,content:"Do you want to block ".concat(a.fullName,"?"),action:c})},className:"w-full",children:"Block"})})]})};function pn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ga(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFollowing(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(ve.jsx)(vn,{user:e},null===e||void 0===e?void 0:e.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more following..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You aren't following anyone"})]})}var vn=function(e){var t=e.user,a=void 0===t?{}:t,n=Ga(),r=Object(s.useState)(!0),c=Object(fe.a)(r,2),i=c[0],o=c[1];function d(){n&&(i?n.unfollow(a.userName).then((function(e){o(!1)})):n.follow(a.userName).then((function(e){o(!0)})))}return Object(ve.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(ve.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]}),Object(ve.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:i?Object(ve.jsx)(ge,{small:!0,secondary:!0,onClick:d,className:"w-full",children:"Unfollow"}):Object(ve.jsx)(ge,{small:!0,onClick:d,className:"w-full",children:"Follow"})})]})};function hn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ga(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFriends(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"flex flex-col md:grid md:grid-cols-2 md:gap-10",children:null===c||void 0===c?void 0:c.items.map((function(e){var t;return Object(ve.jsx)(gn,{setConfirmModal:u,friendship:e,user:e.user,fetchData:function(){g({page:1})}},null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more friends..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsxs)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:["Not found any friends",Object(ve.jsx)("br",{})," You should make more friends"]})]})}var gn=function(e){var t=e.friendship,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,c=e.setConfirmModal,i=e.fetchData,o=Object(s.useState)(!1),d=Object(fe.a)(o,2),u=d[0],b=d[1],m=Object(s.useState)(!0),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)(a.isFollowing),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useRef)(),N=Ga();function w(){N&&N.unfriend(r.userName).then((function(e){f(!1)}))}function k(){N&&N.block(r.userName).then((function(e){i()}))}return Ct(u,b,O),Object(s.useEffect)((function(){g(a.isFollowing)}),[a]),Object(ve.jsxs)("div",{className:"flex items-center justify-between w-full space-x-2",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(r.userName),className:"w-full p-2 flex justify-start items-center space-x-2 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{src:r.avatarUrl,userName:r.userName}),Object(ve.jsxs)("div",{className:"w-full flex flex-col justify-center items-start",children:[Object(ve.jsx)("div",{className:"w-11/12 font-semibold truncate",children:r.fullName}),Object(ve.jsxs)("div",{className:"text-xs dark:text-dark-txt text-gray-500",children:["Your friend since ",sa()(a.respondedDate).format("LL")]})]})]}),Object(ve.jsxs)("div",{ref:O,className:"relative",children:[Object(ve.jsx)(wt,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){b(!u)}}),u&&Object(ve.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-5 p-1 w-48 right-0 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){N&&(h?N.unfollow(r.userName).then((function(e){g(!1)})):N.follow(r.userName).then((function(e){g(!0)}))),b(!1)},children:[Object(ve.jsx)("i",{className:"bx text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2 "+(h?"bx-x-circle":"bx-check-circle")}),Object(ve.jsx)("span",{className:"text-sm",children:h?"Unfollow":"Follow"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){N&&(j?c({isOpen:!0,content:"Do you want to unfriend ".concat(r.fullName,"?"),action:w}):N.addFriend(r.userName).then((function(e){f(!0)})),b(!1))},children:[Object(ve.jsx)("i",{className:"bx text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2 "+(j?"bx-user-x":"bx-user-plus")}),Object(ve.jsx)("span",{className:"text-sm",children:j?"Unfriend":"Add friend"})]}),Object(ve.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-1 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){b(!1),c({isOpen:!0,content:"Do you want to block ".concat(r.fullName,"?"),action:k})},children:[Object(ve.jsx)("i",{className:"bx bx-block text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),Object(ve.jsx)("span",{className:"text-sm",children:"Block"})]})]})]})]})};function On(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ga(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getFriendRequests(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){var t;return Object(ve.jsx)(Nn,{setConfirmModal:u,friendship:e,user:e.user,fetchData:function(){g({page:1})}},null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more friend requests..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"You have no friend requests"})]})}var Nn=function(e){var t=e.friendship,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,c=e.setConfirmModal,i=e.fetchData,o=Ga(),d=Object(s.useState)(!1),u=Object(fe.a)(d,2),b=u[0],m=u[1];function x(){o&&o.unfriend(r.userName).then((function(e){i()}))}return Object(ve.jsxs)("div",{className:"flex-center flex-col w-full space-y-1",children:[Object(ve.jsxs)(l.b,{to:"/profile/".concat(r.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{size:"xl",src:r.avatarUrl,userName:r.userName}),Object(ve.jsxs)("div",{className:"w-full flex flex-col justify-center items-start text-center",children:[Object(ve.jsx)("div",{className:"max-w-full font-semibold truncate text-center w-full",children:r.fullName}),Object(ve.jsx)("div",{className:"text-xs dark:text-dark-txt text-gray-500 text-center w-full",children:ca(a.requestedDate)})]})]}),Object(ve.jsx)("div",{className:"flex flex-col space-y-1 w-full",children:b?Object(ve.jsx)("span",{className:"font-semibold text-center align-middle w-full text-green-600 dark:text-green-400 select-none",children:"Accepted"}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(ge,{small:!0,onClick:function(){o&&o.accept(r.userName).then((function(e){m(!0)}))},className:"w-full",children:"Accept"}),Object(ve.jsx)(ge,{small:!0,secondary:!0,onClick:function(){c({isOpen:!0,content:"Do you want to decline friend request from ".concat(r.fullName,"?"),action:x})},className:"w-full",children:"Decline"})]})})]})};function wn(e){var t=e.keyword,a=Object(s.useState)({items:[]}),r=Object(fe.a)(a,2),c=r[0],i=r[1],o=Object(s.useState)({}),l=Object(fe.a)(o,2),d=l[0],u=l[1],b=Ca(),m=Object(s.useState)(!1),x=Object(fe.a)(m,2),j=x[0],f=x[1],p=Object(s.useState)({page:1}),v=Object(fe.a)(p,2),h=v[0],g=v[1],O=Object(s.useState)(""),N=Object(fe.a)(O,2),w=N[0],k=N[1],y=Object(s.useState)(!0),C=Object(fe.a)(y,2),A=C[0],S=C[1];return Object(s.useEffect)((function(){g(Object(n.a)(Object(n.a)({},h),{},{page:1,keyword:t}))}),[t]),Object(s.useEffect)((function(){(A&&h||1===h.page)&&(f(!0),k(!1),b.getUserList(h).then((function(e){h.page>1?i(Object(n.a)(Object(n.a)({},e),{},{items:c.items.concat(e.items)})):i(e),S(h.page<e.pageCount),f(!1)})).catch((function(e){k(e)})))}),[h]),Object(ve.jsxs)(ve.Fragment,{children:[(null===d||void 0===d?void 0:d.isOpen)&&Object(ve.jsx)(na,{isOpen:d.isOpen,closeAction:function(){return u({isOpen:!1})},title:"Are you sure?",content:d.content,confirmButtonTitle:"Yes",confirmButtonAction:d.action}),Object(ve.jsx)("div",{className:"grid md:grid-cols-5 grid-cols-2 gap-3",children:null===c||void 0===c?void 0:c.items.map((function(e){return Object(ve.jsx)(kn,{user:e},null===e||void 0===e?void 0:e.id)}))}),Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300 mt-4",onClick:function(){A&&g(Object(n.a)(Object(n.a)({},h),{},{page:h.page+1}))},isLoading:j,error:w,isHasMore:A,loadMoreContent:"Load more users..."}),(null===c||void 0===c?void 0:c.totalRecords)<=0&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold mt-4 text-sm md:text-base",children:"Not found any users"})]})}var kn=function(e){var t=e.user,a=void 0===t?{}:t;return Object(ve.jsx)("div",{className:"flex-center flex-col w-full space-y-1",children:Object(ve.jsxs)(l.b,{to:"/profile/".concat(a.userName),className:"w-full p-3 flex-center flex-col space-y-3 rounded-lg cursor-pointer select-none transition-base hover:bg-gray-100 dark:hover:bg-dark-third",children:[Object(ve.jsx)(Ee,{size:"xl",src:a.avatarUrl,userName:a.userName}),Object(ve.jsx)("div",{className:"w-full font-semibold truncate text-center",children:a.fullName})]})})};var yn=function(){var e=Object(s.useState)(""),t=Object(fe.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(sn),c=Object(fe.a)(r,2),i=c[0],o=c[1];return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)("div",{className:"w-full max-w-screen-lg mx-auto rounded-xl bg-white dark:bg-dark-secondary px-5 py-4 pb-6 flex flex-col space-y-4",children:[Object(ve.jsxs)("div",{className:"flex justify-between items-center",children:[Object(ve.jsx)("span",{className:"font-bold md:text-2xl text-xl",children:"Friends"}),Object(ve.jsxs)("div",{className:"relative",children:[Object(ve.jsx)("input",{type:"search",className:"bg-gray-100 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base text-sm md:text-base",placeholder:"Search friends!",value:a,onChange:function(e){return n(e.target.value)}}),Object(ve.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]})]}),Object(ve.jsx)("div",{className:"flex overflow-x-auto w-full justify-start items-center flex-shrink-0",children:bn.map((function(e){return Object(ve.jsx)("span",{onClick:function(){return o(e.type)},className:"text-sm md:text-base font-semibold px-4 py-4 cursor-pointer select-none transition-base border-b-4  "+(e.type===i?"text-green-600 dark:text-green-400 border-green-500":"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-hover dark:active:bg-dark-third rounded-lg border-transparent active:transform active:scale-95"),children:e.name},"Friend option "+e.name)}))}),Object(ve.jsxs)("div",{className:"pt-2",children:[i===sn&&Object(ve.jsx)(hn,{keyword:a}),i===cn&&Object(ve.jsx)(On,{keyword:a}),i===dn&&Object(ve.jsx)(mn,{keyword:a}),i===ln&&Object(ve.jsx)(jn,{keyword:a}),i===on&&Object(ve.jsx)(pn,{keyword:a}),i===un&&Object(ve.jsx)(wn,{keyword:a})]})]})})};var Cn=function(){var e,t,a=Object(d.g)(),n=Object(d.i)().keyword,r=Object(s.useState)(""),c=Object(fe.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)({page:-1}),b=Object(fe.a)(l,2),m=b[0],x=b[1],j=function(e){var t=Object(s.useState)(!1),a=Object(fe.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(fe.a)(c,2),o=i[0],l=i[1],d=Object(u.c)((function(e){return e.posts.posts})),b=Object(s.useState)(!0),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=xt(),p=Object(u.b)();return Object(s.useEffect)((function(){-1===e.page&&p(ee({items:[]})),(x&&e||1===e.page)&&-1!==e.page&&(r(!0),l(!1),f.getAll(e).then((function(t){e.page>1?p(de(t)):p(ee(t)),j(e.page<t.pageCount),r(!1)})).catch((function(e){l(e)})))}),[e]),{posts:d,isLoading:n,error:o,isHasMore:x}}(m),f=j.posts,p=j.isHasMore,v=j.isLoading,h=j.error;return Object(s.useEffect)((function(){x(n?{keyword:n,page:1}:{keyword:n,page:-1})}),[n]),Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a.push("/search/"+i)}(e)},className:"sticky top-16 md:hidden mb-4 z-20",children:[Object(ve.jsx)("input",{type:"search",className:"bg-gray-200 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base w-full",placeholder:"Search TeeApp!",value:i,onChange:function(e){return o(e.target.value)}}),Object(ve.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]}),Object(ve.jsx)("div",{className:"w-full flex flex-cols items-start justify-between animate-fadeIn space-x-2",children:Object(ve.jsxs)("div",{className:"space-y-2 md:space-y-3 lg:min-w-600 md:min-w-500 w-full flex flex-col items-center",children:[null===(e=Object(Ie.a)(null===f||void 0===f?void 0:f.items))||void 0===e||null===(t=e.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===t?void 0:t.map((function(e){return Object(ve.jsx)(Na,{post:e},e.id)})),-1!==m.page&&Object(ve.jsx)(Me,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){p&&x({keyword:n,page:m.page+1})},isLoading:v,error:h,isHasMore:p,loadMoreContent:"Load more posts..."}),-1===m.page&&Object(ve.jsx)("div",{className:"text-center py-3 font-semibold",children:"Please enter keywords to search"}),(null===f||void 0===f?void 0:f.totalRecords)<=0&&Object(ve.jsxs)("div",{className:"text-center py-3 font-semibold",children:['No posts found for: "',n,'"']})]})})]})};var An=function(e){var t=Object(u.c)((function(e){return e.app.isLoading})),a=Object(u.c)((function(e){return e.app.popup})),n=Object(u.b)(),r=Object(s.useState)(null),c=Object(fe.a)(r,2),i=c[0],o=c[1];return Object(s.useEffect)((function(){var e=(new $a.a).withUrl("https://teeappapi.azurewebsites.net/hubs/app",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();o(e)}),[]),Object(s.useEffect)((function(){return i&&!i.connectionStarted&&i.start().then((function(e){i.on(it,(function(e){n(D(e))})),i.on($e,(function(e){n(be())})),i.on(_e,(function(e){n(ae(e))})),i.on(et,(function(e){n(ne(e))})),i.on(rt,(function(e){n(re(e))})),i.on(st,(function(e){n(se(e))})),i.on(ct,(function(e,t){n(ce({postId:e,reactionId:t}))})),i.on(tt,(function(e){n(ie(e))})),i.on(at,(function(e){n(oe(e))})),i.on(nt,(function(e,t){n(le({postId:e,commentId:t}))}))})),function(){i&&i.connectionStarted&&i.stop()}}),[i]),Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsxs)(l.a,{basename:"/TeeApp",children:[t&&Object(ve.jsx)(he,{isOpen:t,className:"z-50"}),a.isOpen&&Object(ve.jsx)(Ne,{title:a.title,isOpen:a.isOpen,content:a.content,onClick:function(){n(L({isOpen:!1}))}}),Object(ve.jsx)(nn,{}),Object(ve.jsx)(Ha,{className:"fixed top-0 w-screen"}),Object(ve.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-dark-primary dark:text-white min-h-screen pt-16 pb-10",children:Object(ve.jsx)("div",{className:"w-full md:max-w-screen-xl mx-auto pt-2 md:pt-4",children:Object(ve.jsxs)(d.d,{children:[Object(ve.jsx)(d.b,{path:"/search/:keyword?",component:Cn}),Object(ve.jsx)(d.b,{exact:!0,path:"/Forbid",component:ke}),Object(ve.jsx)(d.b,{exact:!0,path:"/ServerError",component:Se}),Object(ve.jsx)(d.b,{exact:!0,path:"/friends",component:yn}),Object(ve.jsx)(d.b,{exact:!0,path:"/profile/:userName",component:Xa}),Object(ve.jsx)(d.b,{exact:!0,path:"/posts/:postId",component:rn}),Object(ve.jsx)(d.b,{exact:!0,path:"/",component:Sa}),Object(ve.jsx)(d.b,{path:"*",component:Ce})]})})})]})})},Sn=a.p+"static/media/login-page.0d15c2c6.svg";var In=function(){var e=Object(s.useState)(""),t=Object(fe.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(fe.a)(r,2),i=c[0],o=c[1],d=Object(s.useState)(""),u=Object(fe.a)(d,2),b=u[0],m=u[1],x=Object(s.useState)(!1),j=Object(fe.a)(x,2),f=j[0],p=j[1],v=Object(s.useState)(!1),h=Object(fe.a)(v,2),g=h[0],O=h[1],N=Da();function w(){return(w=Object(ze.a)(De.a.mark((function e(t){var n;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),n={username:a,password:b},o(""),e.next=6,N.login(n).then((function(e){window.localStorage.setItem("token",e),window.location.href="/TeeApp/"})).catch((function(e){o("string"===typeof e?e:"Oops, something went wrong! Please contact administrator.")}));case 6:O(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){p(!(!a||!b))}),[a,b]),Object(ve.jsxs)(ve.Fragment,{children:[g&&Object(ve.jsx)(he,{}),Object(ve.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto",children:[Object(ve.jsx)("img",{src:Sn,alt:"login",className:"lg:block hidden"}),Object(ve.jsxs)("form",{onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)},className:"container rounded-2xl flex flex-col md:max-w-450",children:[Object(ve.jsx)("img",{src:pe,alt:"login",className:"h-20 w-20 mx-auto mb-3"}),Object(ve.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Login to TeeApp!"}),i&&Object(ve.jsx)("span",{className:"bg-red-500 rounded-md text-white text-lg mb-2 py-2 text-center",children:null!==i&&void 0!==i?i:"Username or password is incorrect"}),Object(ve.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(ve.jsx)("label",{htmlFor:"username",className:"text-lg font-semibold px-1",children:"Username or email address"}),Object(ve.jsx)(Ka,{value:a,onChange:function(e){return n(e.target.value)},id:"username",type:"text"})]}),Object(ve.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(ve.jsx)("label",{htmlFor:"password",className:"text-lg font-semibold px-1",children:"Password"}),Object(ve.jsx)(Ka,{value:b,onChange:function(e){return m(e.target.value)},type:"password",id:"password"})]}),Object(ve.jsx)(ge,{disabled:!f,content:"Login",className:"mb-4 mt-2 font-bold"}),Object(ve.jsxs)("div",{className:"text-center",children:["Not a member?"," ",Object(ve.jsx)(l.b,{to:"/register",className:"text-green-600 dark:text-green-400 font-bold",children:"Sign up now"})]})]})]})]})};var Fn=function(){var e,t,a,r,c,i,o,u,b=Object(s.useState)(!1),m=Object(fe.a)(b,2),x=m[0],j=m[1],f=Object(s.useState)(!1),p=Object(fe.a)(f,2),v=p[0],h=p[1],g=Object(s.useState)(!0),O=Object(fe.a)(g,2),N=O[0],w=O[1],k=Object(s.useState)({isOpen:!1,content:"",title:"Notification"}),y=Object(fe.a)(k,2),C=y[0],A=y[1],S=(Object(d.g)(),Da()),I="bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-80 dark:focus:ring-opacity-80 outline-none transition-base",F=Va.b().shape({firstName:Va.c().required("First Name is required"),lastName:Va.c().required("Last Name is required"),dateOfBirth:Va.a().required("Date of Birth is required").test("checkAge","Must be smaller than today",(function(e){return e<new Date})),userName:Va.c().required("User Name is required").min(6,"Username must be 6-20 characters").max(20,"Username must be 6-20 characters").test("checkUsername","Username does not contain special characters",(function(e){return Un(e,"^[a-zA-Z0-9!@#$%^&*)(+=._-]{6,}$")})).test("existsUsername","Username is already taken",(function(e){return!N})),email:Va.c().required("Email is required").test("checkEmail","Email is invalid",(function(e){return Un(e,/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)})),password:Va.c().required("Password is required").test("checkPassword","Password must be at least 8 characters with an uppercase letter and a number",(function(e){return Un(e,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$!%*?&]{8,}$")})),confirmPassword:Va.c().required("Confirm Password is required").test("ConfirmPasswordMatch","Password and Confirmation Password must match",(function(e){return e===z.password}))}),U=Object(Ya.d)({resolver:Object(Wa.a)(F),defaultValues:{}}),E=U.register,R=U.handleSubmit,P=U.control,M=U.setError,L=U.clearErrors,B=U.reset,D=U.formState.errors,z=Object(Ya.e)({control:P});Object(s.useEffect)((function(){S.checkUserNameExists(z.userName).then((function(e){e.isExists?(M("userName",{type:"required",message:"Username '".concat(z.userName,"' is already taken")},{shouldFocus:!0}),w(!0)):(L("userName"),w(!1))}))}),[z.userName]),Object(s.useEffect)((function(){!function(){var e,t,a;(null===(e=z.firstName)||void 0===e?void 0:e.trim())&&(null===(t=z.lastName)||void 0===t?void 0:t.trim())&&(null===(a=z.userName)||void 0===a?void 0:a.trim())&&z.email&&z.gender&&z.dateOfBirth&&z.password&&z.confirmPassword?j(!0):j(!1)}()}),[z]);var T=function(){var e=Object(ze.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),t.dateOfBirth=new Date(t.dateOfBirth).toDateInputValue(),e.next=4,S.register(t).then((function(e){H("Success",Object(ve.jsxs)("span",{children:['"Create account successfully! Please'," ",Object(ve.jsx)(l.b,{className:"font-bold text-green-600",to:"/login",children:"log in"}),'!"']})),B({})})).catch((function(e){h(!1),H("Notification",(null===e||void 0===e?void 0:e.errors)?En(null===e||void 0===e?void 0:e.errors):"")}));case 4:h(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(e,t){A({isOpen:!0,title:e,content:t})}return Object(ve.jsxs)(ve.Fragment,{children:[v&&Object(ve.jsx)(he,{}),C.isOpen&&Object(ve.jsx)(Ne,{title:C.title,isOpen:C.isOpen,content:C.content,onClick:function(){A({isOpen:!1})}}),Object(ve.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto pt-10 pb-20 md:py-0",children:[Object(ve.jsx)("img",{src:Sn,alt:"login",className:"lg:block hidden"}),Object(ve.jsxs)("form",{onSubmit:R(T),className:"container rounded-2xl flex flex-col md:max-w-500",children:[Object(ve.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Sign up to TeeApp!"}),Object(ve.jsxs)("div",{className:"mb-3 grid md:grid-cols-4 md:col-span-5 place-items-start ",children:[Object(ve.jsxs)("div",{className:"col-span-2 space-y-2 md:mr-2 w-full",children:[Object(ve.jsxs)("label",{htmlFor:"fistName",className:"text-lg font-semibold ",children:["First Name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({},E("firstName")),{},{type:"text",className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(e=D.firstName)||void 0===e?void 0:e.message})]}),Object(ve.jsxs)("div",{className:"col-span-2 space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(ve.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold ",children:["Last Name ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({},E("lastName")),{},{type:"text",className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(t=D.lastName)||void 0===t?void 0:t.message})]})]}),Object(ve.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(ve.jsxs)("label",{htmlFor:"userName",className:"text-lg font-semibold ",children:["Username ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({},E("userName")),{},{type:"text",className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(a=D.userName)||void 0===a?void 0:a.message})]}),Object(ve.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(ve.jsxs)("label",{htmlFor:"email",className:"text-lg font-semibold ",children:["Email ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({},E("email")),{},{type:"text",className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(r=D.email)||void 0===r?void 0:r.message})]}),Object(ve.jsxs)("div",{className:"mb-3 grid grid-cols-2 place-items-start ",children:[Object(ve.jsxs)("div",{className:"col-span-2 md:col-span-1 space-y-2 w-full",children:[Object(ve.jsxs)("label",{htmlFor:"gender",className:"text-lg font-semibold ",children:["Gender ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsxs)("div",{className:"flex justify-evenly items-center text-center space-x-1 px-5 select-none relative h-full",children:[Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(z.gender===qt.MALE.toString()?"bg-green-500 text-white":""),htmlFor:"male",children:[Object(ve.jsx)("i",{className:"bx bx-male-sign pt-1 text-lg"}),Object(ve.jsx)("span",{children:"Male"})]}),Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-1 transition-base space-y-1 "+(z.gender===qt.FEMALE.toString()?"bg-green-500 text-white":""),htmlFor:"female",children:[Object(ve.jsx)("i",{className:"bx bx-female-sign pt-1 text-lg"}),Object(ve.jsx)("span",{children:"Female"})]}),Object(ve.jsxs)("label",{className:"w-16 flex flex-col py-1 text-sm cursor-pointer z-20 rounded-lg px-3 transition-base space-y-1 "+(z.gender===qt.OTHER.toString()?"bg-green-500 text-white":""),htmlFor:"other",children:[Object(ve.jsx)("span",{className:"text-lg",children:"\u26a5"}),Object(ve.jsx)("span",{children:"Other"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},E("gender")),{},{id:"male",name:"gender",type:"radio",value:qt.MALE})),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},E("gender")),{},{id:"female",name:"gender",type:"radio",value:qt.FEMALE})),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({hidden:!0},E("gender")),{},{id:"other",name:"gender",type:"radio",value:qt.OTHER}))]}),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(c=D.gender)||void 0===c?void 0:c.message})]}),Object(ve.jsxs)("div",{className:"col-span-2 md:col-span-1 flex flex-col space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(ve.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold",children:["Date of Birth ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({},E("dateOfBirth")),{},{type:"date",className:I+" w-full"})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(i=D.dateOfBirth)||void 0===i?void 0:i.message})]})]}),Object(ve.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(ve.jsxs)("label",{htmlFor:"password",className:"text-lg font-semibold ",children:["Password ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},E("password")),{},{className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(o=D.password)||void 0===o?void 0:o.message})]}),Object(ve.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(ve.jsxs)("label",{htmlFor:"confirmPassword",className:"text-lg font-semibold ",children:["Confirm Password ",Object(ve.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(ve.jsx)("input",Object(n.a)(Object(n.a)({type:"password"},E("confirmPassword")),{},{className:I})),Object(ve.jsx)("div",{className:"text-red-500 text-sm",children:null===(u=D.confirmPassword)||void 0===u?void 0:u.message})]}),Object(ve.jsx)(ge,{disabled:!x,content:"Sign Up",className:"mb-4 mt-2 font-bold"}),Object(ve.jsxs)("div",{className:"text-center",children:["Already a member?"," ",Object(ve.jsx)(l.b,{to:"/login",className:"text-green-600 dark:text-green-400 font-bold",children:"Log in"})]})]})]})]})};function Un(e,t){if(e&&t)return new RegExp(t).test(e)}function En(e){for(var t="",a=0,n=Object.values(e);a<n.length;a++){var r=n[a];t+="".concat(r.toString(),", ")}return t=t.substring(0,t.length-2)}Date.prototype.toDateInputValue=function(){var e,t=new Date(this);return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),null===(e=t.toJSON())||void 0===e?void 0:e.slice(0,10)};a(249),a(250),a(251);var Rn=["component"];function Pn(e){var t=e.component,a=Object(r.a)(e,Rn),s=!!window.localStorage.getItem("token");return Object(ve.jsx)(d.b,Object(n.a)(Object(n.a)({},a),{},{render:function(e){return!0===s?Object(ve.jsx)(t,Object(n.a)({},e)):Object(ve.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}o.a.render(Object(ve.jsx)(c.a.StrictMode,{children:Object(ve.jsx)(u.a,{store:je,children:Object(ve.jsx)(l.a,{basename:"/TeeApp",children:Object(ve.jsxs)(d.d,{children:[Object(ve.jsx)(d.b,{exact:!0,path:"/login",component:In}),Object(ve.jsx)(d.b,{exact:!0,path:"/register",component:Fn}),Object(ve.jsx)(Pn,{path:"*",component:An})]})})})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.3eaa76f2.chunk.js.map