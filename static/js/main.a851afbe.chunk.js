(this["webpackJsonptee-app"]=this["webpackJsonptee-app"]||[]).push([[0],{249:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(104),s=n(1),c=n.n(s),o=n(48),i=n.n(o),l=n(10),d=n(15),u=n(8),b=n(17),m=n(23),f=Object(b.b)({name:"chats",initialState:[],reducers:{addChat:function(e,t){e.some((function(e){return e.id===t.payload.id}))||e.push(t.payload)},editChat:function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.id}));r>=0?(e[r].name=n.name,e[r].participants=n.participants):e.push(n)},editGroupAvatar:function(e,t){var n,r=t.payload.chatId,a=e.findIndex((function(e){return e.id===r}));a>=0&&(e[a].groupAvatarUrl=null===(n=t.payload)||void 0===n?void 0:n.groupAvatarUrl)},addReadByUserName:function(e,t){var n=t.payload,r=n.chatId,a=n.readByUserName,s=e.findIndex((function(e){return e.id===r}));s>=0&&(e[s].readByUserNames.includes(a)||e[s].readByUserNames.push(a))},appendMessageToChat:function(e,t){var n=t.payload,r=null===n||void 0===n?void 0:n.messages,a=e.findIndex((function(e){return e.id===n.id}));a>=0&&(e[a].totalRecords=n.totalRecords,e[a].limit=n.limit,e[a].page=n.page,e[a].pageCount=n.pageCount,n.keyword?e[a].messages=r:e[a].messages=e[a].messages.concat(r))},refreshChats:function(e,t){var n;return null!==(n=t.payload)&&void 0!==n?n:[]},addMessage:function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.chatId}));r>=0&&(e[r].messages.push(null===n||void 0===n?void 0:n.message),e[r].readByUserNames=[null===n||void 0===n?void 0:n.SenderUserName])},addNotification:function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));r>=0&&(e[r].numOfUnreadMessages+=1)},readChat:function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));r>=0&&(e[r].numOfUnreadMessages=0)}}}),j=Object(b.b)({name:"selectedIds",initialState:[],reducers:{addSelectedId:function(e,t){if(!e.includes(t.payload)&&e.length>3)return e.shift(),e.push(t.payload),e}}}),x=Object(m.b)({chats:f.reducer,selectedIds:j.reducer}),v=f.actions,p=v.addChat,h=v.editChat,g=v.refreshChats,O=v.addMessage,k=(v.appendMessageToChat,v.editGroupAvatar),w=(v.readChat,v.addNotification),N=v.addReadByUserName,y=j.actions.addSelectedId,C=x,I=Object(b.b)({name:"isLoading",initialState:!1,reducers:{setIsLoading:function(e,t){return t.payload}}}),S=Object(b.b)({name:"popup",initialState:{isOpen:!1,content:"",title:"Notification"},reducers:{setPopup:function(e,t){return t.payload}}}),E=Object(b.b)({name:"notifications",initialState:{items:[]},reducers:{addNotification:function(e,t){var n;null===e||void 0===e||null===(n=e.items)||void 0===n||n.push(t.payload)},loadNotification:function(e,t){if(t.payload.page>e.page){var n=t.payload;e.totalRecords=n.totalRecords,e.limit=n.limit,e.page=n.page,e.pageCount=n.pageCount,e.items=e.items.concat(n.items)}},readAllNotification:function(e,t){var n,r;null===e||void 0===e||null===(n=e.items)||void 0===n||null===(r=n.filter((function(e){return!e.isRead})))||void 0===r||r.forEach((function(e){return e.isRead=!0}))},readNotificationById:function(e,t){var n,r=t.payload,a=null===(n=e.items)||void 0===n?void 0:n.findIndex((function(e){return e.id===r}));a>=0&&(e.items[a].isRead=!0)},refreshNotification:function(e,t){return t.payload}}}),U=Object(m.b)({isLoading:I.reducer,popup:S.reducer,notifications:E.reducer}),L=I.actions.setIsLoading,R=S.actions.setPopup,A=E.actions,F=A.addNotification,P=A.refreshNotification,M=A.readAllNotification,z=A.readNotificationById,B=A.loadNotification,D=U,T=Object(b.b)({name:"currentUser",initialState:{},reducers:{setCurrentUser:function(e,t){return t.payload}}}),Y=Object(b.b)({name:"onlineUserNameList",initialState:[],reducers:{updateOnlineUserNameList:function(e,t){return t.payload}}}),q=Object(m.b)({currentUser:T.reducer,onlineUserNameList:Y.reducer}),H=T.actions.setCurrentUser,G=Y.actions.updateOnlineUserNameList,W=q,V=Object(b.b)({name:"newPostTotal",initialState:0,reducers:{addNewPost:function(e){return e+1},resetNewPost:function(){return 0}}}),K=Object(b.b)({name:"posts",initialState:{items:[]},reducers:{refreshPost:function(e,t){return t.payload},addPost:function(e,t){var n,r=t.payload;e.items.some((function(e){return e.id===r.id}))||(null===e||void 0===e||null===(n=e.items)||void 0===n||n.push(r))},updatePost:function(e,t){var n,r=t.payload,a=null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n.findIndex((function(e){return e.id===r.id}));a>=0?(e.items[a].content=r.content,e.items[a].privacy=r.privacy):e.push(r)},deletePost:function(e,t){var n,r=null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.payload}));r>=0&&e.items.splice(r,1)},loadPost:function(e,t){if(t.payload.page>e.page){var n=t.payload;e.totalRecords=n.totalRecords,e.limit=n.limit,e.page=n.page,e.pageCount=n.pageCount,e.items=e.items.concat(n.items)}},addReaction:function(e,t){var n=t.payload.postId,r=t.payload.reaction;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));s>=0&&e.items[s].reactions.push(r)}},updateReaction:function(e,t){var n=t.payload.postId,r=t.payload.reaction;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));if(s>=0){var c,o=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===r.id}));o>=0&&(e.items[s].reactions[o].type=r.type)}}},deleteReaction:function(e,t){var n=t.payload.postId,r=t.payload.reactionId;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));if(s>=0){var c,o=null===e||void 0===e||null===(c=e.items[s].reactions)||void 0===c?void 0:c.findIndex((function(e){return e.id===r}));if(o>=0)return e.items[s].reactions.splice(o,1),e}}},addComment:function(e,t){var n=t.payload.postId,r=t.payload.comment;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));s>=0&&e.items[s].comments.push(r)}},updateComment:function(e,t){var n=t.payload.postId,r=t.payload.comment;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));if(s>=0){var c,o=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===r.id}));o>=0&&(e.items[s].comments[o].content=r.content)}}},deleteComment:function(e,t){var n=t.payload.postId,r=t.payload.commentId;if(n&&r){var a,s=null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.findIndex((function(e){return e.id===n}));if(s>=0){var c,o=null===e||void 0===e||null===(c=e.items[s].comments)||void 0===c?void 0:c.findIndex((function(e){return e.id===r}));if(o>=0)return e.items[s].comments.splice(o,1),e}}}}}),_=Object(m.b)({posts:K.reducer,newPostTotal:V.reducer}),Z=K.actions,$=Z.refreshPost,J=(Z.addPost,Z.updatePost),Q=Z.deletePost,X=Z.addReaction,ee=Z.updateReaction,te=Z.deleteReaction,ne=Z.addComment,re=Z.updateComment,ae=Z.deleteComment,se=Z.loadPost,ce=V.actions,oe=ce.addNewPost,ie=ce.resetNewPost,le={chats:C,app:D,users:W,posts:_},de=Object(b.a)({reducer:le}),ue=n(3),be=n.p+"static/media/logo-shadow.3faacd46.png",me=n(0),fe=function(e){var t,n=e.className,r=e.isOpen,a=void 0===r||r,c="h-3 w-3 bg-gradient-to-br from-green-300 to-green-600 shadow-md rounded-full",o=Object(s.useState)(!1),i=Object(ue.a)(o,2),l=i[0],d=i[1];return Object(s.useEffect)((function(){return function(){d(!0)}}),[]),a&&Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"z-50 animate-fadeIn flex flex-col h-screen w-screen justify-center items-center fixed transition-base bg-white dark:bg-dark-secondary"+(l?" hidden":"")+(null!==(t=" "+n)&&void 0!==t?t:""),children:[Object(me.jsx)("img",{src:be,className:"w-20 h-20 mb-10",alt:"logo"}),Object(me.jsxs)("div",{className:"flex-center transition-base",children:[Object(me.jsx)("div",{className:"".concat(c," mr-3 animate-bounce")}),Object(me.jsx)("div",{className:"".concat(c," mr-3 animate-bounce200")}),Object(me.jsx)("div",{className:"".concat(c," animate-bounce400")})]})]})})};var je=function(e){var t=e.outline,n=void 0!==t&&t,r=e.content,a=e.className,s=e.onClick,c=e.onBlur,o=e.disabled,i=e.children;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("button",{disabled:o,onClick:s,onBlur:c,className:"px-4 py-2 rounded-lg transition-base text-sm md:text-base duration-200 disabled:opacity-50 outline-none z-0 select-none min-w-70 font-semibold "+(n?"ring-inset ring-1 ring-green-500 bg-white dark:bg-transparent dark:hover:bg-green-500 text-green-500 hover:text-white hover:bg-green-400 active:bg-green-500":"bg-gradient-to-br from-green-400 to-green-600 text-white active:from-green-500 active:to-green-600  ")+" "+(null!==a&&void 0!==a?a:"")+" "+(o?"cursor-default":"active:scale-95 active:transform"),children:r||i})})};var xe=function(e){var t=e.title,n=void 0===t?"Notification":t,r=e.isOpen,a=e.content,s=void 0===a?"Oops! Something went wrong!":a,c=e.onClick;return r&&Object(me.jsx)("div",{className:"px-4 flex-center overlay",style:{margin:0},children:Object(me.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary py-8 px-8 w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-6 shadow-2xl border border-gray-300 dark:border-dark-third",children:[Object(me.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:n}),Object(me.jsx)("span",{className:"break-words dark:text-dark-txt",children:s}),Object(me.jsx)("div",{className:"w-full flex justify-end",children:Object(me.jsx)(je,{content:"Close",onClick:c})})]})})},ve=n.p+"static/media/forbid.e276990e.svg";var pe=function(e){var t=e.message;return Object(me.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(me.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:ve,alt:"Error"}),Object(me.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"You don't have permission to access this resources"}),Object(me.jsx)(l.b,{to:"/",children:Object(me.jsx)(je,{content:"Return home page"})})]})},he=n.p+"static/media/not-found.efbefd9e.svg";var ge=function(e){var t=e.message;return Object(me.jsxs)("div",{className:"fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(me.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:he,alt:"Error"}),Object(me.jsx)("span",{className:" font-bold text-xl md:text-3xl text-center",children:null!==t&&void 0!==t?t:"Not found resources"}),Object(me.jsx)(l.b,{to:"/",children:Object(me.jsx)(je,{content:"Return home page"})})]})},Oe=n.p+"static/media/server-error.0bee07d2.svg";var ke=function(e){var t=e.message;return Object(me.jsxs)("div",{className:"z-10 fixed inset-0 h-screen animate-fadeIn w-screen flex flex-col justify-center items-center space-y-8 px-2",children:[Object(me.jsx)("img",{className:"md:max-w-xl max-w-xs object-cover",src:Oe,alt:"Error"}),Object(me.jsx)("span",{className:"font-bold text-xl md:text-2xl text-center",children:null!==t&&void 0!==t?t:"Oops! Something went wrong!"}),Object(me.jsx)(l.b,{to:"/",children:Object(me.jsx)(je,{content:"Return home page"})})]})},we=n(7),Ne=n.p+"static/media/spinner.5952382b.svg";var ye=function(){return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("img",{src:Ne,alt:"spinner",className:"animate-spin w-7 h-7"})})};var Ce=function(e){var t=e.isHasMore,n=e.isLoading,r=e.error,a=e.onClick,s=e.loadMoreContent,c=void 0===s?"Load more...":s,o=e.loadMoreClassName,i=void 0===o?"":o,l=e.className,d=void 0===l?"":l;return Object(me.jsxs)("div",{className:d,children:[t&&!n&&Object(me.jsx)("div",{className:"flex",children:Object(me.jsx)("button",{className:"mx-auto px-4 bg-gray-100 py-2 rounded-lg transform active:scale-95 hover:bg-gray-200 dark:hover:bg-dark-hover dark:bg-dark-third dark:text-gray-300 text-xs md:text-sm transition-all duration-200 "+i,onClick:a,children:c})}),n&&Object(me.jsx)("div",{className:"flex justify-center mt-2",children:Object(me.jsx)(ye,{})}),r&&Object(me.jsx)("div",{className:"text-red-500 text-center ",children:r})]})};var Ie=function(e){var t=e.className;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{className:t,children:"Side bar"})})},Se=n(5),Ee=n.n(Se),Ue=n(11),Le=50,Re=50,Ae="No name",Fe="Unknown",Pe="ReceiveMessage",Me="ReceiveChat",ze="ReceiveUpdatedChat",Be="ReceiveUpdatedGroupAvatar",De="ReceiveAddReadByUserName",Te="ReceiveUpdatedOnlineUserNameList",Ye="ReceivePost",qe="ReceiveUpdatedPost",He="DeletePost",Ge="ReceiveComment",We="ReceiveUpdatedComment",Ve="DeleteComment",Ke="ReceiveReaction",_e="ReceiveUpdatedReaction",Ze="DeleteReaction",$e="ReceiveNotification",Je=n(98),Qe=n.n(Je),Xe=n(99),et=n.n(Xe);function tt(){var e=Object(u.b)(),t=Object(d.g)(),n=Qe.a.create({baseURL:"https://teeappapi.azurewebsites.net/api",timeout:3e5,headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return et.a.stringify(e)}});function a(t,n){e(R({isOpen:!0,title:t,content:n}))}return n.interceptors.request.use(function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),a=t,n&&(a=Object(r.a)(Object(r.a)({},t),{},{headers:{Authorization:"Bearer ".concat(n)}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.interceptors.response.use((function(t){return e(L(!1)),t&&t.data?t.data:t}),(function(n){var r,s,c,o,i,l,d,u;e(L(!1));var b="string"===typeof(null===(r=n.response)||void 0===r?void 0:r.data)?null===(s=n.response)||void 0===s?void 0:s.data:"Oops, something went wrong! Please contact administrator.";if(n.response){var m="Notification";switch(n.response.status){case 401:m="Login required",window.localStorage.removeItem("token"),null===t||void 0===t||t.push("/login");break;case 403:m="Forbidden",null===t||void 0===t||t.push("/ForBid");break;case 500:m="Server error",null===t||void 0===t||t.push("/ServerError");break;default:return(b=(null===(c=n.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.errors)?function(e){for(var t="",n=0,r=Object.values(e);n<r.length;n++){var a=r[n];t+="".concat(a.toString(),", ")}return t=t.substring(0,t.length-2)}(null===(i=n.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.errors):b).toLowerCase().includes("username or password")||a(m,b),Promise.reject(null===(d=n.response)||void 0===d?void 0:d.data)}}return b.toLowerCase().includes("username or password")||a(m,b),Promise.reject(null===n||void 0===n||null===(u=n.response)||void 0===u?void 0:u.data)})),n}var nt="/posts";function rt(){var e=tt(),t=Object(u.b)();return{getAll:function(n){var a;t(L(!0)),(null===(a=n)||void 0===a?void 0:a.limit)||(n=Object(r.a)(Object(r.a)({},n),{},{limit:Re}));var s="".concat(nt);return e.get(s,{params:n})},getById:function(n){t(L(!0));var r="".concat(nt,"/").concat(n);return e.get(r)},addPost:function(n){t(L(!0));var r="".concat(nt);return e.post(r,n)},updatePost:function(n,r){t(L(!0));var a="".concat(nt,"/").concat(n);return e.put(a,r)},deletePost:function(n){t(L(!0));var r="".concat(nt,"/").concat(n);return e.delete(r)},addPhoto:function(n,a){t(L(!0));var s="".concat(nt,"/").concat(n,"/photos");return e.interceptors.request.use(function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),a={},n&&(a=Object(r.a)(Object(r.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,a)},deletePhoto:function(n,r){t(L(!0));var a="".concat(nt,"/").concat(n,"/photos/").concat(r);return e.delete(a)},addReaction:function(t,n){var r="".concat(nt,"/").concat(t,"/reactions");return e.post(r,n)},updateReaction:function(t,n){var r="".concat(nt,"/").concat(t,"/reactions");return e.put(r,n)},deleteReaction:function(t){var n="".concat(nt,"/").concat(t,"/reactions");return e.delete(n)},addComment:function(t,n){var r="".concat(nt,"/").concat(t,"/comments");return e.post(r,n)},updateComment:function(t,n,r){var a="".concat(nt,"/").concat(t,"/comments/").concat(n);return e.put(a,r)},deleteComment:function(t,n){var r="".concat(nt,"/").concat(t,"/comments/").concat(n);return e.delete(r)}}}var at=n.p+"static/media/default-avatar.ae67bd1e.jpg";function st(e){var t,n,r,a=e.src,s=void 0===a?at:a,c=e.className,o=void 0===c?"":c,i=e.alt,l=void 0===i?"Avatar":i,d=e.size,b=void 0===d?"md":d,m=e.userName,f=void 0===m?"":m,j=e.participants,x=Object(u.c)((function(e){return e.users.onlineUserNameList})),v=Object(u.c)((function(e){return e.users.currentUser})),p=f===v.userName,h=!1;switch(p||(f?h=x.includes(f):j&&(h=j.filter((function(e){return e.userName!==v.userName})).map((function(e){return e})).some((function(e){return x.includes(e.userName)})))),b){case"xs":n="w-2 h-2";break;case"sm":n="md:w-3 md:h-3 w-2 h-2 md:border-2 border";break;case"lg":case"xl":case"full":n="border-2 w-4 h-4";break;default:n="border-2 md:w-4 md:h-4 h-3 w-3"}switch(b){case"xs":r="h-5 w-5 md:h-6 md:w-6";break;case"sm":r="h-6 w-6 md:h-8 md:w-8";break;case"lg":r="h-14 w-14 md:h-16 md:w-16";break;case"xl":r="h-20 w-20 md:h-24 md:w-24";break;case"full":r="h-full w-full";break;default:r="h-10 w-10 md:h-12 md:w-12"}return Object(me.jsxs)("div",{className:"relative flex-shrink-0",children:[Object(me.jsx)("img",{className:null!==(t=r+" select-none bg-white rounded-full object-cover flex-shrink-0 "+o)&&void 0!==t?t:"",src:s&&""!==s?s:at,alt:l}),(p||h)&&Object(me.jsx)("span",{className:"absolute bg-green-500 dark:bg-green-400 bottom-0 right-0 rounded-full border-white dark:border-black "+n})]})}var ct=c.a.memo(st),ot=n.p+"static/media/image-icon.c8ad9f46.svg";var it,lt,dt,ut,bt,mt=function(e){var t=e.className,n=e.colorClass,r=e.icon,a=e.iconClass,s=e.colorIconClass,c=e.alt,o=e.onClick,i=e.onBlur,l=e.secondMode,d=e.reverse,u=l?"hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:border-dark-third":"bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:border-dark-third dark:active:bg-dark-third";return u=d?"dark:bg-gray-100 dark:hover:bg-gray-200 dark:active:bg-gray-300 bg-dark-third hover:bg-dark-hover border-dark-third active:bg-dark-third":u,n=n&&""!==n?n:u,s=s&&""!==s?s:"text-black dark:text-dark-txt",s=d?"dark:text-black text-white":s,Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{onBlur:i,onClick:o,className:"p-1 flex items-center justify-center rounded-full transition-base cursor-pointer active:scale-90 active:transform select-none flex-shrink-0  "+n+" "+(null!==t&&void 0!==t?t:""),children:r?Object(me.jsx)("img",{alt:null!==c&&void 0!==c?c:"Clickable Icon",src:r,onClick:o,className:"w-full align-middle"}):Object(me.jsx)("i",{className:"text-center align-middle items text-xl w-7 h-7 text-center-middle  "+s+" "+a})})})},ft=n(50),jt=n.n(ft),xt=n(9),vt=n.p+"static/media/angry.5d2c62b0.svg",pt=n.p+"static/media/care.d36c2862.svg",ht=n.p+"static/media/haha.e568dfbb.svg",gt=n.p+"static/media/like.3708582e.svg",Ot=n.p+"static/media/love.12a18842.svg",kt=n.p+"static/media/sad.c7d5223e.svg",wt=n.p+"static/media/wow.df119310.svg",Nt=1,yt=2,Ct={MALE:0,FEMALE:1,OTHER:2},It=0,St=1,Et=2,Ut=3,Lt=4,Rt={PUBLIC:0,FRIEND:2,PRIVATE:1},At=(it={},Object(xt.a)(it,Rt.PUBLIC,"Public"),Object(xt.a)(it,Rt.FRIEND,"Friend"),Object(xt.a)(it,Rt.PRIVATE,"Private"),it),Ft=(lt={},Object(xt.a)(lt,Rt.PUBLIC,"fas fa-globe-asia"),Object(xt.a)(lt,Rt.FRIEND,"fas fa-user-friends"),Object(xt.a)(lt,Rt.PRIVATE,"bx bxs-lock-alt"),lt),Pt={LIKE:0,LOVE:1,CARE:2,WOW:3,HAHA:4,SAD:5,ANGRY:6},Mt=(dt={},Object(xt.a)(dt,Pt.LIKE,"Like"),Object(xt.a)(dt,Pt.LOVE,"Love"),Object(xt.a)(dt,Pt.CARE,"Care"),Object(xt.a)(dt,Pt.HAHA,"Haha"),Object(xt.a)(dt,Pt.WOW,"Wow"),Object(xt.a)(dt,Pt.SAD,"Sad"),Object(xt.a)(dt,Pt.ANGRY,"Angry"),dt),zt=(ut={},Object(xt.a)(ut,Pt.LIKE,gt),Object(xt.a)(ut,Pt.LOVE,Ot),Object(xt.a)(ut,Pt.CARE,pt),Object(xt.a)(ut,Pt.HAHA,ht),Object(xt.a)(ut,Pt.WOW,wt),Object(xt.a)(ut,Pt.SAD,kt),Object(xt.a)(ut,Pt.ANGRY,vt),ut),Bt=(bt={},Object(xt.a)(bt,Pt.LIKE,"text-blue-600 dark:text-blue-400 "),Object(xt.a)(bt,Pt.LOVE,"text-pink-600"),Object(xt.a)(bt,Pt.HAHA,"text-yellow-500"),Object(xt.a)(bt,Pt.CARE,"text-yellow-500"),Object(xt.a)(bt,Pt.WOW,"text-yellow-500"),Object(xt.a)(bt,Pt.SAD,"text-yellow-500"),Object(xt.a)(bt,Pt.ANGRY,"text-yellow-600"),bt);var Dt=function(){var e=Object(u.c)((function(e){return e.users.currentUser})),t=Object(s.useState)(""),n=Object(ue.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(Rt.PUBLIC),o=Object(ue.a)(c,2),i=o[0],d=o[1],b=Object(s.useState)([]),m=Object(ue.a)(b,2),f=m[0],j=m[1],x=Object(s.useState)({}),v=Object(ue.a)(x,2),p=v[0],h=v[1],g=Object(s.useState)(!1),O=Object(ue.a)(g,2),k=O[0],w=O[1],N=Object(s.useState)(!1),y=Object(ue.a)(N,2),C=y[0],I=y[1],S=Object(s.useState)(!1),E=Object(ue.a)(S,2),U=E[0],L=E[1],R=Object(s.useState)(!1),A=Object(ue.a)(R,2),F=A[0],P=A[1],M=Object(s.useRef)(),z=Object(s.useRef)(),B=Object(s.useRef)(),D=rt();function T(e){27===e.keyCode&&L(!1)}return Object(s.useEffect)((function(){var e=function(e){F&&z.current&&!z.current.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[F]),Object(s.useEffect)((function(){var e=function(e){U&&M.current&&!M.current.contains(e.target)&&L(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[U]),Object(s.useEffect)((function(){var e=function(e){k&&B.current&&!B.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[k]),Object(s.useEffect)((function(){return document.addEventListener("keydown",T,!1),function(){document.removeEventListener("keydown",T,!1)}}),[]),Object(s.useEffect)((function(){r.trim()||f.length>0?I(!0):I(!1)}),[r,f]),Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover w-full rounded-xl shadow px-4 pt-3 pb-1 space-y-3 divide-y",children:[Object(me.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===e||void 0===e?void 0:e.userName),children:Object(me.jsx)(ct,{src:null===e||void 0===e?void 0:e.avatarUrl})}),Object(me.jsx)("div",{onClick:function(){return L(!0)},className:"w-full",children:Object(me.jsx)("input",{disabled:!0,type:"text",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?"),className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative placeholder-gray-500 dark:placeholder-dark-txt hover:bg-gray-200 dark:hover:bg-dark-hover cursor-pointer "})})]}),Object(me.jsxs)("div",{className:"w-full text-center flex justify-between select-none cursor-pointer py-1 border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold",children:[Object(me.jsxs)("span",{className:"flex-1 p-1 py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base flex items-center justify-center space-x-2",onClick:function(){return L(!0)},children:[Object(me.jsx)("img",{src:ot,alt:"Image icon",className:"w-6 h-6"}),Object(me.jsx)("span",{children:"Your Photos"})]}),Object(me.jsxs)("span",{className:"flex-1 p-1 py-2 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base ",onClick:function(){return L(!0)},children:[Object(me.jsx)("i",{className:"far fa-smile-beam mr-2 text-xl align-middle text-green-500 dark:text-green-400"}),"Your Feeling"]})]})]}),U&&Object(me.jsx)("div",{className:"overlay px-4 py-10 z-30 grid place-items-center",style:{margin:0},children:Object(me.jsxs)("div",{className:"flex-center flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full animate-swipeDown overflow-x-auto",ref:M,children:[p.isOpen&&Object(me.jsx)(xe,{title:"Notification",isOpen:p.isOpen,content:p.content,onClick:function(){return h({isOpen:!1})}}),Object(me.jsxs)("div",{className:"relative font-bold text-center text-lg md:text-xl py-4 border-b dark:border-gray-600 w-full",children:["Create post",Object(me.jsx)(mt,{onClick:function(){return L(!1)},iconClass:"bx bx-x",className:"absolute bg-white md:right-10 right-8 top-3 animate-swipeUp"})]}),Object(me.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.addPost({content:r,privacy:i}).then((function(e){e.id&&f.forEach((function(t){var n=new FormData;n.append("Image",t),n.append("Caption","Post photo"),D.addPhoto(e.id,n)}))})),L(!1),a(""),j([])},className:"flex flex-col items-start w-full px-6 space-y-4 py-4",children:[Object(me.jsxs)("div",{className:"flex space-x-2",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(e.userName),children:Object(me.jsx)(ct,{src:e.avatarUrl,userName:e.userName})}),Object(me.jsxs)("div",{className:"flex flex-col justify-between space-y-1",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(e.userName),children:e.fullName}),Object(me.jsxs)("div",{className:"relative select-none",children:[Object(me.jsxs)("div",{className:"p-1 px-2 text-xs bg-gray-200 dark:bg-dark-hover rounded space-x-2 cursor-pointer ",onClick:function(){return w(!0)},children:[Object(me.jsx)("i",{className:Ft[i]}),Object(me.jsx)("span",{children:At[i]})]}),k&&Object(me.jsx)("div",{className:"animate-fadeIn absolute w-28 top-full transform translate-y-1 -left-2 bg-gray-100 dark:bg-dark-third rounded p-1 text-sm",ref:B,children:Object.values(Rt).map((function(e){return Object(me.jsxs)("div",{onClick:function(){d(e),w(!1)},className:"cursor-pointer hover:bg-gray-200 dark:hover:bg-dark-hover p-1 px-2 rounded duration-150 w-full space-x-2",children:[Object(me.jsx)("i",{className:Ft[e]}),Object(me.jsx)("span",{children:At[e]})]})}))})]})]})]}),Object(me.jsx)("textarea",{value:r,onChange:function(e){return a(e.target.value)},rows:"3",className:"w-full text-lg md:text-2xl placeholder-gray-500 dark:placeholder-dark-txt focus:placeholder-gray-300 dark:focus:placeholder-dark-hover outline-none transition-base bg-white dark:bg-dark-secondary resize-none",placeholder:"What's on your mind".concat(e.firstName?", "+e.firstName:"","?")}),Object(me.jsxs)("div",{ref:z,className:"relative w-full flex justify-end",children:[Object(me.jsx)(mt,{secondMode:!0,iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return P(!F)}}),F&&Object(me.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(me.jsx)(jt.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&a(r+(null===t||void 0===t?void 0:t.emoji))}})})]}),Object(me.jsxs)("div",{className:"w-full overflow-x-auto flex space-x-2 select-none pb-2",children:[Object(me.jsx)("input",{hidden:!0,id:"imageFiles",type:"file",multiple:!0,onChange:function(e){return function(e){var t=!0,n=[].concat(Object(we.a)(f),Object(we.a)(e));n.length>10&&(h({content:"Please select maximum 10 images!",isOpen:!0}),t=!1),n.forEach((function(e){e.size>1048576&&(h({content:"Please upload less than 1MB per file!",isOpen:!0}),t=!1)})),t&&j(n)}(e.target.files)}}),Object(me.jsx)("label",{htmlFor:"imageFiles",className:"cursor-pointer h-28 w-28 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 dark:bg-dark-third dark:hover:bg-dark-hover dark:active:bg-gray-700 rounded-xl flex-center transition-base flex-shrink-0",children:Object(me.jsx)("i",{className:"bx bxs-image-add text-4xl"})}),f.length>0&&f.map((function(e,t){return Object(me.jsxs)("div",{className:"relative cursor-pointer h-28 w-28 bg-gray-100 dark:bg-dark-third rounded-xl flex-center transition-base overflow-hidden flex-shrink-0 ",children:[Object(me.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview"}),Object(me.jsx)(mt,{onClick:function(){return function(e){if(e>=0&&e<f.length){var t=Object(we.a)(f);t.splice(e,1),j(t)}}(t)},iconClass:"bx bx-x",reverse:!0,className:"absolute right-1 top-1 animate-swipeUp w-6 h-6 object-cover"})]},"imageFiles"+t)}))]}),Object(me.jsx)(je,{disabled:!C,className:"w-full font-semibold",children:"Post"})]})]})})]})};var Tt=function(e){var t=e.title,n=e.isOpen,r=e.content,a=void 0===r?"Are you sure?":r,s=e.closeAction,c=e.confirmButtonTitle,o=e.confirmButtonAction;return n&&Object(me.jsx)("div",{className:"px-4 overlay flex-center ",style:{margin:0},children:Object(me.jsxs)("div",{className:"animate-swipeDown bg-white dark:bg-dark-secondary dark:border-dark-third py-8 px-8 w-full md:w-2/3 lg:w-1/2 flex flex-col justify-between items-start rounded-xl space-y-6 shadow-2xl border border-gray-300",children:[Object(me.jsx)("h3",{className:"font-semibold text-2xl break-words dark:text-dark-txt",children:""!==t?t:"Notification"}),Object(me.jsx)("span",{className:"break-words dark:text-dark-txt",children:a}),Object(me.jsxs)("div",{className:"w-full flex justify-end space-x-2",children:[Object(me.jsx)(je,{outline:!0,content:"No",onClick:s}),Object(me.jsx)(je,{content:null!==c&&void 0!==c?c:"Ok",onClick:function(){o(),s()}})]})]})})},Yt=n(29),qt=n.n(Yt),Ht=n.p+"static/media/send-icon.666dadc9.svg";var Gt=function(e){var t=e.postId,n=e.currentUser,r=void 0===n?{}:n,a=Object(s.useState)(""),c=Object(ue.a)(a,2),o=c[0],i=c[1],d=Object(s.useState)(!1),u=Object(ue.a)(d,2),b=u[0],m=u[1],f=Object(s.useRef)(),j=rt();function x(){return(x=Object(Ue.a)(Ee.a.mark((function e(n){var r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return i(""),r={content:o},e.next=7,j.addComment(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e=function(e){b&&f.current&&!f.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[b]),Object(me.jsxs)("div",{className:"flex space-x-2 w-full items-center",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0",to:"/profile/".concat(null===r||void 0===r?void 0:r.userName),children:Object(me.jsx)(ct,{size:"sm",src:null===r||void 0===r?void 0:r.avatarUrl})}),Object(me.jsxs)("form",{onSubmit:function(e){return function(e){return x.apply(this,arguments)}(e)},className:"flex justify-between items-center space-x-1 z-0 w-full",children:[Object(me.jsxs)("div",{className:"relative w-full flex",children:[Object(me.jsx)("input",{value:o,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Write a comment",className:"bg-gray-100 dark:bg-dark-third rounded-3xl w-full py-2 px-4 pr-12 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-all duration-200 relative"}),Object(me.jsxs)("div",{ref:f,className:"relative",children:[Object(me.jsx)(mt,{className:"absolute h-10 w-10 right-1",iconClass:"bx bxs-smile",colorIconClass:"text-green-500",onClick:function(){return m(!b)}}),b&&Object(me.jsx)("div",{className:"animate-fadeIn absolute right-0 bottom-full",children:Object(me.jsx)(jt.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){(null===t||void 0===t?void 0:t.emoji)&&i(o+(null===t||void 0===t?void 0:t.emoji))}})})]})]}),Object(me.jsx)("button",{children:Object(me.jsx)(mt,{icon:Ht,className:"w-10 h-10 p-2",colorClass:"bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary hover:dark:bg-dark-third active:dark:bg-dark-hover"})})]})]})};function Wt(e){var t=e.comments,n=void 0===t?[]:t,r=e.isOpen,a=e.currentUser,s=void 0===a?{}:a,c=e.postId,o=Object(we.a)(n).filter((function(e){return e.creator.userName===s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})),i=Object(we.a)(n).filter((function(e){return e.creator.userName!==s.userName})).sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1}));return Object(me.jsxs)(me.Fragment,{children:[o.map((function(e,t){return Object(me.jsx)(Vt,{comment:e,postId:c,isMyComment:!0},e.id)})),r&&i.map((function(e,t){return Object(me.jsx)(Vt,{comment:e,postId:c},e.id)}))]})}var Vt=c.a.memo((function(e){var t,n,r,a,c,o,i,d=e.comment,u=e.postId,b=e.isMyComment,m=rt(),f=Object(s.useState)(!1),j=Object(ue.a)(f,2),x=j[0],v=j[1],p=Object(s.useState)(!1),h=Object(ue.a)(p,2),g=h[0],O=h[1],k=Object(s.useState)(!1),w=Object(ue.a)(k,2),N=w[0],y=w[1],C=Object(s.useState)(d.content),I=Object(ue.a)(C,2),S=I[0],E=I[1],U=Object(s.useRef)(),L=Object(s.useRef)();Object(s.useEffect)((function(){var e=function(e){x&&U.current&&!U.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[x]);function R(e){27===e.keyCode&&y(!1)}return Object(s.useEffect)((function(){return document.addEventListener("keydown",R,!1),function(){document.removeEventListener("keydown",R,!1)}}),[]),Object(s.useEffect)((function(){var e;N&&(null===L||void 0===L||null===(e=L.current)||void 0===e||e.focus())}),[N]),Object(me.jsxs)(me.Fragment,{children:[g&&Object(me.jsx)(Tt,{isOpen:g,closeAction:function(){return O(!1)},title:"Are you sure?",content:"Do you want to delete this comment?",confirmButtonTitle:"Yes",confirmButtonAction:function(){u&&(null===d||void 0===d?void 0:d.id)&&m.deleteComment(u,d.id)}}),Object(me.jsxs)("div",{className:"flex space-x-2 max-w-full "+(N&&"w-full"),children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer flex-shrink-0 mt-2",to:"/profile/".concat(null===d||void 0===d||null===(t=d.creator)||void 0===t?void 0:t.userName),children:Object(me.jsx)(ct,{size:"sm",src:null===d||void 0===d||null===(n=d.creator)||void 0===n?void 0:n.avatarUrl,userName:null===d||void 0===d||null===(r=d.creator)||void 0===r?void 0:r.userName})}),Object(me.jsxs)("div",{className:"flex flex-col w-full",children:[Object(me.jsxs)("div",{className:"flex flex-col space-y-1 justify-evenly w-full bg-gray-100 dark:bg-dark-third rounded-2xl px-3 py-3",children:[Object(me.jsx)("div",{className:"w-full flex justify-between items-center mr-9",children:Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(null===d||void 0===d||null===(a=d.creator)||void 0===a?void 0:a.userName),children:null===d||void 0===d||null===(c=d.creator)||void 0===c?void 0:c.fullName})}),N?Object(me.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S!==d.content&&m.updateComment(u,d.id,{content:S}),y(!1)},className:"flex flex-col",children:[Object(me.jsx)("input",{type:"text",placeholder:"Write a comment",ref:L,className:"bg-gray-100 dark:bg-dark-third outline-none ",onChange:function(e){return E(e.target.value)},value:S}),Object(me.jsxs)("span",{className:"text-xs self-end",onClick:function(){return y(!1)},children:["Press Esc to"," ",Object(me.jsx)("span",{className:"font-semibold text-green-500 cursor-pointer",children:"Cancel"})]})]}):Object(me.jsx)("div",{className:"break-words overflow-x-auto text-sm max-w-350 md:max-w-450",children:null===d||void 0===d?void 0:d.content})]}),Object(me.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-dark-txt",children:null===(o=qt()(new Date(null===d||void 0===d?void 0:d.dateCreated),"YYYYMMDD").fromNow())||void 0===o||null===(i=o.replace("ago",""))||void 0===i?void 0:i.trim()})]}),Object(me.jsx)("div",{ref:U,className:"relative self-center mb-5",children:b&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(mt,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){v(!x)}}),x&&Object(me.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-7 p-2 w-48 right-3 border border-gray-200 bg-white rounded-lg shadow-lg overflow-hidden dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-30",children:[Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){y(!0),v(!1)},children:[Object(me.jsx)("i",{className:"text-center-middle bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),"Edit comment"]}),Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-hover text-sm",onClick:function(){O(!0),v(!1)},children:[Object(me.jsx)("i",{className:"text-center-middle bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 mr-2"}),"Delete comment"]})]})]})})]})]})}));var Kt=function(e){var t,n,r,a=e.photos,c=void 0===a?[]:a,o=e.startIndex,i=void 0===o?0:o,l=e.setIsOpen,d=Object(s.useState)(i),u=Object(ue.a)(d,2),b=u[0],m=u[1];function f(e){27===e.keyCode&&l(!1)}return Object(s.useEffect)((function(){return document.addEventListener("keydown",f,!1),function(){document.removeEventListener("keydown",f,!1)}}),[]),Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"px-4 flex-center overlay cursor-default select-none",style:{margin:0},children:[Object(me.jsx)(mt,{reverse:!0,onClick:function(){return l(!1)},iconClass:"bx bx-x",className:"absolute bg-white md:right-10 right-8 top-8 animate-swipeUp"}),b>0&&Object(me.jsx)(mt,{reverse:!0,onClick:function(){b>0&&m(b-1)},iconClass:"bx bxs-chevron-left",className:"absolute md:left-10 left-5 animate-swipeUp"}),b<c.length-1&&Object(me.jsx)(mt,{reverse:!0,onClick:function(){b<c.length-1&&m(b+1)},iconClass:"bx bxs-chevron-right",className:"absolute md:right-10 right-5 animate-swipeUp"}),Object(me.jsx)("img",{src:null===(t=c[b])||void 0===t?void 0:t.imageUrl,alt:null!==(n=null===(r=c[b])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo ".concat(b),className:"animate-swipeDown max-h-11/12 max-w-full md:max-w-3/4 min-w-2/12 object-contain rounded"})]})})};function _t(e){var t=e.photos,n=void 0===t?[]:t,r=Object(s.useState)(!1),a=Object(ue.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)(0),l=Object(ue.a)(i,2),d=l[0],u=l[1];if(!(n.length<1)){var b;switch(n.length){case 1:b=Object(me.jsx)(Zt,{setStartIndex:u,setIsOpen:o,photos:n});break;case 2:b=Object(me.jsx)($t,{setStartIndex:u,setIsOpen:o,photos:n});break;case 3:b=Object(me.jsx)(Jt,{setStartIndex:u,setIsOpen:o,photos:n});break;case 4:b=Object(me.jsx)(Qt,{setStartIndex:u,setIsOpen:o,photos:n});break;default:b=Object(me.jsx)(Xt,{setStartIndex:u,setIsOpen:o,photos:n})}return Object(me.jsxs)(me.Fragment,{children:[c&&Object(me.jsx)(Kt,{photos:n,startIndex:d,setIsOpen:o}),b]})}}var Zt=function(e){var t,n=e.photos,r=void 0===n?[]:n,a=e.setIsOpen,s=e.setStartIndex;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{className:"w-full max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){a(!0),s(0)},children:Object(me.jsx)("img",{className:"object-contain max-h-128 w-full",src:r[0].imageUrl,alt:null!==(t=r[0].caption)&&void 0!==t?t:"Post photo ".concat(1)})})})},$t=function(e){var t=e.photos,n=void 0===t?[]:t,r=e.setIsOpen,a=e.setStartIndex;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{className:"grid grid-cols-2 gap-2 overflow-hidden",children:n.map((function(e,t){var n;return Object(me.jsx)("div",{className:"col-span-1 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){r(!0),a(t)},children:Object(me.jsx)("img",{className:"object-contain max-h-128 w-full",src:e.imageUrl,alt:null!==(n=e.caption)&&void 0!==n?n:"Post photo ".concat(t)})},e.id)}))})})},Jt=function(e){var t,n,r,a,s,c,o,i,l,d=e.photos,u=void 0===d?[]:d,b=e.setIsOpen,m=e.setStartIndex;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"grid grid-cols-3 grid-rows-2 gap-2 overflow-hidden",children:[Object(me.jsx)("div",{className:"col-span-2 row-span-2 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(0)},children:Object(me.jsx)("img",{className:"object-contain max-h-128 w-full",src:null===(t=u[0])||void 0===t?void 0:t.imageUrl,alt:null!==(n=null===(r=u[0])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo 1"})}),Object(me.jsx)("div",{className:"col-span-1 row-span-1 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(1)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(a=u[1])||void 0===a?void 0:a.imageUrl,alt:null!==(s=null===(c=u[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(me.jsx)("div",{className:"col-span-1 row-span-1 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden",onClick:function(){b(!0),m(2)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(o=u[2])||void 0===o?void 0:o.imageUrl,alt:null!==(i=null===(l=u[2])||void 0===l?void 0:l.caption)&&void 0!==i?i:"Post photo 3"})})]})})},Qt=function(e){var t,n,r,a,s,c,o,i,l,d,u,b,m=e.photos,f=void 0===m?[]:m,j=e.setIsOpen,x=e.setStartIndex;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-2 overflow-hidden h-128",children:[Object(me.jsx)("div",{className:"w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),x(0)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=f[0])||void 0===t?void 0:t.imageUrl,alt:null!==(n=null===(r=f[0])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo 1"})}),Object(me.jsx)("div",{className:"w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),x(1)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(a=f[1])||void 0===a?void 0:a.imageUrl,alt:null!==(s=null===(c=f[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(me.jsx)("div",{className:"w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),x(2)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(o=f[2])||void 0===o?void 0:o.imageUrl,alt:null!==(i=null===(l=f[2])||void 0===l?void 0:l.caption)&&void 0!==i?i:"Post photo 3"})}),Object(me.jsx)("div",{className:"w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){j(!0),x(3)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=f[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=f[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})})]})})},Xt=function(e){var t,n,r,a,s,c,o,i,l,d,u,b,m,f,j,x=e.photos,v=void 0===x?[]:x,p=e.setIsOpen,h=e.setStartIndex,g=v.length-5>0?v.length-5:0;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"grid grid-cols-6 grid-rows-2 gap-2 h-128 overflow-hidden",children:[Object(me.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){p(!0),h(0)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(t=v[0])||void 0===t?void 0:t.imageUrl,alt:null!==(n=null===(r=v[0])||void 0===r?void 0:r.caption)&&void 0!==n?n:"Post photo 1"})}),Object(me.jsx)("div",{className:"col-span-3 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){p(!0),h(1)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(a=v[1])||void 0===a?void 0:a.imageUrl,alt:null!==(s=null===(c=v[1])||void 0===c?void 0:c.caption)&&void 0!==s?s:"Post photo 2"})}),Object(me.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){p(!0),h(2)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(o=v[2])||void 0===o?void 0:o.imageUrl,alt:null!==(i=null===(l=v[2])||void 0===l?void 0:l.caption)&&void 0!==i?i:"Post photo 3"})}),Object(me.jsx)("div",{className:"col-span-2 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){p(!0),h(3)},children:Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(d=v[3])||void 0===d?void 0:d.imageUrl,alt:null!==(u=null===(b=v[3])||void 0===b?void 0:b.caption)&&void 0!==u?u:"Post photo 4"})}),Object(me.jsxs)("div",{className:"relative col-span-2 w-full flex justify-center max-h-500 bg-gray-100 dark:bg-dark-third rounded-xl shadow-lg overflow-hidden",onClick:function(){p(!0),h(4)},children:[Object(me.jsx)("img",{className:"object-cover h-full w-full",src:null===(m=v[4])||void 0===m?void 0:m.imageUrl,alt:null!==(f=null===(j=v[4])||void 0===j?void 0:j.caption)&&void 0!==f?f:"Post photo 5"}),g>0&&Object(me.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-40 grid place-items-center text-xl md:text-2xl font-bold",children:["+",g]})]})]})})};var en=function(e){var t=e.type,n=e.src,r=e.alt,a=e.addReaction;return Object(me.jsxs)("div",{onClick:function(){return a(t)},className:"group relative w-10 hover:scale-125 hover:-translate-y-2 hover:transform origin-bottom transition-all duration-300 ease-in-out",children:[Object(me.jsx)("div",{className:"animate-fadeIn group-hover:block absolute bottom-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded-xl transform -translate-y-1 -translate-x-1/2 text-white dark:text-black text-tiny",children:r}),Object(me.jsx)("img",{src:n,alt:r,className:"w-full h-full"})]})},tn=function(e){var t=e.className,n=void 0===t?"":t,r=e.reacted,a=e.postId,s=e.setIsOpen,c=rt(),o=function(e){r?r&&r.type!==e&&c.updateReaction(a,{type:e}):c.addReaction(a,{type:e}),s(!1)};return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{className:n+" flex animate-swipeUp space-x-2 rounded-3xl bg-white dark:bg-dark-secondary shadow border-2 border-gray-100 dark:border-dark-third p-1 transition-base z-50",children:Object.values(Pt).map((function(e){return Object(me.jsx)(en,{addReaction:o,type:e,src:zt[e],alt:Mt[e]},"Reaction "+e)}))})})};function nn(e){var t,n,r,a,c,o,i,d,b,m,f,j=e.post,x=Object(u.c)((function(e){return e.users.currentUser})),v=Object(s.useState)(!1),p=Object(ue.a)(v,2),h=p[0],g=p[1],O=Object(s.useState)(!1),k=Object(ue.a)(O,2),w=k[0],N=k[1],y=Object(s.useState)(!1),C=Object(ue.a)(y,2),I=C[0],S=C[1],E=Object(s.useState)(!1),U=Object(ue.a)(E,2),L=U[0],R=U[1],A=Object(s.useState)(),F=Object(ue.a)(A,2),P=F[0],M=F[1],z=rt(),B=Object(s.useRef)(),D=Object(s.useRef)(),T=null===j||void 0===j||null===(t=j.reactions)||void 0===t?void 0:t.find((function(e){return e.creator.userName===x.userName}));Object(s.useEffect)((function(){M(function(e){var t=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}(e.reactions,["type"]),n=[];for(var r in t)n.push({type:r,total:t[r].length});return n.sort((function(e,t){return e.total>t.total?1:-1})).slice(0,3).map((function(e){return e.type}))}(j))}),[j]),Object(s.useEffect)((function(){var e=function(e){I&&B.current&&!B.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[I]);return Object(me.jsxs)(me.Fragment,{children:[L&&Object(me.jsx)(Tt,{isOpen:L,closeAction:function(){return R(!1)},title:"Are you sure?",content:"Do you want to delete this post?",confirmButtonTitle:"Yes",confirmButtonAction:function(){j.id&&z.deletePost(j.id)}}),Object(me.jsxs)("div",{className:"py-4 px-5 bg-white dark:bg-dark-secondary border dark:border-dark-hover w-full flex flex-col justify-start items-start space-y-4 rounded-xl shadow",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center w-full",children:[Object(me.jsxs)("div",{className:"flex space-x-2",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer",to:"/profile/".concat(j.creator.userName),children:Object(me.jsx)(ct,{src:j.creator.avatarUrl,userName:null===j||void 0===j||null===(n=j.creator)||void 0===n?void 0:n.userName})}),Object(me.jsxs)("div",{className:"flex flex-col justify-evenly",children:[Object(me.jsx)(l.b,{className:"font-semibold text-sm cursor-pointer hover:underline",to:"/profile/".concat(j.creator.userName),children:j.creator.fullName}),Object(me.jsxs)(l.b,{className:"text-xs text-gray-500 dark:text-dark-txt hover:underline space-x-2",to:"/post/".concat(j.id),children:[Object(me.jsx)("span",{children:null===(r=qt()(new Date(null===j||void 0===j?void 0:j.dateCreated),"YYYYMMDD").fromNow())||void 0===r||null===(a=r.replace("ago",""))||void 0===a?void 0:a.trim()}),Object(me.jsx)("i",{className:Ft[null===j||void 0===j?void 0:j.privacy]})]})]})]}),(null===j||void 0===j||null===(c=j.creator)||void 0===c?void 0:c.userName)===(null===x||void 0===x?void 0:x.userName)&&Object(me.jsxs)("div",{className:"relative",ref:B,children:[Object(me.jsx)(mt,{iconClass:"bx bx-dots-horizontal-rounded",secondMode:!0,onClick:function(){return S(!I)}}),I&&Object(me.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-full right-0 border border-gray-200 bg-white w-48 rounded-lg shadow-lg overflow-hidden p-2 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-10",children:[Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",children:[Object(me.jsx)("i",{className:"text-center-middle bx bx-edit-alt text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(me.jsx)("span",{children:"Edit post"})]}),Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return R(!0)},children:[Object(me.jsx)("i",{className:"text-center-middle bx bx-trash text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(me.jsx)("span",{children:"Delete post"})]})]})]})]}),Object(me.jsx)("span",{className:"text-sm break-words overflow-ellipsis max-w-full",children:j.content}),(null===j||void 0===j||null===(o=j.photos)||void 0===o?void 0:o.length)>0&&Object(me.jsxs)("div",{className:"w-full max-h-500 cursor-pointer",children:[Object(me.jsx)(_t,{photos:j.photos})," "]}),Object(me.jsxs)("div",{className:"flex justify-between w-full text-xs text-gray-500 hover:underline",children:[Object(me.jsxs)("div",{className:"cursor-pointer flex space-x-1",children:[Object(me.jsx)("div",{className:"flex",children:P&&P.map((function(e,t){return Object(me.jsx)("div",{className:"w-5 h-5 "+(t>0?"z-0":"z-10"),children:Object(me.jsx)("img",{src:zt[e],alt:Mt[e],className:"w-full h-full border-2 border-white dark:border-dark-secondary rounded-full "+(t>0?"transform -translate-x-1":"")})},e)}))}),Object(me.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt",children:(null===j||void 0===j||null===(i=j.reactions)||void 0===i?void 0:i.length)>0&&(null===j||void 0===j||null===(d=j.reactions)||void 0===d?void 0:d.length)})]}),Object(me.jsx)("span",{className:"cursor-pointer text-gray-500 dark:text-dark-txt",onClick:function(){return N((function(e){return!e}))},children:(null===j||void 0===j||null===(b=j.comments)||void 0===b?void 0:b.length)>0&&(null===j||void 0===j||null===(m=j.comments)||void 0===m?void 0:m.length)+" comment"+((null===j||void 0===j||null===(f=j.comments)||void 0===f?void 0:f.length)>1?"s":"")})]}),Object(me.jsxs)("div",{className:"w-full text-center flex justify-between select-none cursor-pointer py-1 border-t border-b dark:border-dark-third space-x-1 text-gray-600 dark:text-dark-txt font-semibold text-sm",children:[Object(me.jsxs)("span",{className:"relative flex-1 transition-base",ref:D,onMouseOver:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[h&&Object(me.jsx)(tn,{setIsOpen:g,reactionRef:D,postId:j.id,reacted:T,className:"absolute bottom-full left-0"}),T?Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("div",{className:"w-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base",onClick:function(){T&&z.deleteReaction(j.id)},children:Object(me.jsxs)("div",{className:"flex-center space-x-2",children:[Object(me.jsx)("div",{className:"w-5",children:Object(me.jsx)("img",{src:zt[T.type],alt:Mt[T.type],className:"animate-popup w-full h-full"})}),Object(me.jsx)("span",{className:Bt[T.type],children:Mt[T.type]})]})})}):Object(me.jsx)("div",{className:"w-full p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base",onClick:function(){T?T&&T.type!==Pt.LIKE&&z.updateReaction(j.id,{type:Pt.LIKE}):z.addReaction(j.id,{type:Pt.LIKE})},children:Object(me.jsxs)("span",{children:[Object(me.jsx)("i",{className:"bx bx-like mr-2 text-lg align-middle mb-1"}),"Like"]})})]}),Object(me.jsxs)("span",{className:"flex-1 p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base",onClick:function(){return N((function(e){return!e}))},children:[Object(me.jsx)("i",{className:"bx bx-comment mr-2 text-lg align-middle "}),"Comment"]}),Object(me.jsxs)("span",{className:"flex-1 p-1 bg-white hover:bg-gray-100 active:bg-gray-200 dark:bg-dark-secondary dark:hover:bg-dark-third dark:active:bg-dark-hover rounded-lg transition-base ",children:[Object(me.jsx)("i",{className:"bx bx-share bx-flip-horizontal mr-2 text-lg align-middle"}),"Share"]})]}),Object(me.jsx)(Gt,{postId:j.id,currentUser:x}),Object(me.jsx)(Wt,{postId:j.id,comments:j.comments,isOpen:w,currentUser:x})]})]})}var rn=c.a.memo(nn);var an=function(){var e,t,n=Object(s.useState)(1),r=Object(ue.a)(n,2),a=r[0],c=r[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(s.useState)(!1),n=Object(ue.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object(ue.a)(c,2),i=o[0],l=o[1],d=Object(u.c)((function(e){return e.posts.posts})),b=Object(s.useState)(!0),m=Object(ue.a)(b,2),f=m[0],j=m[1],x=rt(),v=Object(u.b)();return Object(s.useEffect)((function(){f&&(a(!0),l(!1),x.getAll({page:e}).then((function(t){v(e>1?se(t):$(t)),j(e<t.pageCount),a(!1)})).catch((function(e){l(e)})))}),[e]),{posts:d,isLoading:r,error:i,isHasMore:f}}(a),i=o.posts,l=o.isHasMore,d=o.isLoading,b=o.error;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"container grid md:grid-cols-12 xl:gap-16 lg:gap-10 md:gap-6 animate-fadeIn",children:[Object(me.jsx)(Ie,{className:"hidden md:block md:col-span-3 sticky top-20"}),Object(me.jsxs)("div",{className:"md:col-span-9 lg:col-span-6 w-full mx-auto space-y-4",children:[Object(me.jsx)(Dt,{}),null===(e=Object(we.a)(null===i||void 0===i?void 0:i.items))||void 0===e||null===(t=e.sort((function(e,t){return e.dateCreated<t.dateCreated?1:-1})))||void 0===t?void 0:t.map((function(e){return Object(me.jsx)(rn,{post:e},e.id)})),Object(me.jsx)(Ce,{loadMoreClassName:"bg-gray-200 hover:bg-gray-300",onClick:function(){l&&c((function(e){return e+1}))},isLoading:d,error:b,isHasMore:l,loadMoreContent:"Load more posts..."}),(null===i||void 0===i?void 0:i.totalRecords)<=0&&Object(me.jsx)("div",{className:"text-center py-3",children:"Not found any posts. You should create first post or add more friends"})]}),Object(me.jsx)(Ie,{className:"hidden lg:block md:col-span-3 sticky top-20"})]})})},sn=n.p+"static/media/logo-circle.97246462.png";var cn=function(){var e=Object(s.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){"dark"===window.localStorage.getItem("theme")&&(window.document.documentElement.classList.add("dark"),r(!0))}),[]),Object(s.useEffect)((function(){n?(window.document.documentElement.classList.add("dark"),window.localStorage.setItem("theme","dark")):(window.document.documentElement.classList.remove("dark"),window.localStorage.setItem("theme","light"))}),[n]),{darkMode:n,setDarkMode:r}},on="/chats";function ln(){var e=tt(),t=Object(u.b)();return{getAll:function(){t(L(!0));var n="".concat(on);return e.get(n)},getById:function(n,r){t(L(!0));var a="".concat(on,"/").concat(n);return e.get(a,{params:r})},sendMessage:function(t,n){var r="".concat(on,"/").concat(t,"/send");return e.post(r,n)},readChat:function(t){var n="".concat(on,"/").concat(t,"/read");return e.patch(n)},sendImage:function(n,a){t(L(!0));var s="".concat(on,"/").concat(n,"/sendImage");return e.interceptors.request.use(function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),a={},n&&(a=Object(r.a)(Object(r.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.post(s,a)},updateGroupAvatar:function(n,a){t(L(!0));var s="".concat(on,"/").concat(n,"/avatar");return e.interceptors.request.use(function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),a={},n&&(a=Object(r.a)(Object(r.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.patch(s,a)},createGroupChat:function(n){var r;n.groupName=null===n||void 0===n||null===(r=n.groupName)||void 0===r?void 0:r.substring(0,99),t(L(!0));var a="".concat(on,"/group");return e.post(a,n)},updateGroupChat:function(n,r){var a;r.newGroupName=null===r||void 0===r||null===(a=r.newGroupName)||void 0===a?void 0:a.substring(0,99),t(L(!0));var s="".concat(on,"/").concat(n);return e.patch(s,r)},createPrivateChat:function(n){t(L(!0));var r="".concat(on,"/private");return e.post(r,n)}}}var dn="/users";function un(){var e=tt(),t=Object(u.b)();return{login:function(n){t(L(!0));var r="".concat(dn,"/login");return e.post(r,n)},register:function(n){var r,a;n.firstName=null===n||void 0===n||null===(r=n.firstName)||void 0===r?void 0:r.substring(0,49),n.lastName=null===n||void 0===n||null===(a=n.lastName)||void 0===a?void 0:a.substring(0,49),t(L(!0));var s="".concat(dn,"/register");return e.post(s,n)},checkUserNameExists:function(t){if(t){var n="".concat(dn,"/").concat(t,"/isExists");return e.get(n)}return Promise.reject()},getFriendList:function(){var t="".concat(dn);return e.get(t)},getCurrentUser:function(){var t="".concat(dn,"/current");return e.get(t)},updateUser:function(n){t(L(!0));var a="".concat(dn);return e.interceptors.request.use(function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),a={},n&&(a=Object(r.a)(Object(r.a)({},t),{},{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.put(a,n)}}}var bn=function(e){var t=e.isOpen,n=e.setIsOpen,r=Object(s.useState)(Nt),a=Object(ue.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)(!1),l=Object(ue.a)(i,2),d=l[0],b=l[1],m=Object(s.useState)(!1),f=Object(ue.a)(m,2),j=f[0],x=f[1],v=Object(s.useState)(""),p=Object(ue.a)(v,2),h=p[0],g=p[1],O=Object(s.useState)(""),k=Object(ue.a)(O,2),w=k[0],N=k[1],C=Object(s.useState)([]),I=Object(ue.a)(C,2),S=I[0],E=I[1],U=Object(s.useState)([]),L=Object(ue.a)(U,2),R=L[0],A=L[1],F=Object(s.useRef)(),P=Object(s.useRef)(),M=Object(u.b)(),z=ln(),B=un();function D(e){27===e.keyCode&&n(!1)}function T(){return(T=Object(Ue.a)(Ee.a.mark((function e(){var t,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j&&(c===yt?(t={participantUserNames:R.map((function(e){return e.userName})),name:h},z.createGroupChat(t).then((function(e){e.id&&M(y(e.id)),A([]),g(""),n(!1)}))):c===Nt&&(r={participantUserName:R.map((function(e){return e.userName})).shift()},z.createPrivateChat(r).then((function(e){e.id&&M(y(e.id)),A([]),g(""),n(!1)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e=function(e){t&&F.current&&!F.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(s.useEffect)((function(){var e=function(e){d&&P.current&&!P.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[d]),Object(s.useEffect)((function(){return B.getFriendList().then((function(e){e&&E(e)})),function(){A([]),g("")}}),[]),Object(s.useEffect)((function(){if(c===yt){var e=(null===R||void 0===R?void 0:R.length)>=2&&(null===h||void 0===h?void 0:h.trim());x(e)}else c===Nt&&x(0!==(null===R||void 0===R?void 0:R.length))}),[R,h,c]),Object(s.useEffect)((function(){return document.addEventListener("keydown",D,!1),function(){document.removeEventListener("keydown",D,!1)}}),[]),t?Object(me.jsx)("div",{className:"overlay grid place-items-center px-4 py-10 z-30",style:{margin:0},children:Object(me.jsxs)("div",{ref:F,className:"animate-swipeDown px-6 md:px-14 md:py-6 flex flex-col bg-white dark:bg-dark-secondary dark:border-dark-third rounded-xl shadow-xl border border-gray-300 w-full md:w-5/6 lg:w-2/5 transition-all duration-300 ease-in-out max-h-full overflow-y-auto md:overflow-visible "+(d?"mb-16":""),children:[Object(me.jsxs)("div",{className:"flex pt-6 pb-5 justify-between h-full items-center",children:[Object(me.jsx)("h3",{className:"font-semibold text-lg md:text-2xl text-green-600 dark:text-green-400",children:"New chat!"}),Object(me.jsxs)("div",{className:"relative flex rounded-lg items-center border border-green-500 cursor-pointer overflow-hidden",children:[Object(me.jsx)("div",{className:"absolute bg-gradient-to-br from-green-400 to-green-600 w-1/2 h-full rounded transition-base z-0 "+(c===yt?"transform translate-x-full left-0":"left-0 ")}),Object(me.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(c===Nt?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(Nt)},children:"Private"}),Object(me.jsx)("span",{className:" px-3 py-2 z-10 text-xs md:text-sm select-none  "+(c===yt?"text-white":" text-green-600 dark:text-green-400"),onClick:function(){return o(yt)},children:"Group"})]})]}),Object(me.jsx)("div",{className:"space-y-2 md:space-y-4",children:c===yt?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)("div",{className:"space-y-2",children:[Object(me.jsxs)("label",{htmlFor:"groupName",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Group name ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",{id:"groupName",value:h,onChange:function(e){return g(e.target.value)},type:"text",className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "})]}),Object(me.jsxs)("div",{ref:P,className:"space-y-2",children:[Object(me.jsx)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:"Find Friends"}),Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)("input",{id:"search",type:"search",onFocus:function(){return b(!0)},value:w,autoComplete:"off",onChange:function(e){return N(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),d&&Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary dark:border-dark-hover border border-gray-300 border-opacity-50 rounded-lg w-full py-2 md:py-4 md:px-8 px-6 space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl",children:[Object(me.jsx)("h4",{className:"font-semibold mb-2 dark:text-gray-200",children:"Friend list"}),S.filter((function(e){var t,n;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===w||void 0===w?void 0:w.toLowerCase()))||(null===(n=e.userName)||void 0===n?void 0:n.toLowerCase().includes(null===w||void 0===w?void 0:w.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var n;return Object(me.jsxs)("div",{onClick:function(){var t=Object(we.a)(R);t.some((function(t){return t.userName===e.userName}))||(t.push(e),A(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(me.jsx)(ct,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(me.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(n=e.fullName)&&void 0!==n?n:Fe})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]})]}),Object(me.jsxs)("div",{className:"space-y-2",children:[Object(me.jsxs)("label",{htmlFor:"search",className:"font-semibold text-base md:text-lg dark:text-gray-200",children:["Selected ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(me.jsx)("span",{className:"text-sm text-gray-400",children:"(At least 2 people. Click to remove)"})]}),Object(me.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none",children:R.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).map((function(e,t){var n;return Object(me.jsxs)("div",{onClick:function(){var t=Object(we.a)(R),n=t.findIndex((function(t){return t.userName===e.userName}));n>=0&&(t.splice(n,1),A(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 dark:hover:bg-red-500 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(me.jsx)(ct,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(me.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(n=e.fullName)&&void 0!==n?n:Fe})]},t+(null===e||void 0===e?void 0:e.userName))}))})]})]}):Object(me.jsxs)("div",{ref:P,className:"space-y-2",children:[Object(me.jsx)("label",{htmlFor:"selectFriend",className:"font-semibold md:text-lg dark:text-gray-200",children:"Select Friends"}),Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)("input",{id:"selectFriend",type:"search",onFocus:function(){return b(!0)},value:w,autoComplete:"off",onChange:function(e){return N(e.target.value)},className:"dark:bg-dark-third bg-gray-100 rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 outline-none transition-base mb-2 "}),d&&Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"animate-fadeIn absolute top-full bg-white dark:bg-dark-secondary border border-gray-400 border-opacity-50 rounded-lg w-full space-y-1 max-h-36 md:max-h-72 overflow-y-auto select-none z-10 shadow-2xl py-2 md:py-4 md:px-8 px-6",children:[Object(me.jsx)("h4",{className:"font-semibold mb-2 text-start dark:text-gray-200",children:"Friend list"}),S.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})).filter((function(e){var t,n;return((null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(null===w||void 0===w?void 0:w.toLowerCase()))||(null===(n=e.userName)||void 0===n?void 0:n.toLowerCase().includes(null===w||void 0===w?void 0:w.toLowerCase())))&&!R.some((function(t){return t.userName===e.userName}))})).map((function(e,t){var n;return Object(me.jsxs)("div",{onClick:function(){var t=[];t.push(e),b(!1),A(t)},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-green-200 dark:hover:bg-green-600 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out",children:[Object(me.jsx)(ct,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(me.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate text-sm md:text-base",children:null!==(n=e.fullName)&&void 0!==n?n:Fe})]},t+(null===e||void 0===e?void 0:e.userName))}))]})})]}),Object(me.jsxs)("div",{className:"space-y-2",children:[Object(me.jsxs)("label",{htmlFor:"search",className:"font-semibold md:text-lg dark:text-gray-200",children:["Selected ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})," ",Object(me.jsx)("span",{className:"text-sm text-gray-400",children:"(Click to remove)"})]}),Object(me.jsx)("div",{className:"bg-white dark:bg-dark-secondary border dark:border-dark-hover border-gray-400 border-opacity-50 rounded-lg w-full py-4 md:px-8 px-6 space-y-1 max-h-48 md:max-h-72 overflow-y-auto select-none ",children:Object(we.a)(R).map((function(e,t){var n;return 0===t?Object(me.jsxs)("div",{onClick:function(){var t=Object(we.a)(R),n=t.findIndex((function(t){return t.userName===e.userName}));n>=0&&(t.splice(n,1),A(t))},className:"h-full w-full rounded-lg px-3 py-2 flex items-center space-x-2  dark:bg-dark-third bg-gray-100 hover:bg-red-200 cursor-pointer transform active:scale-100 hover:scale-105 hover:shadow-xl transition-all duration-300 ease-in-out dark:hover:bg-red-500",children:[Object(me.jsx)(ct,{size:"xs",src:e.avatarUrl,userName:null===e||void 0===e?void 0:e.userName}),Object(me.jsx)("span",{className:"break-full w-full overflow-ellipsis truncate md:text-base text-sm",children:null!==(n=e.fullName)&&void 0!==n?n:Fe})]},t+(null===e||void 0===e?void 0:e.userName)):Object(me.jsx)(me.Fragment,{})}))})]})]})}),Object(me.jsx)("div",{className:"flex justify-end py-6 space-x-4",children:Object(me.jsxs)("div",{className:"space-x-2 flex items-center",children:[Object(me.jsx)(je,{outline:!0,content:"Close",onClick:function(){return n(!1)}}),Object(me.jsx)(je,{disabled:!j,content:"Create",onClick:function(){return function(){return T.apply(this,arguments)}()}})]})})]})}):""};var mn=function(e){var t=e.className,n=e.setChatNotificationNumber,r=Object(u.c)((function(e){return e.chats.selectedIds})),a=Object(u.c)((function(e){return e.users.currentUser})),c=Object(u.b)(),o=Object(s.useState)(!1),i=Object(ue.a)(o,2),l=i[0],d=i[1],b=Object(u.c)((function(e){return e.chats.chats})),m=Object(s.useState)(""),f=Object(ue.a)(m,2),j=f[0],x=f[1];return Object(s.useEffect)((function(){if(b){var e=b.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.numOfUnreadMessages)>0?1:0)}),0);n(e)}}),[b]),Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(bn,{isOpen:l,setIsOpen:d}),Object(me.jsxs)("div",{className:t+" bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-4 pt-4 pb-2 border dark:border-dark-hover",children:[Object(me.jsxs)("div",{className:"relative ",children:[Object(me.jsxs)("div",{className:"flex space-x-2 justify-between items-center mb-3 ",children:[Object(me.jsx)("input",{type:"search",className:"rounded-3xl bg-gray-100 px-4 pl-10 pr-3 py-2 focus:ring-2 focus:ring-green-400 focus:ring-opacity-50 outline-none transition-base w-full dark:bg-dark-third dark:text-white",placeholder:"Search TeeChat!",onChange:function(e){return x(e.target.value)}}),Object(me.jsx)(mt,{iconClass:"bx bxs-edit",onClick:function(){return d(!0)},className:"dark:bg-dark-third bg-gray-100"})]}),Object(me.jsx)("i",{className:"bx bx-search absolute text-xl top-1/4 left-3 transform text-gray-400 cursor-pointer"})]}),Object(me.jsx)("div",{className:"max-h-500 overflow-y-auto pr-2 pb-48 md:pb-0",children:b&&fn(b,j).map((function(e,t){var n,s,o,i,l,d,u,b=a.userName;if(null===e||void 0===e?void 0:e.participants.some((function(e){return e.userName===b}))){var m,f=(null===e||void 0===e?void 0:e.participants.length)>1?null===e||void 0===e||null===(n=e.participants)||void 0===n?void 0:n.filter((function(e){return e.userName!==b})).shift():a,j={};if(0!==(null===(s=e.messages)||void 0===s?void 0:s.length))j=null===(m=e.messages)||void 0===m?void 0:m.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t}));return Object(me.jsxs)("div",{className:"relative select-none w-full h-16 flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return function(e){if(r&&!r.includes(e)){var t=y(e);c(t)}}(e.id)},children:[e.numOfUnreadMessages>0&&Object(me.jsx)("span",{className:"w-6 h-6 absolute right-2 top-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle",children:e.numOfUnreadMessages>9?"9+":e.numOfUnreadMessages}),Object(me.jsx)(ct,{src:(null===e||void 0===e?void 0:e.type)===Nt?null===f||void 0===f?void 0:f.avatarUrl:null===e||void 0===e?void 0:e.groupAvatarUrl,participants:null===e||void 0===e?void 0:e.participants}),Object(me.jsxs)("div",{className:"font-primary flex flex-col pl-3 justify-between items-start h-full truncate w-full",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center w-full min-w-0 space-x-3",children:[Object(me.jsx)("span",{className:"text-gray-800 truncate dark:text-dark-txt "+(e.numOfUnreadMessages>0?"font-bold":""),children:(null===e||void 0===e?void 0:e.type)===Nt?null===f||void 0===f?void 0:f.fullName:null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:Ae}),Object(me.jsx)("span",{className:"text-sm text-gray-500 truncate flex-shrink-0",children:null===(i=qt()(new Date(null!==(d=null===(u=j)||void 0===u?void 0:u.dateCreated)&&void 0!==d?d:null===e||void 0===e?void 0:e.dateCreated),"YYYYMMDD").fromNow())||void 0===i||null===(l=i.replace("ago",""))||void 0===l?void 0:l.trim()})]}),Object(me.jsx)("div",{className:"flex",children:Object(me.jsx)("span",{className:"mr-2 text-sm text-gray-500 truncate overflow-hidden flex-grow "+(e.numOfUnreadMessages>0?"font-bold mr-10":""),children:j.content?j.content:j.imageUrl?"Sent you an image":""})})]})]},e.id)}}))}),Object(me.jsx)("a",{href:"https://pctrung.github.io/TeeChat",target:"_blank",rel:"noreferrer",className:"font-semibold text-center text-sm text-green-500 hover:text-green-600 cursor-pointer block pt-2 mt-3 border-t-2 border-gray-100 dark:border-dark-third transition-base",children:"See all in TeeChat!"})]})]})};function fn(e,t){var n=function(e){if(e)return Object(we.a)(e).sort((function(e,t){var n,r,a,s,c,o,i={},l={};0!==(null===(n=e.messages)||void 0===n?void 0:n.length)?i=null===(c=e.messages)||void 0===c?void 0:c.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):i.dateCreated=null===e||void 0===e?void 0:e.dateCreated;0!==(null===(r=t.messages)||void 0===r?void 0:r.length)?l=null===(o=t.messages)||void 0===o?void 0:o.reduce((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)>(null===t||void 0===t?void 0:t.dateCreated)?e:t})):l.dateCreated=null===t||void 0===t?void 0:t.dateCreated;return(null===(a=i)||void 0===a?void 0:a.dateCreated)<(null===(s=l)||void 0===s?void 0:s.dateCreated)?1:-1}))}(e);return n=function(e,t){if(e)return e.filter((function(e){var n;return(null===e||void 0===e?void 0:e.participants.some((function(e){return!(!e.fullName.toLowerCase().includes(t.toLowerCase())&&!(null===e||void 0===e?void 0:e.userName.toLowerCase().includes(t.toLowerCase())))})))||(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}))}(n,t)}var jn="/notifications";function xn(){var e=tt();return{getAll:function(t){var n;(null===(n=t)||void 0===n?void 0:n.limit)||(t=Object(r.a)(Object(r.a)({},t),{},{limit:Le}));var a="".concat(jn);return e.get(a,{params:t})},readAll:function(){var t="".concat(jn,"/read");return e.patch(t)},readById:function(t){var n="".concat(jn,"/").concat(t,"/read");return e.patch(n)}}}var vn=function(e){var t,n=e.notification,r=e.onClick;return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:"relative select-none w-full flex flex-start items-center cursor-pointer hover:bg-gray-100 p-2  rounded-lg transition-base dark:hover:bg-dark-third dark:text-dark-txt",onClick:function(){return r(n)},children:[!(null===n||void 0===n?void 0:n.isRead)&&Object(me.jsx)("span",{className:"w-3 h-3 absolute right-2 top-1/2 transform -translate-y-1/2 text-xs font-bold p-1 bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle"}),Object(me.jsxs)("div",{className:"relative flex-shrink-0",children:[Object(me.jsx)(ct,{src:null===n||void 0===n||null===(t=n.creator)||void 0===t?void 0:t.avatarUrl}),(null===n||void 0===n?void 0:n.type)===St&&Object(me.jsx)("div",{className:"h-5 w-5 absolute -right-1 top-full transform -translate-y-4 ",children:Object(me.jsx)("img",{src:zt[n.reactionType],alt:Mt[n.reactionType],className:"w-full h-full"})})]}),Object(me.jsx)("div",{className:"font-primary flex flex-col pl-3 justify-between w-full max-w-lg",children:Object(me.jsxs)("div",{className:"flex flex-col justify-between items-start w-full min-w-0",children:[Object(me.jsx)("span",{className:"text-gray-800 dark:text-dark-txt max-w-full overflow-ellipsis break-word max-row-2 "+((null===n||void 0===n?void 0:n.isRead)?"":"font-bold"),children:null===n||void 0===n?void 0:n.content}),Object(me.jsx)("span",{className:"text-sm text-gray-500 truncate flex-shrink-0 "+((null===n||void 0===n?void 0:n.isRead)?"":"font-bold"),children:qt()(new Date(null===n||void 0===n?void 0:n.dateCreated),"YYYYMMDD").fromNow()})]})})]})})};var pn=function(e){var t,n,r,a=e.className,c=e.setIsOpen,o=e.setNotificationNumber,i=xn(),l=Object(u.b)(),b=Object(d.g)(),m=Object(s.useState)(1),f=Object(ue.a)(m,2),j=f[0],x=f[1],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(s.useState)(!1),n=Object(ue.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object(ue.a)(c,2),i=o[0],l=o[1],d=Object(u.c)((function(e){return e.app.notifications})),b=Object(s.useState)(!0),m=Object(ue.a)(b,2),f=m[0],j=m[1],x=xn(),v=Object(u.b)();return Object(s.useEffect)((function(){if(f){a(!0),l(!1);var t={page:e};x.getAll(t).then((function(t){v(e>1?B(t):P(t)),j(e<t.pageCount),a(!1)})).catch((function(e){l(e)}))}}),[e]),{notifications:d,isLoading:r,error:i,isHasMore:f}}(j),p=v.notifications,h=v.isHasMore,g=v.isLoading,O=v.error;function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(e.isRead||(l(z(e.id)),i.readById(e.id)),e.type){case It:case St:(null===e||void 0===e?void 0:e.postId)&&b.push("/posts/"+(null===e||void 0===e?void 0:e.postId));break;case Et:case Ut:case Lt:b.push("/friends")}c(!1)}return Object(s.useEffect)((function(){if(p.items){var e=p.items.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.isRead)?0:1)}),0);o(e)}}),[p]),Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)("div",{className:a+" flex flex-col bg-white dark:bg-dark-secondary shadow-lg rounded-xl px-5 py-4 pb-3 border dark:border-dark-hover ",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center",children:[Object(me.jsx)("span",{className:"text-lg md:text-2xl font-bold mb-2",children:"Notifications"}),Object(me.jsx)("span",{className:"text-green-600 hover:text-green-700 active:text-green-800 dark:text-green-400 dark:hover:text-green-300 dark:active:text-green-200 cursor-pointer select-none transition-base text-sm",onClick:function(){l(M()),i.readAll()},children:"Mark all as read"})]}),Object(me.jsxs)("div",{className:"overflow-y-auto max-h-full",children:[p&&(null===(t=Object(we.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return!e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===t?void 0:t.map((function(e,t){return Object(me.jsx)(vn,{onClick:k,notification:e},e.id)}))),p&&(null===(n=Object(we.a)(null===p||void 0===p?void 0:p.items).filter((function(e){return e.isRead})).sort((function(e,t){return(null===e||void 0===e?void 0:e.dateCreated)<(null===t||void 0===t?void 0:t.dateCreated)?1:-1})))||void 0===n?void 0:n.map((function(e,t){return Object(me.jsx)(vn,{onClick:k,notification:e},e.id)}))),Object(me.jsx)(Ce,{className:"mt-2",onClick:function(){h&&x((function(e){return e+1}))},isLoading:g,error:O,isHasMore:h,loadMoreContent:"Load more notifications..."})]}),(null===p||void 0===p||null===(r=p.items)||void 0===r?void 0:r.length)<1&&Object(me.jsx)("span",{className:"mt-2",children:"Do not have any notifications"})]})})},hn=[{name:"Home",icon:"bx bxs-home",inactiveIcon:"bx bx-home",route:"/"},{name:"Friends",icon:"bx bxs-group",inactiveIcon:"bx bx-group",route:"/friends"}];var gn=function(e){e.refreshPosts;var t=Object(d.g)(),n=Object(u.b)(),r=Object(u.c)((function(e){return e.users.currentUser})),a=Object(u.c)((function(e){return e.posts.newPostTotal})),c=un(),o=rt(),i=Object(d.h)(),b=Object(s.useState)(0),m=Object(ue.a)(b,2),f=m[0],j=m[1],x=Object(s.useState)(0),v=Object(ue.a)(x,2),p=v[0],h=v[1],g=cn(),O=g.darkMode,k=g.setDarkMode,w=Object(s.useState)(""),N=Object(ue.a)(w,2),y=N[0],C=N[1],I=Object(s.useState)(!1),S=Object(ue.a)(I,2),E=S[0],U=S[1],L=Object(s.useState)(!1),R=Object(ue.a)(L,2),A=R[0],F=R[1],P=Object(s.useState)(!1),M=Object(ue.a)(P,2),z=M[0],B=M[1],D=Object(s.useState)({isOpen:!1,title:"",content:"",confirmButtonTitle:""}),T=Object(ue.a)(D,2),Y=T[0],q=T[1],G=Object(s.useRef)();function W(){window.localStorage.removeItem("token"),window.location.href="/TeeApp/"}return Object(s.useEffect)((function(){c.getCurrentUser().then((function(e){n(H(e))}))}),[]),Object(s.useEffect)((function(){var e=function(e){z&&G.current&&!G.current.contains(e.target)&&B(!1),E&&G.current&&!G.current.contains(e.target)&&U(!1),A&&G.current&&!G.current.contains(e.target)&&F(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[z,A,E]),Object(me.jsxs)(me.Fragment,{children:[Y.isOpen&&Object(me.jsx)(Tt,{isOpen:Y.isOpen,closeAction:function(){return q({isOpen:!1})},title:"Are you sure?",content:Y.content,confirmButtonTitle:Y.confirmButtonTitle,confirmButtonAction:Y.confirmButtonAction}),Object(me.jsx)("div",{className:"fixed top-0 bg-white dark:bg-dark-secondary dark:text-white w-screen p-2 shadow z-20",children:Object(me.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[Object(me.jsxs)("div",{className:"flex space-x-4 flex-shrink-0",children:[Object(me.jsx)(l.b,{to:"/",children:Object(me.jsx)("img",{src:sn,alt:"Logo",className:"h-10 w-10 cursor-pointer"})}),Object(me.jsx)(mt,{iconClass:"bx bx-search",className:"md:hidden"}),Object(me.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t.push("/search/"+y)}(e)},className:"relative  md:block hidden",children:[Object(me.jsx)("input",{type:"search",className:"bg-gray-100 dark:bg-dark-third dark:text-white rounded-full outline-none pl-10 pr-3 py-2 focus:ring-2 ring-green-400 ring-opacity-50 transition-base select-none",placeholder:"Search TeeApp!",value:y,onChange:function(e){return C(e.target.value)}}),Object(me.jsx)("i",{className:"bx bx-search absolute text-xl top-1/2 left-3 transform text-gray-400 -translate-y-1/2 cursor-pointer"})]})]}),Object(me.jsx)("div",{className:"flex text-3xl text-green-500",children:hn.map((function(e){var r=i.pathname,s=e.route===r,c=s?e.icon:e.inactiveIcon;return Object(me.jsxs)("div",{className:"relative group "+(s?" border-b-4 border-green-500":""),onClick:function(){return function(e,r){r?(window.scrollTo({top:0,left:0,behavior:"smooth"}),n(ie()),o.getAll().then((function(e){n($(e))}))):t.push(e)}(e.route,s)},children:[Object(me.jsx)("i",{className:"select-none py-2 px-6 rounded-lg hover:bg-gray-100 active:bg-gray-200 dark:hover:bg-dark-third dark:active:bg-dark-hover transition-base cursor-pointer  ".concat(c)}),Object(me.jsx)("div",{className:"select-none animate-fadeIn group-hover:block absolute top-full left-1/2 hidden bg-black dark:bg-white dark:bg-opacity-80 bg-opacity-60 px-1 rounded transform -translate-x-1/2 translate-y-2 text-white dark:text-black text-sm font-title p-1",children:e.name}),"home"===e.name.toLowerCase()&&a>0&&Object(me.jsx)("span",{className:"animate-fadeIn absolute top-1 right-1 bg-green-500 dark:bg-green-600 text-white rounded-full select-none text-xs font-bold w-3 h-3"})]},e.route)}))}),Object(me.jsxs)("ul",{className:"flex items-center space-x-2",ref:G,children:[Object(me.jsxs)("li",{className:"active:transform active:scale-95 p-1 h-full rounded-full flex items-center dark:hover:bg-dark-third hover:bg-gray-200 transition-base cursor-pointer select-none mr-3",onClick:function(){return e=r.userName,void t.push("/profile/"+e);var e},children:[Object(me.jsx)(ct,{src:r.avatarUrl,size:"sm"}),Object(me.jsx)("span",{className:"px-2 font-semibold",children:r.firstName})]}),Object(me.jsxs)("li",{className:"relative",children:[Object(me.jsx)(mt,{className:"p-2  "+(E?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-100":""),iconClass:"bx bxs-message-rounded-dots",colorClass:E?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:E?"text-green-600 dark:text-green-400":"",onClick:function(){U(!E),B(!1),F(!1)}}),f>0&&!E&&Object(me.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:f>9?"9+":f})]}),Object(me.jsxs)("li",{className:"relative",children:[Object(me.jsx)("span",{className:"dark:bg-green-600"}),Object(me.jsx)(mt,{className:"p-2",colorClass:A?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",iconClass:"bx bxs-bell",colorIconClass:A?"text-green-600 dark:text-green-400":"",onClick:function(){U(!1),B(!1),F(!A)}}),p>0&&!A&&Object(me.jsx)("span",{className:"animate-fadeIn w-4 h-4 absolute right-0 top-full transform -translate-y-3/4 text-tiny font-bold bg-green-500 dark:bg-green-600 text-white rounded-full text-center align-middle select-none",children:p>9?"9+":p})]}),Object(me.jsx)("li",{children:Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)(mt,{iconClass:"bx bx-caret-down",colorClass:z?"bg-green-100 hover:bg-green-200 active:bg-green-300 dark:bg-green-900 dark:hover:bg-green-800 dark:active:bg-green-700 ":"",colorIconClass:z?"text-green-600 dark:text-green-400":"",onClick:function(){B(!z),U(!1),F(!1)}}),z&&Object(me.jsxs)("div",{className:"animate-fadeIn transition-base absolute top-full right-0 border border-gray-200 bg-white w-60 rounded-lg shadow-lg overflow-hidden p-2 dark:bg-dark-secondary dark:border-dark-hover mt-2 select-none z-30",children:[Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){return k(!O)},children:[Object(me.jsx)("i",{className:"text-center-middle text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7 bx  "+(O?" bx-sun":" bx-moon")}),Object(me.jsx)("span",{children:O?"Light Mode":"Dark Mode"})]}),Object(me.jsxs)("button",{className:"flex items-center space-x-3 w-full pl-2 pr-4 py-2 rounded-md text-left hover:bg-gray-100 active:bg-gray-200 transition-base transform active:scale-95 dark:hover:bg-dark-third",onClick:function(){!function(e,t){q({isOpen:!0,title:arguments.length>3?arguments[3]:void 0,content:e,confirmButtonTitle:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes",confirmButtonAction:t})}("Do you want to log out?",W)},children:[Object(me.jsx)("i",{className:"text-center-middle bx bx-log-in-circle text-center text-xl align-middle text-black dark:text-dark-txt w-7 h-7"}),Object(me.jsx)("span",{children:"Log Out"})]})]}),Object(me.jsx)(mn,{setChatNotificationNumber:j,className:"absolute animate-fadeIn top-full transform translate-y-3 right-0 lg:w-112 w-96 max-h-600  "+(E?"":"hidden")}),Object(me.jsx)(pn,{setIsOpen:F,className:"absolute animate-fadeIn top-full transform translate-y-3 right-0 lg:w-112 w-96 max-h-600 overflow-y-auto  "+(A?"":"hidden"),setNotificationNumber:h})]})})]})]})})]})},On=n(52);var kn=function(){var e=Object(u.b)(),t=Object(s.useState)(null),n=Object(ue.a)(t,2),r=n[0],a=n[1],c=Object(u.c)((function(e){return e.users.currentUser})),o=Object(u.c)((function(e){return e.chats.selectedId})),i=ln();return Object(s.useEffect)((function(){function t(){return(t=Object(Ue.a)(Ee.a.mark((function t(){return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.getAll().then((function(t){e(g(t.data))})).catch((function(e){console.error("Connection failed: ",e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){var e=(new On.a).withUrl("https://teeappapi.azurewebsites.net/hubs/chats",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();a(e)}),[]),Object(s.useEffect)((function(){return r&&!r.connectionStarted&&r.start().then((function(t){r.on(Pe,(function(t){var n=O(t);e(n),t.chatId&&o!==t.chatId&&e(w(t.chatId))})),r.on(Me,(function(t){var n=p(t);e(n),t.creatorUserName===c.userName&&e(y(t.id))})),r.on(ze,(function(t){var n=h(t);e(n)})),r.on(Be,(function(t){var n=k(t);e(n)})),r.on(De,(function(t){var n=N(t);e(n)})),r.on(Te,(function(t){var n=G(t);e(n)}))})),function(){r&&r.connectionStarted&&r.stop()}}),[r]),Object(me.jsx)("div",{})};var wn=function(e){var t=Object(u.c)((function(e){return e.app.isLoading})),n=Object(u.c)((function(e){return e.app.popup})),a=Object(u.b)(),c=Object(s.useState)(null),o=Object(ue.a)(c,2),i=o[0],b=o[1];return Object(s.useEffect)((function(){var e=(new On.a).withUrl("https://teeappapi.azurewebsites.net/hubs/app",{accessTokenFactory:function(){return localStorage.getItem("token")}}).withAutomaticReconnect().build();b(e)}),[]),Object(s.useEffect)((function(){return i&&!i.connectionStarted&&i.start().then((function(e){i.on($e,(function(e){a(F(e))})),i.on(Ye,(function(e){a(oe())})),i.on(qe,(function(e){a(J(e))})),i.on(He,(function(e){a(Q(e))})),i.on(Ke,(function(e){a(X(e))})),i.on(_e,(function(e){a(ee(e))})),i.on(Ze,(function(e,t){a(te({postId:e,reactionId:t}))})),i.on(Ge,(function(e){a(ne(e))})),i.on(We,(function(e){a(re(e))})),i.on(Ve,(function(e,t){a(ae({postId:e,commentId:t}))}))})),function(){i&&i.connectionStarted&&i.stop()}}),[i]),Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(l.a,{basename:"/TeeApp",children:[t&&Object(me.jsx)(fe,{isOpen:t,className:"z-50"}),n.isOpen&&Object(me.jsx)(xe,{title:n.title,isOpen:n.isOpen,content:n.content,onClick:function(){a(R({isOpen:!1}))}}),Object(me.jsx)(kn,{}),Object(me.jsx)(gn,Object(r.a)({},e)),Object(me.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-dark-primary dark:text-white min-h-screen pt-20",children:Object(me.jsx)("div",{className:"container mx-auto",children:Object(me.jsxs)(d.d,{children:[Object(me.jsx)(d.b,{exact:!0,path:"/Forbid",component:pe}),Object(me.jsx)(d.b,{exact:!0,path:"/ServerError",component:ke}),Object(me.jsx)(d.b,{exact:!0,path:"/",component:an}),Object(me.jsx)(d.b,{path:"*",component:ge})]})})})]})})},Nn=n.p+"static/media/login-page.0d15c2c6.svg";var yn=function(e){var t=e.value,n=void 0===t?"":t,r=e.onChange,a=e.id,s=e.type,c=void 0===s?"text":s,o=e.className;return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)("input",{value:n,onChange:r,id:a,type:c,className:"bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-80 dark:focus:ring-opacity-80 outline-none transition-base "+o})})};var Cn=function(){var e=Object(s.useState)(""),t=Object(ue.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(ue.a)(a,2),o=c[0],i=c[1],d=Object(s.useState)(""),u=Object(ue.a)(d,2),b=u[0],m=u[1],f=Object(s.useState)(!1),j=Object(ue.a)(f,2),x=j[0],v=j[1],p=Object(s.useState)(!1),h=Object(ue.a)(p,2),g=h[0],O=(h[1],un());function k(){return(k=Object(Ue.a)(Ee.a.mark((function e(t){var r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r={username:n,password:b},i(""),O.login(r).then((function(e){window.localStorage.setItem("token",e),window.location.href="/TeeApp/"})).catch((function(e){i("string"===typeof e?e:"Oops, something went wrong! Please contact administrator.")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){v(!(!n||!b))}),[n,b]),Object(me.jsxs)(me.Fragment,{children:[g&&Object(me.jsx)(fe,{}),Object(me.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto",children:[Object(me.jsx)("img",{src:Nn,alt:"login",className:"lg:block hidden"}),Object(me.jsxs)("form",{onSubmit:function(e){return function(e){return k.apply(this,arguments)}(e)},className:"container rounded-2xl flex flex-col lg:px-10 md:px-16 xl:px-16",children:[Object(me.jsx)("img",{src:be,alt:"login",className:"h-20 w-20 mx-auto mb-3"}),Object(me.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Login to TeeApp!"}),o&&Object(me.jsx)("span",{className:"bg-red-500 rounded-md text-white text-lg mb-2 py-2 text-center",children:null!==o&&void 0!==o?o:"Username or password is incorrect"}),Object(me.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(me.jsx)("label",{htmlFor:"username",className:"text-lg font-semibold px-1",children:"Username or email address"}),Object(me.jsx)(yn,{value:n,onChange:function(e){return r(e.target.value)},id:"username",type:"text"})]}),Object(me.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(me.jsx)("label",{htmlFor:"password",className:"text-lg font-semibold px-1",children:"Password"}),Object(me.jsx)(yn,{value:b,onChange:function(e){return m(e.target.value)},type:"password",id:"password"})]}),Object(me.jsx)(je,{disabled:!x,content:"Login",className:"mb-4 mt-2 font-bold"}),Object(me.jsxs)("div",{className:"text-center",children:["Not a member?"," ",Object(me.jsx)(l.b,{to:"/register",className:"text-green-600 dark:text-green-400 font-bold",children:"Sign up now"})]})]})]})]})},In=n(105),Sn=n(25),En=n(26);var Un=function(){var e,t,n,a,c,o,i,u,b=Object(s.useState)(!1),m=Object(ue.a)(b,2),f=m[0],j=m[1],x=Object(s.useState)(!1),v=Object(ue.a)(x,2),p=v[0],h=v[1],g=Object(s.useState)(!0),O=Object(ue.a)(g,2),k=O[0],w=O[1],N=Object(s.useState)({isOpen:!1,content:"",title:"Notification"}),y=Object(ue.a)(N,2),C=y[0],I=y[1],S=Object(d.g)(),E=un(),U="bg-gray-100 dark:bg-dark-hover dark:text-white rounded-lg w-full py-2 px-3 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:ring-opacity-80 dark:focus:ring-opacity-80 outline-none transition-base",L=En.b().shape({firstName:En.c().required("First Name is required"),lastName:En.c().required("Last Name is required"),dateOfBirth:En.a().required("Date of Birth is required").test("checkAge","Must be less than today",(function(e){return e<new Date})),userName:En.c().required("User Name is required").min(6,"Username must be 6-20 characters").max(20,"Username must be 6-20 characters").test("checkUsername","Username does not contain special characters",(function(e){return Ln(e,"^(?=[a-zA-Z0-9._])(?!.*[_.]{2})[^_.].*[^_.]$")})).test("existsUsername","Username is already taken",(function(e){return!k})),email:En.c().required("Email is required").test("checkEmail","Email is invalid",(function(e){return Ln(e,/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)})),password:En.c().required("Password is required").test("checkPassword","Passwords must be at least 8 characters, one digit, one uppercase, one non alphanumeric character",(function(e){return Ln(e,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$^+=!*()@%&]).{8,}$")})),confirmPassword:En.c().required("Confirm Password is required").test("ConfirmPasswordMatch","Password and Confirmation Password must match",(function(e){return e===T.password}))}),R=Object(Sn.d)({resolver:Object(In.a)(L),defaultValues:{}}),A=R.register,F=R.handleSubmit,P=R.control,M=R.setError,z=R.clearErrors,B=R.reset,D=R.formState.errors,T=Object(Sn.e)({control:P});Object(s.useEffect)((function(){E.checkUserNameExists(T.userName).then((function(e){e.isExists?(M("userName",{type:"required",message:"Username '".concat(T.userName,"' is already taken")},{shouldFocus:!0}),w(!0)):(z("userName"),w(!1))}))}),[T.userName]),Object(s.useEffect)((function(){!function(){var e,t,n;(null===(e=T.firstName)||void 0===e?void 0:e.trim())&&(null===(t=T.lastName)||void 0===t?void 0:t.trim())&&(null===(n=T.userName)||void 0===n?void 0:n.trim())&&T.email&&T.gender&&T.dateOfBirth&&T.password&&T.confirmPassword?j(!0):j(!1)}()}),[T]);var Y=function(){var e=Object(Ue.a)(Ee.a.mark((function e(t){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,E.register(t).then((function(e){q("Success",Object(me.jsxs)("span",{children:['"Create account successfully! Please'," ",Object(me.jsx)(l.b,{className:"font-bold text-green-600",to:"/login",children:"log in"}),'!"']})),B({})}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function q(e,t){I({isOpen:!0,title:e,content:t})}return Object(me.jsxs)(me.Fragment,{children:[p&&Object(me.jsx)(fe,{}),C.isOpen&&Object(me.jsx)(xe,{title:C.title,isOpen:C.isOpen,content:C.content,onClick:function(){I({isOpen:!1}),S.push("/login")}}),Object(me.jsxs)("div",{className:"animate-fadeIn fixed inset-0 bg-white dark:bg-dark-primary z-10 h-screen grid lg:grid-cols-2 place-items-center gap-32 md:px-32 px-6 overflow-auto pt-10 pb-20 md:py-0",children:[Object(me.jsx)("img",{src:Nn,alt:"login",className:"lg:block hidden"}),Object(me.jsxs)("form",{onSubmit:F(Y),className:"container rounded-2xl flex flex-col",children:[Object(me.jsx)("h1",{className:"text-3xl font-bold text-primary text-green-600 dark:text-green-400 text-center mb-8",children:"Sign up to TeeApp!"}),Object(me.jsxs)("div",{className:"mb-3 grid md:grid-cols-4 md:col-span-5 place-items-start ",children:[Object(me.jsxs)("div",{className:"col-span-2 space-y-2 md:mr-2 w-full",children:[Object(me.jsxs)("label",{htmlFor:"fistName",className:"text-lg font-semibold ",children:["First Name ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({},A("firstName")),{},{type:"text",className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(e=D.firstName)||void 0===e?void 0:e.message})]}),Object(me.jsxs)("div",{className:"col-span-2 space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(me.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold ",children:["Last Name ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({},A("lastName")),{},{type:"text",className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(t=D.lastName)||void 0===t?void 0:t.message})]})]}),Object(me.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(me.jsxs)("label",{htmlFor:"userName",className:"text-lg font-semibold ",children:["Username ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({},A("userName")),{},{type:"text",className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(n=D.userName)||void 0===n?void 0:n.message})]}),Object(me.jsxs)("div",{className:"space-y-2 mb-3",children:[Object(me.jsxs)("label",{htmlFor:"email",className:"text-lg font-semibold ",children:["Email ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({},A("email")),{},{type:"text",className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(a=D.email)||void 0===a?void 0:a.message})]}),Object(me.jsxs)("div",{className:"mb-3 grid grid-cols-2 place-items-start ",children:[Object(me.jsxs)("div",{className:"col-span-2 md:col-span-1 space-y-2 w-full",children:[Object(me.jsxs)("label",{htmlFor:"gender",className:"text-lg font-semibold ",children:["Gender ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsxs)("div",{className:"flex justify-evenly items-center text-center space-x-1 px-5 select-none relative h-full",children:[Object(me.jsxs)("label",{className:"w-16 cursor-pointer z-20 rounded-lg px-3 transition-base "+(T.gender===Ct.MALE.toString()?"bg-green-500 text-white":""),htmlFor:"male",children:["\u2642",Object(me.jsx)("br",{}),"Male"]}),Object(me.jsxs)("label",{className:"w-16 cursor-pointer z-20 rounded-lg px-1 transition-base "+(T.gender===Ct.FEMALE.toString()?"bg-green-500 text-white":""),htmlFor:"female",children:["\u2640",Object(me.jsx)("br",{}),"Female"]}),Object(me.jsxs)("label",{className:"w-16 cursor-pointer z-20 rounded-lg px-3 transition-base "+(T.gender===Ct.OTHER.toString()?"bg-green-500 text-white":""),htmlFor:"other",children:["\u26a5",Object(me.jsx)("br",{}),"Other"]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({hidden:!0},A("gender")),{},{id:"male",name:"gender",type:"radio",value:Ct.MALE})),Object(me.jsx)("input",Object(r.a)(Object(r.a)({hidden:!0},A("gender")),{},{id:"female",name:"gender",type:"radio",value:Ct.FEMALE})),Object(me.jsx)("input",Object(r.a)(Object(r.a)({hidden:!0},A("gender")),{},{id:"other",name:"gender",type:"radio",value:Ct.OTHER}))]}),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(c=D.gender)||void 0===c?void 0:c.message})]}),Object(me.jsxs)("div",{className:"col-span-2 md:col-span-1 flex flex-col space-y-2 md:ml-2 mt-2 md:mt-0 w-full",children:[Object(me.jsxs)("label",{htmlFor:"lastName",className:"text-lg font-semibold",children:["Date of Birth ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({},A("dateOfBirth")),{},{type:"date",className:U+" w-full"})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(o=D.dateOfBirth)||void 0===o?void 0:o.message})]})]}),Object(me.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(me.jsxs)("label",{htmlFor:"password",className:"text-lg font-semibold ",children:["Password ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},A("password")),{},{className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(i=D.password)||void 0===i?void 0:i.message})]}),Object(me.jsxs)("div",{className:"space-y-2 mb-2",children:[Object(me.jsxs)("label",{htmlFor:"confirmPassword",className:"text-lg font-semibold ",children:["Confirm Password ",Object(me.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(me.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},A("confirmPassword")),{},{className:U})),Object(me.jsx)("div",{className:"text-red-500 text-sm",children:null===(u=D.confirmPassword)||void 0===u?void 0:u.message})]}),Object(me.jsx)(je,{disabled:!f,content:"Sign Up",className:"mb-4 mt-2 font-bold"}),Object(me.jsxs)("div",{className:"text-center",children:["Already a member?"," ",Object(me.jsx)(l.b,{to:"/login",className:"text-green-600 dark:text-green-400 font-bold",children:"Log in"})]})]})]})]})};function Ln(e,t){if(e&&t)return new RegExp(t).test(e)}n(249),n(250),n(251);var Rn=["component"];function An(e){var t=e.component,n=Object(a.a)(e,Rn),s=!!window.localStorage.getItem("token");return Object(me.jsx)(d.b,Object(r.a)(Object(r.a)({},n),{},{render:function(e){return!0===s?Object(me.jsx)(t,Object(r.a)({},e)):Object(me.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}i.a.render(Object(me.jsx)(c.a.StrictMode,{children:Object(me.jsx)(u.a,{store:de,children:Object(me.jsx)(l.a,{basename:"/TeeApp",children:Object(me.jsxs)(d.d,{children:[Object(me.jsx)(d.b,{exact:!0,path:"/login",component:Cn}),Object(me.jsx)(d.b,{exact:!0,path:"/register",component:Un}),Object(me.jsx)(An,{path:"*",component:wn})]})})})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.a851afbe.chunk.js.map